var MoveToElement=0,LineToElement=1,CurveToElement=2,CurveToDataElement=3,Misc={Pen:function(t,e,i){if("object"==typeof t)return new Misc.Pen(t.color,t.width,t.style);this.color="black",this.width=1,this.style="solid",this.toString=function(){return"[color:"+this.color+", width:"+this.width+", style:"+this.style+"]"},void 0!==i&&(this.style=i),void 0!==e&&(this.width=e),void 0!==t&&(this.color=t),this.isEqual=function(t){return this.color==t.color&&this.style==t.style&&this.width==t.width}},Brush:function(t){this.color=Static.NoBrush,void 0!==t&&(this.color=t),this.toString=function(){return"[Brush: "+this.color+"]"},this.isEqual=function(t){return this.color==t.color}},Line:function(t,e){var i=t,n=e;this.p1=function(){return i},this.p2=function(){return n},this.x1=function(){return i.x},this.x2=function(){return n.x},this.y1=function(){return i.y},this.y2=function(){return n.y},this.length=function(){return Math.sqrt(n.x-i.x^n.y-i.y+2^2)},this.x2=function(){return n.x}},Size:function(t,e){t instanceof Misc.Size&&(e=t.height,t=t.width),this.width=0,this.height=0,void 0!==e&&(this.width=t,this.height=e),this.isValid=function(){return!(this.width<0||this.height<0)},this.isEqual=function(t){return this.width==t.width&&this.height==t.height},this.expandedTo=function(t){return new Misc.Size(Math.max(this.width,t.width),Math.max(this.height,t.height))},this.toString=function(){return"["+this.width+", "+this.height+"]"}},Point:function(t,e){this.x=0,this.y=0,void 0!==e&&(this.y=e),void 0!==t&&(this.x=t),this.toString=function(){return"("+this.x+", "+this.y+")"},this.isEqual=function(t){return this.x===t.x&&this.y===t.y},this.interpolatedPoint=function(t,e){if(e==t.x)return t;if(e==this.x)return this;var i=(this.y-t.y)/(this.x-t.x)*(e-t.x)+t.y;return new Misc.Point(e,i)}},Rect:function(t,e,i,n){var o=0,a=0,s=-1,r=-1,l=-1,c=-1;void 0!==n?(s=(o=t)+(l=i),r=(a=e)+(c=n)):void 0!==i?(o=t.x,a=t.y,s=o+(l=e),r=a+(c=i)):void 0!==e&&(o=t.x,a=t.y,void 0!==e.x?(s=e.x,r=e.y,l=s-o,c=r-a):(l=e.width,c=e.height,s=o+l,r=a+c)),this.size=function(){return new Misc.Size(this.width(),this.height())},this.setSize=function(t){this.setWidth(t.width),this.setHeight(t.height)},this.setRect=function(t,e,i,n){s=(o=t)+(l=i),r=(a=e)+(c=n)},this.left=function(){return o},this.setLeft=function(t){o!==t&&(l=s-(o=t))},this.top=function(){return a},this.setTop=function(t){a!==t&&(c=r-(a=t))},this.right=function(){return s},this.setRight=function(t){s!==t&&(l=(s=t)-o)},this.bottom=function(){return r},this.setBottom=function(t){r!==t&&(c=(r=t)-a)},this.width=function(){return l},this.setWidth=function(t){l!==t&&(s=o+(l=t))},this.height=function(){return c},this.setHeight=function(t){c!==t&&(r=a+(c=t))},this.united=function(t){return new Misc.Rect(Math.min(o,t.left()),Math.min(a,t.top()),Math.max(s,t.right())-Math.min(o,t.left()),Math.max(r,t.bottom())-Math.min(a,t.top()))},this.normalized=function(){var t=new Misc.Rect(o,a,l,c);if(t.width()<0){var e=t.right();t.setRight(t.left()),t.setLeft(e)}if(c<0){e=t.bottom();t.setBottom(t.top()),t.setTop(e)}return t},this.center=function(){return new Misc.Point(.5*(o+s),.5*(a+r))},this.moveTopLeft=function(t){o=t.x,a=t.y,s=t.x+l,r=t.y+c},this.moveBottomRight=function(t){s=t.x,r=t.y,o=t.x-l,a=t.y-c},this.moveCenter=function(t){s=t.x+.5*l,r=t.y+.5*c,o=t.x-.5*l,a=t.y-.5*c},this.intersects=function(t){var e=Math.max(this.left(),t.left()),i=this.left()+this.width(),n=t.left()+t.width();if(Math.min(i,n)>e){var o=Math.max(this.top(),t.top()),a=this.top()+this.height(),s=t.top()+t.height();if(Math.min(a,s)>o)return!0}return!1},this.adjusted=function(t,e,i,n){var l=new Misc.Point(o+t,a+e),c=new Misc.Point(s+i,r+n);return new Misc.Rect(l,c)},this.contains=function(t,e){return void 0===e||!0===e?t.x>this.left()&&t.y>this.top()&&t.x<this.right()&&t.y<this.bottom():t.x>=this.left()&&t.y>=this.top()&&t.x<=this.right()&&t.y<=this.bottom()},this.isEqual=function(t){return this.left()==t.left()&&this.right()==t.right()&&this.top()==t.top()&&this.bottom()==t.bottom()},this.leftTop=function(){return new Misc.Point(o,a)},this.topLeft=function(){return this.leftTop()},this.rightTop=function(){return new Misc.Point(s,a)},this.leftBottom=function(){return new Misc.Point(o,r)},this.rightBottom=function(){return new Misc.Point(s,r)},this.bottomRight=function(){return this.rightBottom()},this.toString=function(){return"["+o+", "+a+", "+l+", "+c+"]"}},Font:function(t,e,i,n,o){"object"==typeof t?(this.th=t.th,this.name=t.name,this.style=t.style,this.weight=t.weight,this.fontColor=t.fontColor):(this.th=12,this.name="Arial",this.style="normal",this.weight="normal",this.fontColor="black"),"object"!=typeof t&&(void 0!==o&&(this.fontColor=o),void 0!==n&&(this.weight=n),void 0!==i&&(this.style=i),void 0!==e&&(this.name=e),void 0!==t&&(this.th=t)),this.textSize=function(t){if(""==t||void 0===t)return new Misc.Size(0,0);var e=$("<canvas />"),i=e[0].getContext("2d");i.font=this.weight+" "+this.style+" "+this.th+"px "+this.name;var n=1.16*i.measureText(t).width,o=i.measureText("M").width;return e.remove(),new Misc.Size(n,o)},this.toString=function(){return"[th:"+this.th+", name:"+this.name+", style:"+this.style+", weight:"+this.weight+", color:"+this.fontColor+"]"}},MPath:function(){var t=function(t,e,i){this.type=MoveToElement,this.x=0,this.y=0,void 0!==e&&(this.x=e),void 0!==i&&(this.y=i),void 0!==t&&(this.type=t),this.toString=function(){return"[MPathElement: type("+this.type+"), point"+new Misc.Point(this.x,this.y)+"]"}},e=[];this.data={},this.elementCount=function(){return e.length},this.elementAt=function(t){return t<0||t>=e.length?null:e[t]},this.moveTo=function(i,n){e.push(new t(MoveToElement,i,n))},this.lineTo=function(i,n){e.push(new t(LineToElement,i,n))},this.cubicTo=function(i,n,o,a,s,r){e.push(new t(CurveToElement,i,n)),e.push(new t(CurveToElement,o,a)),e.push(new t(CurveToElement,s,r))},this.toString=function(){return"[MPath: elementCount = "+e.length+"]"},this.isEmpty=function(){return 0==e.length},this.addRect=function(i){e.push(new t(MoveToElement,i.left(),i.top())),e.push(new t(LineToElement,i.right(),i.top())),e.push(new t(LineToElement,i.right(),i.bottom())),e.push(new t(LineToElement,i.left(),i.bottom())),e.push(new t(LineToElement,i.left(),i.top()))},this.addPolygon=function(i){if(i&&i.length){e.push(new t(MoveToElement,i[0].x,i[0].y));for(var n=1;n<i.length;++n)e.push(new t(LineToElement,i[n].x,i[n].y))}},this.boundingRect=function(){for(var t=0,i=0,n=0,o=0,a=!1,s=0;s<e.length;s++){var r=e[s];switch(r.type){case LineToElement:case MoveToElement:case CurveToElement:a||(t=r.x,i=r.y,n=r.x,o=r.y,a=!0),t=Math.min(t,r.x),n=Math.max(n,r.x),i=Math.min(i,r.y),o=Math.max(o,r.y)}}return new Misc.Rect(t,i,n-t,o-i)}}};define("miscObjects",function(){}),function(t,e){"function"==typeof define&&define.amd?define("regression",e):"undefined"!=typeof module?module.exports=e():t.regression=e()}(this,function(){"use strict";function t(t,e){var i=t.reduce(function(t,e){return t+e[1]},0)/t.length,n=t.reduce(function(t,e){var n=e[1]-i;return t+n*n},0);return 1-t.reduce(function(t,i,n){var o=e[n],a=i[1]-o[1];return t+a*a},0)/n}function e(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i}var i={linear:function(i,n,o){for(var a,s,r,l=[0,0,0,0,0],c=i.length,u=0;u<c;u++)null!==i[u][1]&&(l[0]+=i[u][0],l[1]+=i[u][1],l[2]+=i[u][0]*i[u][0],l[3]+=i[u][0]*i[u][1],l[4]+=i[u][1]*i[u][1]);return s=(c*l[3]-l[0]*l[1])/(c*l[2]-l[0]*l[0]),r=l[1]/c-s*l[0]/c,{r2:t(i,a=i.map(function(t){var e=t[0];return[e,s*e+r]})),equation:[s,r],points:a,string:"y = "+e(s,o.precision)+"x + "+e(r,o.precision)}},linearthroughorigin:function(i,n,o){for(var a,s,r=[0,0],l=0;l<i.length;l++)null!==i[l][1]&&(r[0]+=i[l][0]*i[l][0],r[1]+=i[l][0]*i[l][1]);return a=r[1]/r[0],{r2:t(i,s=i.map(function(t){var e=t[0];return[e,a*e]})),equation:[a],points:s,string:"y = "+e(a,o.precision)+"x"}},exponential:function(i,n,o){for(var a,s,r,l,c=[0,0,0,0,0,0],u=0;u<i.length;u++)null!==i[u][1]&&(c[0]+=i[u][0],c[1]+=i[u][1],c[2]+=i[u][0]*i[u][0]*i[u][1],c[3]+=i[u][1]*Math.log(i[u][1]),c[4]+=i[u][0]*i[u][1]*Math.log(i[u][1]),c[5]+=i[u][0]*i[u][1]);return a=c[1]*c[2]-c[5]*c[5],s=Math.exp((c[2]*c[3]-c[5]*c[4])/a),r=(c[1]*c[4]-c[5]*c[3])/a,{r2:t(i,l=i.map(function(t){var e=t[0];return[e,s*Math.exp(r*e)]})),equation:[s,r],points:l,string:"y = "+e(s,o.precision)+"e^("+e(r,o.precision)+"x)"}},logarithmic:function(i,n,o){for(var a,s,r,l=[0,0,0,0],c=i.length,u=0;u<c;u++)null!==i[u][1]&&(l[0]+=Math.log(i[u][0]),l[1]+=i[u][1]*Math.log(i[u][0]),l[2]+=i[u][1],l[3]+=Math.pow(Math.log(i[u][0]),2));return s=(c*l[1]-l[2]*l[0])/(c*l[3]-l[0]*l[0]),a=(l[2]-s*l[0])/c,{r2:t(i,r=i.map(function(t){var e=t[0];return[e,a+s*Math.log(e)]})),equation:[a,s],points:r,string:"y = "+e(a,o.precision)+" + "+e(s,o.precision)+" ln(x)"}},power:function(i,n,o){for(var a,s,r,l=[0,0,0,0],c=i.length,u=0;u<c;u++)null!==i[u][1]&&(l[0]+=Math.log(i[u][0]),l[1]+=Math.log(i[u][1])*Math.log(i[u][0]),l[2]+=Math.log(i[u][1]),l[3]+=Math.pow(Math.log(i[u][0]),2));return s=(c*l[1]-l[2]*l[0])/(c*l[3]-l[0]*l[0]),a=Math.exp((l[2]-s*l[0])/c),{r2:t(i,r=i.map(function(t){var e=t[0];return[e,a*Math.pow(e,s)]})),equation:[a,s],points:r,string:"y = "+e(a,o.precision)+"x^"+e(s,o.precision)}},polynomial:function(i,n,o){var a,s,r,l,c,u,h,d,f=[],v=[],p=0,m=0,g=i.length;for(s=void 0===n?3:n+1,r=0;r<s;r++){for(c=0;c<g;c++)null!==i[c][1]&&(p+=Math.pow(i[c][0],r)*i[c][1]);for(f.push(p),p=0,a=[],l=0;l<s;l++){for(c=0;c<g;c++)null!==i[c][1]&&(m+=Math.pow(i[c][0],r+l));a.push(m),m=0}v.push(a)}for(v.push(f),h=function(t,e){var i=0,n=0,o=0,a=0,s=0,r=t.length-1,l=new Array(e);for(i=0;i<r;i++){for(a=i,n=i+1;n<r;n++)Math.abs(t[i][n])>Math.abs(t[i][a])&&(a=n);for(o=i;o<r+1;o++)s=t[o][i],t[o][i]=t[o][a],t[o][a]=s;for(n=i+1;n<r;n++)for(o=r;o>=i;o--)t[o][n]-=t[o][i]*t[i][n]/t[i][i]}for(n=r-1;n>=0;n--){for(s=0,o=n+1;o<r;o++)s+=t[o][n]*l[o];l[n]=(t[r][n]-s)/t[n][n]}return l}(v,s),u=i.map(function(t){var e=t[0],i=h.reduce(function(t,i,n){return t+i*Math.pow(e,n)},0);return[e,i]}),d="y = ",r=h.length-1;r>=0;r--)d+=r>1?e(h[r],o.precision)+"x^"+r+" + ":1===r?e(h[r],o.precision)+"x + ":e(h[r],o.precision);return{r2:t(i,u),equation:h,points:u,string:d}},lastvalue:function(i,n,o){for(var a=[],s=null,r=0;r<i.length;r++)null!==i[r][1]&&isFinite(i[r][1])?(s=i[r][1],a.push([i[r][0],i[r][1]])):a.push([i[r][0],s]);return{r2:t(i,a),equation:[s],points:a,string:""+e(s,o.precision)}}};return function(t,e,n,o){var a="object"==typeof n&&void 0===o?n:o||{};return a.precision||(a.precision=2),"string"==typeof t?i[t.toLowerCase()](e,n,a):null}});var Static={};Function.prototype.inheritsFrom=function(t){return t.constructor===Function?(this.prototype=new t,this.prototype.constructor=this,this.prototype.parent=t.prototype):(this.prototype=t,this.prototype.constructor=this,this.prototype.parent=t),this},Static.qBound=function(t,e,i){return Math.max(t,Math.min(e,i))},Array.prototype.mid=function(t,e=-1){return-1==e?this.slice(t+1):(e=Math.max(e,0),this.slice(t,t+e))},String.prototype.insertAt=function(t,e,i){return this.slice(0,t)+i+this.slice(t+Math.abs(e))},String.prototype.replaceAt=function(t,e){return this.substr(0,t)+e+this.substr(t+e.length)},Array.prototype.resize=function(t,e){for(;t>this.length;)this.push(e)},Array.prototype.containsPoint=function(t){for(var e=0;e<this.length;++e)if(this[e].isEqual(t))return!0;return!1},Static.silentIgnore=0,Static.warnIgnore=1,Static.warn=2,Static.errorResponse=Static.warn,Static.errorResponseChanged=!1,Static.Rtti_PlotItem=0,Static.Rtti_PlotGrid=1,Static.Rtti_PlotScale=2,Static.Rtti_PlotLegend=3,Static.Rtti_PlotMarker=4,Static.Rtti_PlotCurve=5,Static.Rtti_PlotSpectroCurve=6,Static.Rtti_PlotIntervalCurve=7,Static.Rtti_PlotHistogram=8,Static.Rtti_PlotSpectrogram=9,Static.Rtti_PlotSVG=10,Static.Rtti_PlotTradingCurve=11,Static.Rtti_PlotBarChart=12,Static.Rtti_PlotMultiBarChart=13,Static.Rtti_PlotShape=14,Static.Rtti_PlotTextLabel=15,Static.Rtti_PlotZone=16,Static.Rtti_PlotUserItem=1e3,Static.MagnifierEnabled=1,Static.ZoomEnabled=2,Static.PanEnabled=4,Static.Locked=8,Static.LeftButtonDown=16,Static.DragCursor=32,Static.PanningInProgress=64,Static.MagnifierSearch=128,Static.ZoomerSearch=256,Static.PannerSearch=512,Static.NoRuler=1024,Static.Left=0,Static.Right=1,Static.Bottom=2,Static.Top=3,Static.LeftAndRight=75776,Static.BottomAndTop=153088,Static.NoTrackingText=0,Static.FullTrackingText=1,Static.PartialTrackingText=2,Static.ReadOnly=0,Static.Clickable=1,Static.Checkable=2,Static.ModeRole=0,Static.TitleRole=1,Static.IconRole=2,Static.UserRole=32,Static.NoRubberBand=0,Static.HLineRubberBand=1,Static.VLineRubberBand=2,Static.CrossRubberBand=3,Static.RectRubberBand=4,Static.EllipseRubberBand=5,Static.PolygonRubberBand=6,Static.UserRubberBand=100,Static.NoSelection=-1,Static.PointSelection=0,Static.RectSelection=1,Static.PolygonSelection=2,Static.AlwaysOff=0,Static.AlwaysOn=1,Static.ActiveOnly=2,Static.NoPen="noPen",Static.NoBrush="noBrush",Static.accuracyBase=3e5,Static.accuracyMaxSteps=.5*Static.accuracyBase;var _eps=1e-6,NoTick=-1,MinorTick=0,MediumTick=1,MajorTick=2,NTickTypes=3,BottomScale=0,TopScale=1,LeftScale=2,RightScale=3,Horizontal=1,Vertical=2,Backbone=1,Ticks=2,Labels=4,ScaleInterest=1,IncludeBorders=0,ExcludeMinimum=1,ExcludeMaximum=2,ExcludeBorders=3,yLeft=0,yRight=1,xBottom=2,xTop=3,axisCnt=4,Legend=1,AutoScale=2,Margins=4,NoCurve=-1,Lines=0,Sticks=1,Steps=2,Dots=3,UserCurve=100,Inverted=1,Fitted=2,RoundPoints=1,WeedOutPoints=2,FilterPoints=1,MinimizeMemory=2,NoLine=0,NoSymbol=-1,Ellipse=0,MRect=2,Diamond=3,Triangle=4,DTriangle=5,UTriangle=6,LTriangle=7,RTriangle=8,Cross=9,XCross=10,HLine=11,VLine=12,Star1=13,Star2=14,Hexagon=15,Path=16,Pixmap=17,MGraphic=18,SvgDocument=19,UserStyle=1e3;Static.NoButton=-1,Static.LeftButton=0,Static.MiddleButton=1,Static.MidButton=1,Static.RightButton=2,Static.Key_Escape=27,Static.Key_Plus=107,Static.Key_Minus=109,Static.Key_Ctrl=17,Static.Key_Shift=16,Static.Key_Return=13,Static.Key_Space=32,Static.Key_Left=37,Static.Key_Right=39,Static.Key_Up=38,Static.Key_Down=40,Static.Key_Undo=90,Static.Key_Redo=89,Static.Key_Home=36,Static.Key_I=73,Static.Key_O=79,Static.Key_unknown=-1,Static.NoModifier=0,Static.ShiftModifier=33554432,Static.ControlModifier=67108864,Static.AltModifier=134217728,Static.AlignRight=1,Static.AlignLeft=2,Static.AlignBottom=4,Static.AlignTop=8,Static.AlignCenter=16;var RGB=0,INDEXED=1,ScaledColors=0,FixedColors=1;function insertLogBase(t,e){var i=t;if(t.includes(e))for(var n=e.replace("log","");-1!==i.indexOf(e);)for(var o=i.indexOf(e)+e.length,a=0,s=0;o<i.length;++o)if("("==i[o]&&a++,")"==i[o]&&s++,a==s){i=(i=i.insertAt(o,0,","+n)).replace(e,"log");break}return i}function logBaseAdjust(t){for(var e=["log2","log3","log4","log5","log6","log7","log8","log9","log10"],i=0;i<e.length;i++)t=insertLogBase(t,e[i]);return t}function EvaluateExp(t){var e,i=t;function n(){try{e=math.parse(i),i.includes("log")||(e=math.simplify(e))}catch(t){Static.alert(t.message),this.error=!0}}this.error=!1,void 0!==i&&(i=logBaseAdjust(i),n()),this.setExpString=function(t){i=t,n()},this.getExpString=function(){return i},this.eval=function(t){this.error=!1;try{return e.eval(t)}catch(t){return this.errorMessage=t.message,this.error=!0,0}}}Static.adjustForDecimalPlaces=function(t,e){void 0==e&&(e=5);var i=Math.pow(10,e);return Math.round(t*i)/i},Static.mFuzzyCompare=function(t,e){return Math.abs(t-e)<_eps},Static.m3FuzzyCompare=function(t,e,i){var n=Math.abs(1e-6*i);return e-t>n?-1:t-e>n?1:0},Static.bind=function(t,e,i){$(window).bind(t,e,i)},Static.trigger=function(t,e){$(window).trigger(t,e)},Static.invert=function(t){t=[].slice.call(arguments).join(",").replace(/rgb\(|\)|rgba\(|\)|\s/gi,"").split(",");for(var e=0;e<t.length;e++)t[e]=(3===e?1:255)-t[e];return"rgb("+t.join(", ")+")"},Static.RGB2HTML=function(t,e,i){if("string"==typeof t){var n=t;n=n.replace("rgb(",""),t=parseInt(n),n=(n=n.replace(",","")).replace(t,""),e=parseInt(n),n=(n=n.replace(",","")).replace(e,""),i=parseInt(n)}if(void 0!==t.r){var o=t;t=t.r,e=o.g,i=o.b}return"#"+(16777216+i+256*e+65536*t).toString(16).substr(1)},Static.HTMLToRGB=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},Static.mRgb=function(t,e,i){return{r:t,g:e,b:i}},Static.colorNameToHex=function(t){var e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"r"==t[0]&&"g"==t[1]&&"b"==t[2]?Static.RGB2HTML(t):"#"==t[0]?t:void 0!==e[t.toLowerCase()]?e[t.toLowerCase()]:"#000000"},Static.sqr=function(t){return Math.pow(t,2)},Static.setElementIndex=function(t,e){var i=$(t).parent().children(),n=i[e];$(t).index()>e?(null==n&&(n=i[0]),n!=t&&null!=n&&$(n).before(t)):(null==n&&(n=i[i.length-1]),n!=t&&null!=n&&$(n).after(t))},Static.elementsFromPoint=function(t,e,i){var n,o=i[0],a=[];do{(n=document.elementFromPoint(t,e))!==o?(a.push(n),n.style.pointerEvents="none"):n=!1}while(n);return a.forEach(function(t){return t.style.pointerEvents="all"}),$(a)},Static.stopkeyPressPropagation=function(t){t.keydown(function(t){t.stopPropagation()})},window.matchMedia("print").addListener(function(t){t.matches?Static.trigger("beforePrint"):Static.trigger("afterPrint")}),window.onbeforeprint=function(t){Static.trigger("beforePrint")},window.onafterprint=function(t){Static.trigger("afterPrint")},Static.Cancel=0,Static.No=1,Static.Yes=2,Static.alertDlg=function(){var t=$('<div class="modal fade" id="alert_Modal" role="dialog">    <div id="dlg" class="modal-dialog">      \x3c!-- Modal content--\x3e      <div class="modal-content">        <div class="modal-header">          <button type="button" class="close" data-dismiss="modal">&times;</button>          <h4 class="modal-title"><b>Alert</b></h4>        </div>        <div class="modal-body">          <p id="msg"></p>        </div>        <div id="alertDlgFooter1" class="modal-footer">          <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>        </div>        <div id="alertDlgFooter2" class="modal-footer">          <button id="yes" type="button" class="btn btn-default">Yes</button>          <button id="no" type="button" class="btn btn-default">No</button>          <button id="cancel" type="button" class="btn btn-default">Cancel</button>        </div>      </div>    </div>  </div>');$("body").append(t),t.css("z-index",1e9),this.alert=function(e,i){$("#alertDlgFooter2").hide(),$("#alertDlgFooter1").show(),$("#msg").text(e),"small"==i?$("#dlg").addClass("modal-sm"):$("#dlg").removeClass("modal-sm"),t.modal({backdrop:"static"})};var e=this;this.alertYesNo=function(e,i,n){$(".close").hide(),this.alertYesCb=i,$("#alertDlgFooter1").hide(),$("#alertDlgFooter2").show(),$("#msg").text(e),"small"==n?$("#dlg").addClass("modal-sm"):$("#dlg").removeClass("modal-sm"),t.modal({backdrop:"static"})},$("#yes").click(function(){$(".close").click(),e.alertYesCb(Static.Yes)}),$("#no").click(function(){$(".close").click(),e.alertYesCb(Static.No)}),$("#cancel").click(function(){$(".close").click(),e.alertYesCb(Static.Cancel)})},Static.alert=function(t,e){void 0==Static.alertObj&&(Static.alertObj=new Static.alertDlg),Static.alertObj.alert(t,e)},Static.alertYesNo=function(t,e,i){void 0==Static.alertObj&&(Static.alertObj=new Static.alertDlg),Static.alertObj.alertYesNo(t,e,i)},Static.promptDlg=function(){var t=$('<div class="modal fade" id="promptModal" role="dialog">    <div id="prompt_dlg" class="modal-dialog">      \x3c!-- Modal content--\x3e      <div class="modal-content">        <div class="modal-header">          <button type="button" class="close" data-dismiss="modal"></button>          <h4 class="modal-title" id="prompt_title">Alert</h4>        </div>        <div class="modal-body">          <input id="prompt_msg" style="width:100%" autofocus />        </div>        <div class="modal-footer">          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>          <button id="prompt_ok" type="button" class="btn btn-default">Ok</button>        </div>      </div>    </div>  </div>');$("body").append(t);var e=this;this.prompt=function(e,i,n,o){"small"==o&&$("#prompt_dlg").addClass("modal-sm"),$("#prompt_title").text(e),$("#prompt_msg").val(i),$("#prompt_msg").select(),this.cb=n,t.modal({backdrop:"static"})},$("#prompt_ok").on("click",function(){e.cb($("#prompt_msg").val())?$(".close").click():$("#prompt_msg").select()})},Static.prompt=function(t,e,i,n){void 0==Static.promptObj&&(Static.promptObj=new Static.promptDlg),Static.promptObj.prompt(t,e,i,n)},Static.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))};var keywords=["asinh","acosh","atanh","acoth","asech","acsch","asin","acos","atan","acot","asec","acsc","sinh","cosh","tanh","coth","sech","csch","sin","cos","tan","sec","csc","cot","log2","log3","log4","log5","log6","log7","log8","log9","log10","deg","pi","PI","e","E"];function purgeKewords(t){for(var e=0;e<keywords.length;++e)for(;-1!=t.indexOf(keywords[e]);)t=t.replace(keywords[e],"");return t}function findIndepVar(t){for(var e=0,i=purgeKewords(t);e<i.length;){for(var n=i.charAt(e),o="";-1!="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(n)&&e<i.length;)o+=n,++e,n=i.charAt(e);if(1===o.length)return o;++e}}function makeSamples(t){var e=t.fx,i=t.lowerX,n=t.upperX,o=t.numOfSamples;t.indepVarIsDegree;void 0===o&&(o=_numOfSamples);var a=findIndepVar(e);if("x"!==a)for(;-1!=e.indexOf(a);)e=e.replace(a,"x");var s=[],r=new EvaluateExp(e);if(r.error)return Static.alert(r.errorMessage),null;for(var l=(n-i)/(o-1),c=0;c<=o-1;++c){var u=i+c*l,h=r.eval({x:u});if(isFinite(h)){if(r.error)return Static.alert(r.errorMessage),null;s.push(new Misc.Point(u,h))}else{if(Static.errorResponse==Static.warn)return Static.alert("f("+u+'): yields infinity. Probably a "divide by zero" error. Try changing the limits or adjusting number of points.'),null;if(Static.errorResponse==Static.warnIgnore){Static.alertYesNo("Error found!!! Do you want to silently ignore errors?",function(e){return e==Static.Cancel?(console.log("C"),null):e==Static.Yes?(console.log("Y"),Static.errorResponse=Static.silentIgnore,Static.errorResponseChanged=!0,t.ok_fn(),null):e==Static.No?(console.log("N"),null):void 0}),s=[];break}}}return Static.errorResponseChanged&&(Static.errorResponseChanged=!1,Static.errorResponse=Static.warnIgnore),s}function regress(t,e,i,n){"linear"==e&&n&&(e="linearthroughorigin");for(var o=t.data().samples(),a=[],s=0;s<o.length;++s)a.push([o[s].x,o[s].y]);return Static.regression(e,a,i)}function integrate(t,e,i,n,o){Static.total_area=0,Static.total_volume=0,n=n||!1;for(var a=e;a<i;a+=o){var s=a+o/2;s>i&&(o-=s-i);var r=t(a+o/2);n?Static.total_volume+=r*o*r*Math.PI:Static.total_area+=r*o}return n?Static.total_volume:Static.total_area}define("static",["regression"],function(t){Static.regression=t}),$("body").on("contextmenu",function(t){t.preventDefault()}),integrate.transform=function(t,e,i){if(!(t[1]instanceof e.expression.node.SymbolNode))throw new Error("Second argument must be a symbol");var n=t[1].name,o=t[2].compile().eval(i),a=t[3].compile().eval(i),s=t[4]&&t[4].compile().eval(i),r=t[5]&&t[5].compile().eval(i),l=Object.create(i),c=t[0].compile();return integrate(function(t){return l[n]=t,c.eval(l)},o,a,s,r)},integrate.transform.rawArgs=!0,math.import({integrate:integrate}),Static.isAlpha=function(t){return(t=t.toLowerCase().charCodeAt(0))>96&&t<122},Static.printFn=function(){window.print()},Static.calcStep=function(t){return(t.maxXValue()-t.minXValue())/Static.accuracyMaxSteps},Static.addCSS=function(t){var e=document.getElementsByTagName("head")[0],i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=t,i.media="all",e.appendChild(i)};class Utility{static colorList(){return["black","red","green","blue","yellow","brown"]}static makePoints(t){var e=[];return t.forEach(function(t){e.push(new Misc.Point(parseFloat(t[0]),parseFloat(t[1])))}),e}static pointsToXYObjectArray(t){var e=[];return t.forEach(function(t){e.push({x:t.x,y:t.y})}),e}static pointsFromXYObjectArray(t){var e=[];return t.forEach(function(t){e.push(new Misc.Point(t.x,t.y))}),e}static linearEquationFromPoints(t,e){var i=(e.y-t.y)/(e.x-t.x),n=-i*t.x+t.y,o=i.toString();return o+="x+",o+=n.toString()}static toArrays(t){for(var e=t.split("\n"),i=[],n=0;n<e.length;++n){var o=e[n].split(",");isNaN(parseFloat(o))||i.push(o)}return i}static setAutoScale(t,e){t.setAxisAutoScale(xBottom,!0),t.setAxisAutoScale(yLeft,!0),t.setAxisAutoScale(xTop,!0),t.setAxisAutoScale(yRight,!0)}static majorGridLines(t,e){t.enableX(e),t.enableY(e)}static minorGridLines(t,e){t.enableXMin(e),t.enableYMin(e)}static randomColor(t=0){var e=[256*Math.random(),256*Math.random(),256*Math.random()],i=[51*t,51*t,51*t];return"rgb("+[e[0]+i[0],e[1]+i[1],e[2]+i[2]].map(function(t){return Math.round(t/2)}).join(",")+")"}static setCurveBrush(t,e){var i=$('<input type="color" style="opacity:0;">');t&&(t.brush().color==Static.NoBrush?i.val(Static.colorNameToHex("rgb(255, 255, 254)")):i.val(Static.colorNameToHex(t.brush().color)),i.change(function(){var i=t.brush();i.color=$(this).val(),t.setBrush(i),"undefined"!==e&&e(t)}),i.trigger("click"))}static removeCurveBrush(t){var e=t.brush();e.color=Static.NoBrush,t.setBrush(e)}static setSymbolPenWidth(t,e){var i=t.symbol();i&&(i.pen().width=e,t.plot().autoRefresh(),updateLegendIconSize(t),t.plot().updateLegend(t))}static setSymbolSize(t,e){var i=t.symbol();if(i){var n=i.size();n.width=e,n.height=e,i.setSize(n),t.plot().autoRefresh(),updateLegendIconSize(t),t.plot().updateLegend(t)}}static addSymbol(t,e){if("None"!=e){var i=t.symbol();null==i&&((i=new Symbol).setBrush(new Misc.Brush(Static.NoBrush)),i.setSize(new Misc.Size(10,10)),t.setSymbol(i)),i.size().width<=0&&i.setSize(new Misc.Size(10,10)),i.setStyle(e),t.itemChanged(),t.legendChanged()}else t.setSymbol(null)}static curveRenameDlg(t,e,i){Static.prompt('Enter a new name for "'+t+'"',t,function(n){if(t==n)return Static.alert("You did not change the name!"),!1;var o=e.findPlotCurve(t);return e.findPlotCurve(n)?(Static.alert(n+" already exist"),!1):(o.setTitle(n),void 0!==i&&i(),!0)},"small")}static setLegendAttribute(t,e,i){return"line"==e?(t.setLegendIconSize(new Misc.Size(i)),t.setLegendAttribute(LegendShowSymbol,!1),void t.setLegendAttribute(LegendShowLine,!0)):"symbol"==e?(t.setLegendIconSize(new Misc.Size(i)),t.setLegendAttribute(LegendShowLine,!1),void t.setLegendAttribute(LegendShowSymbol,!0)):"lineAndSymbol"==e?(t.setLegendIconSize(new Misc.Size(i)),t.setLegendAttribute(LegendShowLine,!0),void t.setLegendAttribute(LegendShowSymbol,!0)):(t.setLegendAttribute(LegendShowLine,!1),void t.setLegendAttribute(LegendShowSymbol,!1))}static enableComponent(t,e,i){for(var n=0;n<axisCnt;++n)t.axisScaleDraw(n).enableComponent(e,i);t.autoRefresh()}static setTickLength(t,e){for(var i=null,n=0;n<axisCnt;++n)i=t.axisScaleDraw(n),"small"==e?(i.setTickLength(MajorTick,6),i.setTickLength(MinorTick,3)):"medium"==e?(i.setTickLength(MajorTick,8),i.setTickLength(MinorTick,4)):"large"==e&&(i.setTickLength(MajorTick,12),i.setTickLength(MinorTick,6));t.autoRefresh()}}function PaintUtil(){function t(t){var e=t,i="",n=null;this.textSize=function(t){e.save(),e.font=n.weight+" "+n.style+" "+n.th+"px "+n.name;var i=e.measureText(t).width,o=e.measureText("M").width;return e.restore(),new Misc.Size(i,o)},this.context=function(){return e},this.canvasWidth=function(){return e.canvas.width},this.canvasHeight=function(){return e.canvas.height},this.save=function(){e.save()},this.restore=function(){e.restore()},this.translate=function(t,i){e.translate(t,i)},this.rotate=function(t){e.rotate(t*Math.PI/180)},this.scale=function(t,i){e.scale(t,i)},this.setPen=function(t){this.style==Static.NoPen?e.strokeStyle="transparent":e.strokeStyle=t.color,e.lineWidth=t.width,"dash"===t.style?e.setLineDash([10,5]):"dot"===t.style?e.setLineDash([3,8]):"dashDot"===t.style?e.setLineDash([12,5,3,5]):"dashDotDot"===t.style&&e.setLineDash([12,5,3,5,3,5]),i=t.style},this.pen=function(){var t="";return t="transparent"==e.strokeStyle?NoPen:e.strokeStyle,new Misc.Pen(t,e.lineWidth,i)},this.setBrush=function(t){void 0===t.color||t.color===Static.NoBrush?e.fillStyle="transparent":e.fillStyle=t.color},this.brush=function(){return e.fillStyle},this.setFont=function(i){e.font=i.weight+" "+i.style+" "+i.th+"px "+i.name,""!=typeof i.fontColor&&(t.fillStyle=i.fontColor),n=i},this.font=function(){return n},this.fillRect=function(t,i){i.style!==NoBrush&&(this.setBrush(i),e.rect(t.left(),t.top(),t.width(),t.height()),e.fill())},this.drawPath=function(t){e.beginPath();for(var i=0;i<t.elementCount();i++){var n=t.elementAt(i),o=n.x,a=n.y;switch(n.type){case MoveToElement:e.moveTo(o,a);break;case LineToElement:e.lineTo(o,a);break;case CurveToElement:var s=t.elementAt(++i),r=s.x,l=s.y,c=t.elementAt(++i),u=c.x,h=c.y;e.bezierCurveTo(o,a,r,l,u,h)}}e.stroke(),e.fill()},this.drawPoint=function(t){var i=this.pen().width;e.fillStyle=this.pen().color,e.fillRect(t.x-1*i,t.y-1*i,1.9*i,2*i)},this.drawPoints=function(t){e.fillStyle=this.pen().color;for(var i=this.pen().width,n=0;n<t.length;++n)e.fillRect(t[n].x-1*i,t[n].y-1*i,1.9*i,2*i)},this.drawLine=function(t,i,n,o){e.beginPath(),void 0!==o&&void 0!==n?(e.moveTo(t,i),e.lineTo(n,o),e.stroke()):(e.moveTo(t.x,t.y),e.lineTo(i.x,i.y)),e.stroke()},this.drawPolyline=function(t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;++i)e.lineTo(t[i].x,t[i].y);e.stroke()},this.drawPolygon=function(t){t[0].x===t[t.length-1].x&&t[0].y===t[t.length-1].y||t.push(t[0]),e.beginPath(),this.drawPolyline(t),e.closePath(),e.fill()},this.drawRect=function(t,i,n,o){if(e.beginPath(),"number"==typeof t)e.rect(t,i,n,o);else{var a=t;e.rect(a.left(),a.top(),a.width(),a.height())}e.stroke(),e.fill(),e.closePath()},this.drawCircle=function(t,i,n){if(e.beginPath(),"number"==typeof t)e.arc(t,i,n,0,2*Math.PI,!1);else{var o=t;n=i,e.arc(o.x,o.y,n,0,2*Math.PI,!1)}e.stroke(),e.fill(),e.closePath()},this.drawEllipse=function(t){var i=(t.left()+t.right())/2,n=(t.top()+t.bottom())/2,o=t.width(),a=t.height();e.beginPath(),e.moveTo(i,n-a/2),e.bezierCurveTo(i+o/2,n-a/2,i+o/2,n+a/2,i,n+a/2),e.bezierCurveTo(i-o/2,n+a/2,i-o/2,n-a/2,i,n-a/2),e.stroke(),e.fill(),e.closePath(),e.closePath()},this.drawVerticalText=function(t,i,n,o){var a=-1;void 0!==o&&!0===o&&(a=1);var s=e.measureText(t);e.save();var r=i,l=n-a*s.width/2;e.translate(r,l),e.rotate(a*Math.PI/2),e.translate(-r,-l),-1===a&&(e.textAlign="left"),e.fillText(t,r,l),e.restore()},this.drawText=function(t,i,o,a,s){void 0!==s&&(t=function(t,e){for(var i=t,o=n.textSize(i).width;o>e&&i.substring;)i=i.substring(0,i.length-1),o=n.textSize(i).width;return i}(t,s)),void 0!==a&&(e.textAlign=a),e.fillText(t,i,o)},this.toString=function(){return"[Painter: "+e+"]"}}function e(t){var e="http://www.w3.org/2000/svg",i=t,n=new Misc.Pen;n.style=Static.NoPen;var o=new Misc.Brush,a=new Misc.Font,s=null;function r(){n.style===Static.NoPen?s.attr("stroke","transparent"):s.attr("stroke",n.color),s.attr("stroke-Width",n.width),"dash"===n.style?s.attr("stroke-dasharray",[10,5]):"dot"===n.style?s.attr("stroke-dasharray",[3,8]):"dashDot"===n.style?s.attr("stroke-dasharray",[12,5,3,5]):"dashDotDot"===n.style&&s.attr("stroke-dasharray",[12,5,3,5,3,5])}function l(){o.color===Static.NoBrush?s.attr("fill","transparent"):s.attr("fill",o.color)}this.setBrush=function(t){o=t},this.setPen=function(t){n=t},this.pen=function(){return n},this.rotate=function(t,e,i){xCenter=e||0,yCenter=i||0,t&&s.attr("transform"," rotate("+t+" "+xCenter+" "+yCenter+")")},this.transform=function(t){var e=t.translateX||0,i=t.translateY||0,n=t.scaleX||1,o=t.scaleY||1,a=t.rotation||0,r=t.rotationX||0,l=t.rotationY||0,c="";1==n&&1==o||(c+=" scale("+n+" "+o+")"),a&&(c+=" rotate("+a+" "+r+" "+l+")"),1==e&&1==i||(c+=" translate("+e+" "+i+")"),s.attr("transform",c)},this.drawRect=function(t,n,o,a){(s=$(document.createElementNS(e,"rect"))).attr("x",t),s.attr("y",n),s.attr("width",o),s.attr("height",a),l(),r(),s.appendTo($(i.svg()))},this.drawPath=function(t){s=$(document.createElementNS(e,"path"));for(var n=t.data,o="",a=0;a<t.elementCount();a++){var c=t.elementAt(a),u=c.x+n.xOffset,h=c.y+n.yOffset;switch(c.type){case MoveToElement:o+="M"+u+" "+h+" ";break;case LineToElement:o+="L"+u+" "+h+" ";break;case CurveToElement:var d=t.elementAt(++a),f=d.x+n.xOffset,v=d.y+n.yOffset,p=t.elementAt(++a);o+="C "+u+" "+h+" "+f+" "+v+" "+(p.x+n.xOffset)+" "+(p.y+n.yOffset)+" "}}s.attr("d",o),s.attr("transform"," scale("+n.scale+") rotate("+n.rotation+" "+n.xCenter+" "+n.yCenter+")"),l(),r(),s.appendTo($(i.svg()))},this.fillRect=function(t,n){(s=$(document.createElementNS(e,"rect"))).attr("x",t.left),s.attr("y",t.top),s.attr("width",t.width),s.attr("height",t.height),s.attr("fill",n.color),r(),s.appendTo($(i.svg()))},this.drawCircle=function(t,n,o){(s=$(document.createElementNS(e,"circle"))).attr("cx",t),s.attr("cy",n),s.attr("r",o),l(),r(),s.appendTo($(i.svg()))},this.drawLine=function(t,n,o,a){(s=$(document.createElementNS(e,"line"))).attr("x1",t),s.attr("y1",n),s.attr("x2",o),s.attr("y2",a),r(),s.appendTo($(i.svg()))},this.drawText=function(t,n,o){(s=$(document.createElementNS(e,"text"))).attr("x",n),s.attr("y",o),s.attr("font-size",a.th),s.attr("font-family",a.name),s.attr("font-weight",a.weight),s.attr("font-style",a.style),r(),l(),s[0].textContent=t,s.appendTo($(i.svg()))},this.textSize=function(t){return a.textSize(t)},this.setFont=function(t){a=t},this.font=function(){return a},this.toString=function(){return"[GraphicPainter]"}}PaintUtil.Painter=function(i){var n=null,o=!1;"[Graphic]"===i.toString()?(o=!0,n=new e(i)):n="[object CanvasRenderingContext2D]"===i.toString()?new t(i):new t(i.getContext()),this.isGraphicPainter=function(){return o},this.textSize=function(t){return n.textSize(t)},this.context=function(){if(!o)return n.context()},this.canvasWidth=function(){if(!o)return n.canvasWidth()},this.canvasHeight=function(){if(!o)return n.canvasHeight()},this.save=function(){o||n.save()},this.restore=function(){o||n.restore()},this.translate=function(t,e){o||n.translate(t,e)},this.scale=function(t,e){o||n.scale(t,e)},this.rotate=function(t,e,i){o||n.rotate(t,e,i)},this.transform=function(t){o&&n.transform(t)},this.setPen=function(t){n.setPen(t)},this.pen=function(){return n.pen()},this.setBrush=function(t){n.setBrush(t)},this.brush=function(){return n.brush()},this.setFont=function(t){n.setFont(t)},this.font=function(){return n.font()},this.fillRect=function(t,e){n.fillRect(t,e)},this.drawPath=function(t){n.drawPath(t)},this.drawPoint=function(t){o||n.drawPoint(t)},this.drawPoints=function(t){o||n.drawPoints(t)},this.drawLine=function(t,e,i,o){n.drawLine(t,e,i,o)},this.drawPolyline=function(t){o||n.drawPolyline(t)},this.drawPolygon=function(t){o||n.drawPolygon(t)},this.drawRect=function(t,e,i,o){n.drawRect(t,e,i,o)},this.drawVerticalText=function(t,e,i,a){o||n.drawVerticalText(t,e,i,a)},this.drawText=function(t,e,i,o,a){n.drawText(t,e,i,o,a)},this.drawCircle=function(t,e,i){n.drawCircle(t,e,i)},this.drawEllipse=function(t){n.drawEllipse(t)},this.toString=function(){return n.toString()}}}define("utility",function(){}),PaintUtil(),define("jPainter",function(){});var ScaleDiv=function(t,e,i,n,o){var a=0,s=0,r=[];if(void 0===t||void 0===e);else if(void 0===i&&"object"==typeof t&&"object"==typeof e){var l=t,c=e;a=l.minValue(),s=l.maxValue();for(var u=0;u<NTickTypes;u++)r[u]=c[u]}else if(void 0===n)for(lowerBound=t,upperBound=e,c=i,a=lowerBound,s=upperBound,u=0;u<NTickTypes;u++)r[u]=c[u];else void 0===t&&void 0===e&&void 0===i&&void 0===n&&void 0===o&&(lowerBound=t,upperBound=e,minorTicks=i,mediumTicks=n,majorTicks=o,a=lowerBound,s=upperBound,r[MinorTick]=minorTicks,r[MediumTick]=mediumTicks,r[MajorTick]=majorTicks);this.setInterval=function(t,e){"number"==typeof t&&"number"==typeof e?(lowerBound=t,upperBound=e,a=lowerBound,s=upperBound):"object"==typeof t&&void 0===e&&(a=(l=t).minValue(),s=l.maxValue())},this.interval=function(){return new Interval(a,s)},this.setLowerBound=function(t){a=t},this.lowerBound=function(){return a},this.setUpperBound=function(t){s=t},this.upperBound=function(){return s},this.range=function(){return s-a},this.isEmpty=function(){return a==s},this.isIncreasing=function(){return a<=s},this.contains=function(t){var e=Math.min(a,s),i=Math.max(a,s);return t>=e&&t<=i},this.invert=function(){var t=a;for(a=s,s=t,u=0;u<NTickTypes;u++){var e=r[u],i=e.count(),n=i/2;for(j=0;j<n;j++)t=e[j],e[j]=e[i-1-j],e[i-1-j]=t}},this.inverted=function(){var t=new ScaleDiv(a,s);return t.invert(),t},this.bounded=function(t,e){var i=Math.min(t,e),n=Math.max(t,e),o=new ScaleDiv;for(o.setInterval(t,e),tickType=0;tickType<NTickTypes;tickType++){var a=r[tickType],s=[];for(u=0;u<a.size();u++){var l=a[u];l>=i&&l<=n&&s.push(l)}o.setTicks(tickType,s)}return o},this.setTicks=function(t,e){t>=0&&t<NTickTypes&&(r[t]=e)},this.ticks=function(t){return t>=0&&t<NTickTypes?r[t]:[]}};function Interval(t,e,i){var n=0,o=-1,a=IncludeBorders;void 0!==t&&void 0!==e&&(n=t,o=e),void 0!==i&&(a=i),this.toString=function(){return"[Interval]"},this.setInterval=function(t,e,i){n=t,o=e,a=i},this.setBorderFlags=function(t){a=t},this.borderFlags=function(){return a},this.setMinValue=function(t){n=t},this.setMaxValue=function(t){o=t},this.minValue=function(){return n},this.maxValue=function(){return o},this.isValid=function(){return 0==(a&ExcludeBorders)?n<=o:n<o},this.width=function(){return this.isValid()?o-n:0},this.isNull=function(){return this.isValid()&&n>=o},this.invalidate=function(){n=0,o=-1},this.normalized=function(){return n>o?this.inverted():n==o&&a==ExcludeMinimum?this.inverted():this},this.inverted=function(){var t=IncludeBorders;return a&ExcludeMinimum&&(t|=ExcludeMaximum),a&ExcludeMaximum&&(t|=ExcludeMinimum),new Interval(o,n,t)},this.contains=function(t){return!!this.isValid()&&(!(t<n||t>o)&&(!(t==n&&a&ExcludeMinimum)&&!(t==o&&a&ExcludeMaximum)))},this.limited=function(t,e){if(!this.isValid()||t>e)return new Interval;var i=Math.max(n,t);i=Math.min(i,e);var s=Math.max(o,t);return new Interval(i,s=Math.min(s,e),a)}}ScaleDiv.prototype.toString=function(){return"[ScaleDiv]"},define("scaleDiv",function(){}),define("interval",function(){});var Transform=function(){};Transform.prototype.toString=function(){return"[Transform]"},Transform.prototype.bounded=function(t){return t};var NullTransform=function(){Transform.call(this)};NullTransform.prototype=Object.create(Transform.prototype),NullTransform.prototype.constructor=NullTransform,NullTransform.prototype.toString=function(){return"[NullTransform]"},NullTransform.prototype.transform=function(t){return t},NullTransform.prototype.invTransform=function(t){return t},NullTransform.prototype.copy=function(){return new NullTransform};var LogTransform=function(){Transform.call(this)};LogTransform.prototype=Object.create(Transform.prototype),LogTransform.prototype.constructor=LogTransform,LogTransform.prototype.toString=function(){return"[LogTransform]"},LogTransform.prototype.transform=function(t){return Math.log(t)},LogTransform.prototype.invTransform=function(t){return Math.exp(t)},LogTransform.prototype.bounded=function(t){return t>Number.MAX_VALUE?Number.MAX_VALUE:t<Number.MIN_VALUE?Number.MIN_VALUE:t},LogTransform.prototype.copy=function(){return new LogTransform};var PowerTransform=function(t){Transform.call(this),this.d_exponent=t};function ScaleMap(){var t=0,e=1,i=0,n=1,o=1,a=0,s=null;this.setTransformation=function(i){i!==s&&(s=i),this.setScaleInterval(t,e)},this.transformation=function(){return s},this.setScaleInterval=function(i,n){t=i,e=n,s&&(t=s.bounded(t),e=s.bounded(e)),this.updateFactor()},this.setPaintInterval=function(t,e){i=t,n=e,this.updateFactor()},this.updateFactor=function(){a=t;var r=e;s&&(a=s.transform(a),r=s.transform(r)),o=1,a!=r&&(o=(n-i)/(r-a))},this.invTransform=function(t,e,i){return void 0===e?this.invTransform1(t):new Misc.Point(t.invTransform1(i.x),e.invTransform1(i.y))},this.transform=function(t,e,i){return void 0===e?this.transform1(t):{x:t.transform1(i.x),y:e.transform1(i.y)}},this.transform1=function(t){return s&&(t=s.transform(t)),i+(t-a)*o},this.invTransform1=function(t){var e=a+(t-i)/o;return s&&(e=s.invTransform(e)),e},this.toString=function(){return'[ScaleMap "'+o+'"]'}}PowerTransform.prototype=Object.create(Transform.prototype),PowerTransform.prototype.constructor=PowerTransform,PowerTransform.prototype.toString=function(){return"[PowerTransform]"},PowerTransform.prototype.transform=function(t){return t<0?-Math.pow(-t,1/d_exponent):Math.pow(t,1/d_exponent)},PowerTransform.prototype.invTransform=function(t){return t<0?-Math.pow(-t,d_exponent):Math.pow(t,d_exponent)},PowerTransform.prototype.copy=function(){return new PowerTransform(d_exponent)},define("transform",function(){}),Static.mTransformPath=function(t,e,i,n){for(var o=new Misc.MPath,a=0;a<i.elementCount();a++){var s=i.elementAt(a),r=t.transform(s.x),l=e.transform(s.y);switch(s.type){case MoveToElement:n&&(r=Math.round(r),l=Math.round(l)),o.moveTo(r,l);break;case LineToElement:n&&(r=Math.round(r),l=Math.round(l)),o.lineTo(r,l);break;case CurveToElement:var c=i.elementAt(++a),u=t.transform(c.x),h=e.transform(c.y),d=i.elementAt(++a),f=t.transform(d.x),v=e.transform(d.y);o.cubicTo(r,l,u,h,f,v)}}return o},Static.mInvTransform=function(t,e,i){var n=t.invTransform(i.left()),o=t.invTransform(i.right()-1),a=e.invTransform(i.top()),s=e.invTransform(i.bottom()-1);return new Misc.Rect(new Misc.Point(n,a),o-n,s-a).normalized()},Static.mTransform=function(t,e,i){var n=t.transform(i.left()),o=t.transform(i.right()),a=e.transform(i.top()),s=e.transform(i.bottom());return new Misc.Rect(new Misc.Point(n,a),o-n,s-a).normalized()},define("scaleMap",["static","transform"],function(){});class HObject{constructor(t){let e=this,i=!1,n=$("body");this.m_objectName="jObject",this.m_mouseTracking=!0,this.m_filterObjs=[],void 0!==t&&(n=t&&t instanceof HObject?t.getElement():t);let o="click",a="mousedown",s="mouseup",r="mousemove";Static.isMobile()&&(o="tap",a="touchstart",s="touchend",r="touchmove"),this.mapToElement=function(t){if(!n)return;let e=new Misc.Point,i=n[0].getBoundingClientRect();return e.x=t.x-i.left,e.y=t.y-i.top,e},this.setElement=function(t){n=t},this.getElement=function(){return n},this.setEnabled_1=function(t){i!=t&&(i=t,this.elementEvent(i),i&&Static.trigger("enabled"))},this.event=function(t){return!0},this.elementEventOnCb=function(t){if(!e.m_filterObjs.length)return e.event(t);e.m_filterObjs.forEach(function(i){if(!i.eventFilter(e,t))return e.event(t)})},this.elementEvent=function(t){if(this instanceof HObject){let e=this;t?(e.getElement().on(a+" "+s+" "+r+" mouseenter mouseleave mousewheel",function(t){e.elementEventOnCb(t)}),$("body").on("keydown keyup",function(t){if(!e.m_filterObjs.length)return e.event(t);e.m_filterObjs.forEach(function(i){if(!i.eventFilter(e,t))return e.event(t)})})):(e.getElement().off(a+" "+s+" "+r+" mouseenter mouseleave mousewheel"),$("body").off("keydown keyup"))}},this.installEventFilter=function(t){this.m_filterObjs.push(t)},this.removeEventFilter=function(t){let e=this.m_filterObjs.indexOf(t);e>-1&&this.m_filterObjs.splice(e,1)},this.hasSameElement=function(t){return this.getElement()==t.getElement()},this.isEnabled=function(){return i},this.toString=function(){return"[HObject]"}}eventFilter(t,e){console.log("eventFilter() called")}setMouseTracking(t){if(this.getElement()&&t){let t=this;this.getElement().on("mousemove touchmove",function(e){t.elementEventOnCb(e)}),this.m_mouseTracking=!0}else this.getElement().off("mousemove touchmove"),this.m_mouseTracking=!1}hasMouseTracking(){return this.m_mouseTracking}setObjectName(t){this.m_objectName=t}objectName(){return this.m_objectName}isWidget(){return"[Widget]"==this.toString()}}define("hObject",function(){});class Widget extends HObject{constructor(t){super(t);let e=!0,i=0,n=$("<canvas />").attr({style:"position: absolute; background-color: transparent"});this.getElement()&&this.getElement().append(n),this.clearCanvas=function(){let t=this.getContext();t&&t.clearRect(0,0,n[0].width,n[0].height)},this.getContext=function(){let t=null;return this.getElement()?(n[0].width=parseFloat(this.getElement().css("width")),n[0].height=parseFloat(this.getElement().css("height")),t=n[0].getContext("2d")):null},this.width=function(){return n[0].width},this.height=function(){return n[0].height},this.setCanvasParent=function(t){this.getElement().append(n)},this.getCanvas=function(){return n},this.contentsRect=function(){let t=this.getElement();return new Misc.Rect(0,0,parseFloat(t.css("width")),parseFloat(t.css("height")))},this.setVisible=function(t){t||void 0===t?(this.getCanvas().show(),e=!0):(this.getCanvas().hide(),e=!1)},this.hide=function(){this.setVisible(!1)},this.show=function(){this.setVisible(!0)},this.disableContextmenu=function(){this.getElement().addClass("prevented")},this.isVisible=function(){return e},this.setZ=function(t){i!==t&&(i=t,n&&n.css("zIndex",i),this.itemChanged())},this.getZ=function(t){return i},this.disableContextmenu(),this.toString=function(){return"[Widget]"}}}Widget.prototype.setElement=function(t){HObject.prototype.setElement.call(this,t),this.setCanvasParent(t)},define("widget",["static","hObject"],function(){});class ScaleWidget extends Widget{constructor(t,e,i){super(e);var n=this.getElement(),o=null,a="",s=t,r=[],l=[],c=new Misc.Font(14),u=new Misc.Font(12);this.setBorderDist=function(t,e){t==l[0]&&e==l[1]||(l[0]=t,l[1]=e)},this.getBorderDistHint=function(t){o.getBorderDistHint(u,t),t.start<r[0]&&(t.start=r[0]),t.end<r[1]&&(t.end=r[1])},this.setLabelFont=function(t){t.th<0||""===t.name||""===t.style||(u=t,s.getLayout().adjustLayout(e,t.th))},this.labelFont=function(){return u},this.setTitleFont=function(t){t.th<0||""===t.name||""===t.style||(c=t,s.getLayout().adjustLayout(e,t.th))},this.titleFont=function(){return c},this.setScaleDraw=function(t){if(void 0!==t&&t!=o){if(o){t.setScaleDiv(o.scaleDiv());var e=null;o.scaleMap().transformation()&&(e=o.scaleMap().transformation().copy()),t.setTransformation(e)}o=t}},this.scaleDraw=function(){return o},this.initScale=function(t){(o=new ScaleDraw).setAlignment(t);var e=new LinearScaleEngine;o.setScaleDiv(e.divideScale(0,100,10,5))},void 0===i?this.initScale(LeftScale):this.initScale(i),this.setTitle=function(t){a!==t&&(""!==t?(""===a&&(this.alignment()===LeftScale||this.alignment()===RightScale?s.getLayout().adjustLayout(n,parseFloat(n.css("width"))+c.th):s.getLayout().adjustLayout(n,parseFloat(n.css("height"))+c.th),Static.trigger("axisTitleAdded",!0)),a=t):(this.alignment()===LeftScale||this.alignment()===RightScale?s.getLayout().adjustLayout(n,parseFloat(n.css("width"))-c.th):s.getLayout().adjustLayout(n,parseFloat(n.css("height"))-c.th),a="",Static.trigger("axisTitleAdded",!1)),s.getLayout().updateLayout())},this.title=function(){return a},this.setAlignment=function(t){o&&o.setAlignment(t)},this.alignment=function(){return null==o?LeftScale:o.alignment()},this.labelWidth=function(t){return u.textSize(t).width},this.draw=function(){var t=o.maxTickLength(),e=o.spacing();if(o.orientation()===Vertical){var i=t+e+this.labelWidth(o.longestLabel())+10+(""!==a?c.th:0)+10;s.getLayout().adjustLayout(n,i)}if(o.orientation()===Horizontal){var r=t+e+10+(""!==a?c.th:0)+10;s.getLayout().adjustLayout(n,r)}s.getLayout().updateLayout();var l=new PaintUtil.Painter(this);l.setFont(u),o.draw(l),""!==a&&(l.setFont(c),this.drawTitle(l)),l=null},this.drawTitle=function(t){var e=t.canvasWidth(),i=t.canvasHeight();t.save(),t.setFont(c),o.alignment()===LeftScale?""!==a&&t.drawVerticalText(a,c.th,i/2):o.alignment()===RightScale?""!==a&&t.drawVerticalText(a,e-c.th,i/2,!0):o.alignment()===BottomScale?""!==a&&t.drawText(a,e/2,i-2,"center"):o.alignment()===TopScale&&""!==a&&t.drawText(a,e/2,c.th,"center"),t.restore()},this.setScaleDiv=function(t){o.scaleDiv()!==t&&(o.setScaleDiv(t),Static.trigger("scaleDivChanged"))},Static.bind("scaleDivChanged",this.scaleChange),this.setTransformation=function(t){o.setTransformation(t)},this.toString=function(){return"[ScaleWidget]"}}}function PlotItem(t){this.plotId="";var e,i=null,n=null,o=($("#centralDiv"),!0),a=0,s=0,r=xBottom,l=yLeft,c=t||"";this.rtti=Static.Rtti_PlotItem;var u=new Misc.Size(10,10);this.getLegendIconSize=function(){return u},this.setLegendIconSize=function(t){u=t,i&&i.updateLegend(this)},this.setItemInterest=function(t,i){i?e|=t:e&=~t,this.itemChanged()},this.testItemInterest=function(t){return e&t},this.plot=function(){return i},this.title=function(){return c},this.setTitle=function(t){c!==t&&(c=t,this.legendChanged(),this.itemChanged(),Static.trigger("titleChange",[this,t]))},this.clearCanvas=function(){this.getContext().clearRect(0,0,n[0].width,n[0].height)},this.attach=function(t){t!=i&&(i&&(this.getContext().clearRect(0,0,n[0].width,n[0].height),n.hide(),n=null,i.attachItem(this,!1)),(i=t)&&(null===n&&(n=$("<canvas />").attr({style:"position: absolute; background-color: transparent"}),i.getLayout().getCentralDiv().append(n),n.css({"border-radius":"inherit"}),0!=s&&n.css("zIndex",s)),i.attachItem(this,!0)))},this.detach=function(){this.attach(null)},this.setZ=function(t){s!==t&&(s=t,n&&n.css("zIndex",s),this.itemChanged())},this.getZ=function(t){return s},this.getCanvas=function(){return n},this.syncSizes=function(){var t=i.getLayout().getCentralDiv();n[0].width=parseFloat(t.css("width")),n[0].height=parseFloat(t.css("height"))},this.getContext=function(){return this.syncSizes(),n[0].getContext("2d")},this.setAxes=function(t,e){t!=xBottom&&t!=xTop||(r=t),e!=yLeft&&e!=yRight||(l=e),this.itemChanged()},this.setItemAttribute=function(t,e){e?a|=t:a&=~t,t==Legend&&this.legendChanged(),this.itemChanged()},this.testItemAttribute=function(t){return a&t},this.show=function(){this.setVisible(!0)},this.hide=function(){this.setVisible(!1)},this.setVisible=function(t){t!==o&&(o=t,t?n.show():n.hide(),this.itemChanged(),Static.trigger("visibilityChange",[this,t]))},this.isVisible=function(){return o},this.itemChanged=function(){i&&i.autoRefresh()},this.legendChanged=function(){this.testItemAttribute(Legend)&&i&&i.updateLegend(this)},this.setXAxis=function(t){t!=xBottom&&t!=xTop||(r=t,this.itemChanged())},this.setYAxis=function(t){t!=yLeft&&t!=yRight||(l=t,this.itemChanged())},this.xAxis=function(){return r},this.yAxis=function(){return l},this.getCanvasRect=function(){return this.syncSizes(),new Misc.Rect(new Misc.Point,n[0].width,n[0].height)}}ScaleWidget.prototype.scaleChange=function(){},define("scaleWidget",["static","widget"],function(){}),PlotItem.prototype.boundingRect=function(){return new Misc.Rect},PlotItem.prototype.draw=function(t,e){},PlotItem.prototype.legendIconSize=function(){return this.getLegendIconSize()},PlotItem.prototype.legendIcon=function(t,e){return null},PlotItem.prototype.defaultIcon=function(t,e){var i=null;if(e.width>0&&e.height>0){var n=new Misc.Rect(0,0,e.width,e.height);i=new GraphicUtil.Graphic(null,e.width+1,e.height+1),new GraphicPainter(i).fillRect(n,t)}return i},PlotItem.prototype.legendData=function(){var t=new LegendData,e=this.title();t.setValue(Static.TitleRole,e);var i=this.legendIcon(0,this.legendIconSize());return i&&t.setValue(Static.IconRole,i),[t]},PlotItem.prototype.toString=function(){return'[PlotItem "'+this.plotId+'"]'},define("plotItem",["static"],function(){});var Layout=function(t,e){var i=e;if(t){t.parent()[0]===document.body&&t.css("position","absolute");var n=$("<div />").attr({id:"titleDiv"});t.append(n),n.css("top");var o=$("<div />").attr({id:"topScaleDiv"});t.append(o),"auto"!==o.css("top")&&parseFloat(o.css("top"));var a=$("<div />").attr({id:"leftScaleDiv"});t.append(a),"auto"!==a.css("left")&&parseFloat(a.css("left"));var s=$("<div />").attr({id:"centralDiv"});t.append(s),"auto"!==s.css("top")&&parseFloat(s.css("top")),"auto"!==s.css("bottom")&&parseFloat(s.css("bottom")),"auto"!==s.css("right")&&parseFloat(s.css("right")),"auto"!==s.css("left")&&parseFloat(s.css("left")),this.getCentralDiv=function(){return s};var r=$("<div />").attr({id:"rightScaleDiv"});t.append(r),"auto"!==r.css("right")&&parseFloat(r.css("right"));var l=$("<div/>").attr({id:"legendDiv"});t.append(l),"auto"!==l.css("right")&&parseFloat(l.css("right"));var c=$("<div />").attr({id:"bottomScaleDiv"});t.append(c),"auto"!==c.css("bottom")&&parseFloat(c.css("bottom"));var u=$("<div />").attr({id:"footerDiv"});t.append(u),"auto"!==u.css("bottom")&&parseFloat(u.css("bottom")),this.getLegendDiv=function(){return l},this.getTitleDiv=function(){return n},this.getFooterDiv=function(){return u};var h=[a,r,c,o];this.getScaleDivElement=function(t){return t<0||t>=axisCnt?null:h[t]},this.adjustLayout=function(t,e){var i="width";"footerDiv"!==t[0].id&&"titleDiv"!==t[0].id&&"topScaleDiv"!==t[0].id&&"bottomScaleDiv"!==t[0].id||(i="height"),t.css(i,e)},this.updateLayout=function(){var t,e,r;void 0!==i&&(t=!0,"none"==n.css("display")&&(t=!1),i.axisEnabled(xTop)?t?d():f():t?v():p(),function(){var t=!0;"none"==n.css("display")&&(t=!1),t?i.axisEnabled(xTop)?d():v():i.axisEnabled(xTop)?f():p()}(),e=!0,"none"==u.css("display")&&(e=!1),i.axisEnabled(xBottom)?e?m():g():e?b():S(),function(){var t=!0;"none"==u.css("display")&&(t=!1),t?i.axisEnabled(xBottom)?m():b():i.axisEnabled(xBottom)?g():S()}(),i.legend()&&l.css("width",i.legend().legendDivWidth()),i.axisEnabled(yRight)?i.isLegendEnabled()?y():x():i.isLegendEnabled()?w():M(),i.isLegendEnabled()?i.axisEnabled(yRight)?y():w():i.axisEnabled(yRight)?x():M(),r=parseFloat(a.css("width")),i.axisEnabled(yLeft)?(n.css("left",r),o.css("left",r),u.css("left",r),c.css("left",r),s.css("left",r)):(n.css("left",0),o.css("left",0),u.css("left",0),c.css("left",0),s.css("left",0)))},this.isLegendDivVisible=function(){return"block"===l[0].style.display},this.setPlot=function(t){i=t},this.toString=function(){return"[Layout]"}}function d(){var t=parseFloat(n.css("height")),e=parseFloat(o.css("height"));l.css("top",t),o.css("top",t),s.css("top",t+e),a.css("top",t+e),r.css("top",t+e)}function f(){var t=parseFloat(o.css("height"));l.css("top",0),o.css("top",0),s.css("top",t),a.css("top",t),r.css("top",t)}function v(){var t=parseFloat(n.css("height"));l.css("top",t),s.css("top",t),a.css("top",t),r.css("top",t)}function p(){l.css("top",0),s.css("top",0),a.css("top",0),r.css("top",0)}function m(){var t=parseFloat(u.css("height")),e=parseFloat(c.css("height"));l.css("bottom",t),c.css("bottom",t),s.css("bottom",t+e),a.css("bottom",t+e),r.css("bottom",t+e)}function g(){var t=parseFloat(c.css("height"));l.css("bottom",0),c.css("bottom",0),s.css("bottom",t),a.css("bottom",t),r.css("bottom",t)}function b(){var t=parseFloat(u.css("height"));l.css("bottom",t),s.css("bottom",t),a.css("bottom",t),r.css("bottom",t)}function S(){l.css("bottom",0),s.css("bottom",0),a.css("bottom",0),r.css("bottom",0)}function y(){var t=parseFloat(l.css("width")),e=parseFloat(r.css("width"));n.css("right",t+e+14+3),o.css("right",t+e+14+3),u.css("right",t+e+14+3),c.css("right",t+e+14+3),l.css("right",3),s.css("right",t+e+14+3),r.css("right",t+14+3)}function x(){var t=parseFloat(r.css("width"));n.css("right",t),o.css("right",t),u.css("right",t),c.css("right",t),s.css("right",t),r.css("right",0)}function w(){var t=parseFloat(l.css("width"));s.css("right",t+3+14),n.css("right",t+3+14),o.css("right",t+3+14),u.css("right",t+3+14),c.css("right",t+3+14),l.css("right",3)}function M(){n.css("right",0),o.css("right",0),u.css("right",0),c.css("right",0),s.css("right",0)}};function AbstractScaleDraw(){var t=Backbone|Ticks|Labels,e=[];e[MinorTick]=4,e[MediumTick]=6,e[MajorTick]=8;var i=new ScaleMap,n=null,o=3,a=-1e4,s=1e4,r=4,l=1;this.data={},this.setNonExponentLimits=function(t,e){a=t,s=e},this.getNonExponentNotationLimits=function(){return{lower:a,upper:s}},this.decimalPlaces=function(){return o},this.setDecimalPlaces=function(t){o=t},this.longestLabel=function(){var t,e,i="",r=n.ticks(MajorTick),l=r.length-1;for(t=1;t<l;t++)e=r[t],n.contains(e)&&(((e=Static.adjustForDecimalPlaces(e,o))>s||e<a)&&(e=e.toExponential(o)),e.toString().length>i.length&&(i=e.toString()));return i},this.enableComponent=function(e,i){i?t|=e:t&=~e},this.hasComponent=function(e){return t&e},this.setScaleDiv=function(t){n=t,i.setScaleInterval(n.lowerBound(),n.upperBound())},this.setTransformation=function(t){i.setTransformation(t)},this.scaleMap=function(){return i},this.scaleDiv=function(){return n},this.setPenWidth=function(t){t<=0&&(t=1),t!==l&&(l=t)},this.penWidth=function(){return l},this.draw=function(t){if(this.orientation()===Horizontal?i.setPaintInterval(0,t.canvasWidth()):i.setPaintInterval(t.canvasHeight(),0),this.hasComponent(Labels))for(var o=n.ticks(MajorTick),a=0;a<o.length;a++){var s=o[a];n.contains(s)&&this.drawLabel(t,s)}if(this.hasComponent(Ticks)){t.save(),t.setPen(new Misc.Pen("grey",l));for(var r=MinorTick;r<NTickTypes;r++){var c=n.ticks(r);for(a=0;a<c.length;a++){s=c[a];n.contains(s)&&this.drawTick(t,s,e[r])}}t.restore()}this.hasComponent(Backbone)&&(t.save(),t.setPen(new Misc.Pen("grey",l)),this.drawBackbone(t),t.restore())},this.setSpacing=function(t){t<0&&(t=0),r=t},this.spacing=function(){return r},this.setTickLength=function(t,i){if(!(t<MinorTick||t>MajorTick)){i<0&&(i=0);i>1e3&&(i=1e3),e[t]=i}},this.tickLength=function(t){return t<MinorTick||t>MajorTick?0:e[t]},this.maxTickLength=function(){for(var t=0,i=0;i<NTickTypes;i++)t=Math.max(t,e[i]);return t},this.label=function(t){return Static.mFuzzyCompare(t+1,1)&&(t=0),t.toString()}}function ScaleDraw(){AbstractScaleDraw.call(this);var t=BottomScale;this.orientation=function(){return t===TopScale||t===BottomScale?Horizontal:Vertical},this.alignment=function(){return t},this.setAlignment=function(e){t=e},this.getBorderDistHint=function(t,e){}}function ceilEps(t,e){return t=(t-_eps*e)/e,Math.ceil(t)*e}function floorEps(t,e){return t=(t+_eps*e)/e,Math.floor(t)*e}function divideEps(t,e){return 0===e||0===t?0:(t-_eps*t)/e}define("layout",function(){}),AbstractScaleDraw.prototype.toString=function(){return"[AbstractScaleDraw]"},define("abstractScaleDraw",function(){}),ScaleDraw.inheritsFrom(AbstractScaleDraw),ScaleDraw.prototype.toString=function(){return"[ScaleDraw]"},ScaleDraw.prototype.drawTick=function(t,e,i){if(!(i<=0)){var n=this.scaleMap().transform(e)+0,o=this.hasComponent(Backbone);switch(this.alignment()){case LeftScale:var a=t.canvasWidth();o&&(a-=2);var s=a-i;t.drawLine(a,n,s,n);break;case RightScale:a=0;o&&(a+=2);s=a+i;t.drawLine(a,n,s,n);break;case BottomScale:var r=0;o&&(r+=2);var l=r+i;t.drawLine(n,r,n,l);break;case TopScale:r=t.canvasHeight();o&&(r-=2);l=r-i;t.drawLine(n,r,n,l)}}},ScaleDraw.prototype.drawBackbone=function(t){var e=.5*t.pen().width,i=this.hasComponent(Backbone);switch(this.alignment()){case LeftScale:var n=t.canvasWidth()-e;i&&(n-=2),t.drawLine(n,0,n,t.canvasHeight());break;case RightScale:n=e;i&&(n+=2),t.drawLine(n,0,n,t.canvasHeight());break;case TopScale:var o=t.canvasHeight()-e;i&&(o-=2),t.drawLine(0,o,t.canvasWidth(),o);break;case BottomScale:o=e;i&&(o+=2),t.drawLine(0,o,t.canvasWidth(),o)}},ScaleDraw.prototype.labelPosition=function(t,e){t.save();var i=this.scaleMap().transform(e),n=this.spacing();this.hasComponent(Backbone)&&(n+=1),this.hasComponent(Ticks)&&(n+=this.tickLength(MajorTick));var o=0,a=0,s=t.measureText("M").width;switch(this.alignment()){case RightScale:o=n,a=i+.5*s+0;break;case LeftScale:o=t.canvas.width-n,a=i+.5*s+0;break;case BottomScale:o=i+0,a=n+s;break;case TopScale:o=i+0,a=t.canvas.height-n}return t.restore(),new Misc.Point(o,a)},ScaleDraw.prototype.drawLabel=function(t,e){e=Static.adjustForDecimalPlaces(e,this.decimalPlaces());var i=this.getNonExponentNotationLimits();(e>i.upper||e<i.lower)&&(e=e.toExponential(this.decimalPlaces()));var n=this.label(e);if(""!==n){var o=this.labelPosition(t.context(),e);if(this.orientation()!=Horizontal||0!==o.x&&o.x!=t.canvasWidth()){var a=t.textSize(n),s=a.height;if(this.orientation()!=Vertical||!(Math.abs(o.y-.5*s-0)<s||Math.abs(o.y-.5*s-t.canvasHeight())<s)){var r="center",l="undefined";if(this.alignment()===LeftScale)r="right",l="undefined";else if(this.alignment()===RightScale)r="left",l="undefined";else{l=t.canvasWidth()/(this.scaleDiv().ticks(MajorTick).length-1)-5;var c=a.width;if(c>l&&(c=l),o.x-c/2<0||o.x+c/2>t.canvasWidth())return}t.drawText(n,o.x,o.y,r,l)}}}},define("scaleDraw",["static"],function(){}),Static.mLog=function(t,e){return Math.log(e)/Math.log(t)},Static.mLogInterval=function(t,e){return new Interval(Static.mLog(t,e.minValue()),Static.mLog(t,e.maxValue()))},Static.mPowInterval=function(t,e){return new Interval(Math.pow(t,e.minValue()),Math.pow(t,e.maxValue()))},Static.mStepSize=function(t,e,i){if(e<=0)return 0;if(e>2)for(var n=e;n>1;n--)for(var o=t/n,a=Math.floor(Math.log(o)/Math.log(i)),s=Math.pow(i,a),r=i;r>1;r/=2){if(Static.mFuzzyCompare(o,r*s))return o;if(3===r&&i%2==0&&Static.mFuzzyCompare(o,2*s))return o}return.5*t},Static.divideInterval=function(t,e,i){if(e<=0)return 0;var n=divideEps(t,e);if(0===n)return 0;for(var o=Static.mLog(i,Math.abs(n)),a=Math.floor(o),s=Math.pow(i,o-a),r=i;r>1&&s<=r/2;)r/=2;var l=r*Math.pow(i,a);return n<0&&(l=-l),l};var ScaleEngine=function(t){var e=10,i=0,n=0;void 0!==t&&(e=t);var o=null,a=0;this.lowerMargin=function(){return i},this.upperMargin=function(){return n},this.setMargins=function(t,e){i=Math.max(t,0),n=Math.max(e,0)},this.setTransformation=function(t){t!==o&&(o=t)},this.transformation=function(){var t=null;return o&&(t=o.copy()),t},this.divideInterval=function(t,i){return Static.divideInterval(t,i,e)},this.contains=function(t,e){return!!t.isValid()&&(!(Static.m3FuzzyCompare(e,t.minValue(),t.width())<0)&&!(Static.m3FuzzyCompare(e,t.maxValue(),t.width())>0))},this.strip=function(t,e){if(!e.isValid()||0===t.length)return[];if(this.contains(e,t[0])&&this.contains(e,t[t.length-1]))return t;for(var i=[],n=0;n<t.length;n++)this.contains(e,t[n])&&i.push(t[n]);return i},this.buildInterval=function(t){var e=0===t?.5:Math.abs(.5*t);return Number.MAX_VALUE-e<t?new Interval(Number.MAX_VALUE-e,Number.MAX_VALUE):-Number.MAX_VALUE+e>t?new Interval(-Number.MAX_VALUE,-Number.MAX_VALUE+e):new Interval(t-e,t+e)},this.setBase=function(t){e=Math.max(t,2)},this.base=function(){return e},this.setReference=function(t){a=t},this.reference=function(){return a}};ScaleEngine.prototype.toString=function(){return"[ScaleEngine]"};var LinearScaleEngine=function(t){ScaleEngine.call(this,t),this.autoScale=function(t,e,i){var n=new Interval(e.x1,e.x2);(n=n.normalized()).setMinValue(n.minValue()-this.lowerMargin()),n.setMaxValue(n.maxValue()+this.upperMargin()),0===n.width()&&(n=this.buildInterval(n.minValue())),Static.divideInterval(n.width(),Math.max(t,1),this.base()),e.x1=n.minValue(),e.x2=n.maxValue()},this.divideScale=function(t,e,i,n,o){void 0===o&&(o=0);var a=new Interval(t,e).normalized();if(a.width()<=0)return new ScaleDiv;0===(o=Math.abs(o))&&(i<1&&(i=1),o=Static.divideInterval(a.width(),i,this.base()));var s=new ScaleDiv;if(0!==o){var r=[];this.buildTicks(a,o,n,r),s=new ScaleDiv(a,r)}return t>e&&s.invert(),s},this.buildTicks=function(t,e,i,n){var o=this.align(t,e);if(n[MajorTick]=this.buildMajorTicks(o,e),i>0){var a=[],s=[];this.buildMinorTicks(n[MajorTick],i,e,a,s),n[MinorTick]=a,n[MediumTick]=s}for(var r=0;r<NTickTypes;r++){var l=this.strip(n[r],t);n[r]=[],n[r]=l;for(var c=0;c<n[r].length;c++)0===Static.m3FuzzyCompare(n[r][c],0,e)&&(n[r][c]=0)}},this.buildMajorTicks=function(t,e){var i=Math.round(t.width()/e)+1;i>1e4&&(i=1e4);var n=[];n.push(t.minValue());for(var o=1;o<i-1;o++)n.push(t.minValue()+o*e);return n.push(t.maxValue()),n},this.buildMinorTicks=function(t,e,i,n,o){var a=Static.mStepSize(i,e,this.base());if(0!==a){var s=Math.ceil(Math.abs(i/a))-1,r=-1;s%2&&(r=s/2);for(var l=0;l<t.length;l++)for(var c=t[l],u=0;u<s;u++){var h=c+=a;0===Static.m3FuzzyCompare(c,0,i)&&(h=0),u==r?o.push(h):n.push(h)}}},this.align=function(t,e){var i=t.minValue(),n=t.maxValue();if(-Number.MAX_VALUE+e<=i){var o=floorEps(i,e);0!==Static.m3FuzzyCompare(i,o,e)&&(i=o)}if(Number.MAX_VALUE-e>=n){o=ceilEps(n,e);0!==Static.m3FuzzyCompare(n,o,e)&&(n=o)}return new Interval(i,n)}};LinearScaleEngine.prototype=Object.create(ScaleEngine.prototype),LinearScaleEngine.prototype.constructor=LinearScaleEngine,LinearScaleEngine.prototype.toString=function(){return"[LinearScaleEngine]"};var LogScaleEngine=function(t){ScaleEngine.call(this,t),this.setTransformation(new LogTransform),this.autoScale=function(t,e,i){var n=this.base(),o=new Interval(e.x1/Math.pow(n,this.lowerMargin()),e.x2*Math.pow(n,this.upperMargin()));if(o.maxValue()/o.minValue()<n){var a=new LinearScaleEngine;a.setReference(this.reference()),a.setMargins(this.lowerMargin(),this.upperMargin()),a.autoScale(t,e,i);var s=new Interval(e.x1,e.x2);if(s.normalized(),(s=s.limited(1e-100,1e100)).maxValue()/s.minValue()<n)return void(i=i<0?-Static.mLog(n,Math.abs(i)):Static.mLog(n,i))}this.reference()>5e-101&&Math.min(this.reference(),5e99),0==(o=o.limited(1e-100,1e100)).width()&&(o=this.buildInterval(o.minValue())),(i=Static.divideInterval(Static.mLogInterval(n,o).width(),Math.max(t,1)))<1&&(i=1),e.x1=o.minValue(),e.x2=o.maxValue()},this.divideScale=function(t,e,i,n,o){var a=new Interval(t,e);if(a.normalized(),(a=a.limited(1e-100,1e100)).width()<=0)return new ScaleDiv;var s=this.base();if(a.maxValue()/a.minValue()<s){var r=new LinearScaleEngine;return r.setReference(this.reference()),r.setMargins(this.lowerMargin(),this.upperMargin()),0!=o&&(o=o<0?-Math.pow(s,-o):Math.pow(s,o)),r.divideScale(t,e,i,n,o)}0==(o=Math.abs(o))&&(i<1&&(i=1),(o=Static.divideInterval(Static.mLogInterval(s,a).width(),i,this.base()))<1&&(o=1));var l=new ScaleDiv;if(0!=o){var c=[];this.buildTicks(a,o,n,c),l=new ScaleDiv(a,c)}return t>e&&l.invert(),l},this.buildTicks=function(t,e,i,n){var o=this.align(t,e);if(n[MajorTick]=this.buildMajorTicks(o,e),i>0){var a=[],s=[];this.buildMinorTicks(n[MajorTick],i,e,a,s),n[MinorTick]=a,n[MediumTick]=s}for(var r=0;r<NTickTypes;r++){var l=this.strip(n[r],t);n[r]=[],n[r]=l;for(var c=0;c<n[r].length;c++)0===Static.m3FuzzyCompare(n[r][c],0,e)&&(n[r][c]=0)}},this.buildMajorTicks=function(t,e){var i=Static.mLogInterval(this.base(),t).width(),n=Math.round(i/e)+1;n>1e4&&(n=1e4);var o=Math.log(t.minValue()),a=(Math.log(t.maxValue())-o)/(n-1),s=[];s.push(t.minValue());for(var r=1;r<n-1;r++)s.push(Math.exp(o+r*a));return s.push(t.maxValue()),s},this.buildMinorTicks=function(t,e,i,n,o){var a=this.base();if(i<1.1){if(0==(h=this.divideInterval(i,e+1)))return;var s=Math.round(i/h),r=-1;for(s>2&&s%2==0&&(r=s/2),v=0;v<t.length-1;v++){var l=t[v],c=a/s;if(c>=1)for(p=2;p<s;p++)n.push(l*p*c);else for(p=1;p<s;p++){var u=l+p*l*(a-1)/s;p==r?o.push(u):n.push(u)}}}else{var h;if(0==(h=this.divideInterval(i,e)))return;h<1&&(h=1);var d=Math.round(i/h)-1;if(Static.m3FuzzyCompare((d+1)*h,i,i)>0&&(d=0),d<1)return;r=-1;d>2&&d%2&&(r=d/2);for(var f=Math.max(Math.pow(a,h),a),v=0;v<t.length;v++){u=t[v];for(var p=0;p<d;p++)u*=f,p==r?o.push(u):n.push(u)}}},this.align=function(t,e){var i=Static.mLogInterval(this.base(),t),n=floorEps(i.minValue(),e);0==Static.m3FuzzyCompare(t.minValue(),n,e)&&(n=t.minValue());var o=ceilEps(i.maxValue(),e);return 0==Static.m3FuzzyCompare(t.maxValue(),o,e)&&(o=t.maxValue()),Static.mPowInterval(this.base(),new Interval(n,o))}};function PointMapper(){var t=0,e=new Misc.Rect;this.setBoundingRect=function(t){e=t},this.boundingRect=function(){return e},this.setFlag=function(e,i){i?t|=e:t&=~e},this.testFlag=function(e){return t&e},this.toPolygonF=function(e,i,n,o,a){return t&WeedOutPoints?t&RoundPoints?mToPolylineFiltered(e,i,n,o,a,!0):mToPolylineFiltered(e,i,n,o,a,!1):t&RoundPoints?Static.mToPoints(new Misc.Rect(0,0,-1,-1),e,i,n,o,a,!0):Static.mToPoints(new Misc.Rect(0,0,-1,-1),e,i,n,o,a,!1)},this.toPointsF=function(i,n,o,a,s){return t&WeedOutPoints?t&RoundPoints?e.left()<=e.right()&&e.top()<=e.bottom()?Static.mToPointsFiltered(e,i,n,o,a,s):mToPolylineFiltered(i,n,o,a,s,!0):Static.mToPolylineFiltered(i,n,o,a,s,!1):t&RoundPoints?Static.mToPoints(e,i,n,o,a,s,!0):Static.mToPoints(e,i,n,o,a,s,!1)}}function SeriesData(){this.d_boundingRect=new Misc.Rect,this.setRectOfInterest=function(t){}}function ArraySeriesData(t){SeriesData.call(this);var e=[];void 0!==t&&(e=t),this.setSamples=function(t){this.d_boundingRect=new Misc.Rect,e=t},this.samples=function(){return e},this.size=function(){return e.length},this.sample=function(t){return e[t]}}function PointSeriesData(t){ArraySeriesData.call(this,t),this.boundingRect=function(){return this.d_boundingRect.width()<0&&(this.d_boundingRect=Static.mBoundingRect(this)),this.d_boundingRect}}function Point3DSeriesData(t){ArraySeriesData.call(this,t),this.boundingRect=function(){return this.d_boundingRect.width()<0&&(this.d_boundingRect=Static.mBoundingRect(this)),this.d_boundingRect}}function PlotSeriesItem(t){PlotItem.call(this,t);var e=null,i=Vertical;this.setOrientation=function(t){i!=t&&(i=t)},this.orientation=function(){return i},this.draw=function(t,e){this.drawSeries(t,e,0,-1)},this.boundingRect=function(){return this.dataRect()},this.updateScaleDiv=function(t,e){var i=new Misc.Rect(new Misc.Point(t.lowerBound(),e.lowerBound()),t.range(),e.range());this.setRectOfInterest(i)},this.data=function(){return e},this.sample=function(t){return e?e.sample(t):null},this.setData=function(t){e!=t&&(e=t)},this.dataSize=function(){return null==e?0:e.size()},this.dataRect=function(){return null==e?new Misc.Rect:e.boundingRect()},this.setRectOfInterest=function(t){e&&e.setRectOfInterest(t)},this.swapData=function(t){var i=e;return e=t,i}}LogScaleEngine.prototype=Object.create(ScaleEngine.prototype),LogScaleEngine.prototype.constructor=LogScaleEngine,LogScaleEngine.prototype.toString=function(){return"[LogScaleEngine]"},define("scaleEngine",["static"],function(){}),Static.mToPolylineFiltered=function(t,e,i,n,o,a){var s=[],r=i.sample(n);s[0]=new Misc.Point(Math.round(t.transform(r.x)),Math.round(e.transform(r.y)));for(var l=0,c=n+1;c<=o;c++){var u,h=i.sample(c);u=a?new Misc.Point(Math.round(t.transform(h.x)),Math.round(e.transform(h.y))):new Misc.Point(t.transform(h.x),e.transform(h.y)),s[l].x===u.x&&s[l].y===u.y||(s[++l]=u)}return s},Static.mToPoints=function(t,e,i,n,o,a,s){var r=[];if(t.left()<=t.right()&&t.top()<=t.bottom())for(h=o;h<=a;h++){var l=n.sample(h),c=e.transform(l.x),u=i.transform(l.y);c>=t.left()&&c<=t.right()&&u>=t.top()&&u<=t.bottom()&&(s?r.push(new Misc.Point(Math.round(c),Math.round(u))):r.push(new Misc.Point(c,u)),0)}else for(var h=o;h<=a;h++){l=n.sample(h),c=e.transform(l.x)-1,u=i.transform(l.y)-1;s?r.push(new Misc.Point(Math.round(c),Math.round(u))):r.push(new Misc.Point(c,u)),0}return r},PointMapper.prototype.toString=function(){return"[PointMapper]"},define("pointMapper",["static"],function(){}),Static.mBoundingRectPoint=function(t){return new Misc.Rect(t.x,t.y,0,0)},Static.mBoundingRect=function(t,e,i){var n,o=new Misc.Rect;if(void 0===e&&(e=0),void 0===i&&(i=t.size()-1),i<e)return o;for(n=e;n<=i;n++){if((a=Static.mBoundingRectPoint(t.sample(n))).width()>=0&&a.height()>=0){o=a,n++;break}}for(;n<=i;n++){var a;(a=Static.mBoundingRectPoint(t.sample(n))).width()>=0&&a.height()>=0&&o.setRect(Math.min(o.left(),a.left()),Math.min(o.top(),a.top()),Math.max(o.right(),a.right())-Math.min(o.left(),a.left()),Math.max(o.bottom(),a.bottom())-Math.min(o.top(),a.top()))}return o},SeriesData.prototype.toString=function(){return"[SeriesData]"},ArraySeriesData.inheritsFrom(SeriesData),ArraySeriesData.prototype.toString=function(){return"[ArraySeriesData]"},PointSeriesData.inheritsFrom(ArraySeriesData),PointSeriesData.prototype.toString=function(){return"[PointSeriesData]"},Point3DSeriesData.inheritsFrom(ArraySeriesData),Point3DSeriesData.prototype.toString=function(){return"[Point3DSeriesData]"},PlotSeriesItem.inheritsFrom(PlotItem),PlotSeriesItem.prototype.toString=function(){return"[PlotSeriesItem]"},define("seriesData",["static","plotItem"],function(){});class MCurveLegendAttributeDlg{constructor(){var t=this,e=!1;function i(e){"small"==e?t.curve.setLegendIconSize(new Misc.Size(t.defaultIconSize.height-4,t.defaultIconSize.height-4)):"medium"==e?t.curve.setLegendIconSize(new Misc.Size(t.defaultIconSize.height,t.defaultIconSize.height)):t.curve.setLegendIconSize(new Misc.Size(t.defaultIconSize.height+4,t.defaultIconSize.height+4))}this.curveAttributeCb=function(i){e||($("body").append($('                    <div class="modal fade" id="curveLegendAttributeModal" role="dialog">                    <div class="modal-dialog modal-sm">                    <div class="modal-content">                    <div class="modal-header">                    <button type="button" class="close" data-dismiss="modal">&times;</button>                    <h4 class="modal-title">Curve Legend Attribute</h4>                    </div>                    <div class="modal-body">                    <div class="row">                    <div class="col-sm-5">Attribute:</div>                    <div class="col-sm-7">                    <select id="curveAttribute">                    <option value="default">Pen color(Default)</option>                    <option value="line">Line</option>                    <option value="symbol">Symbol</option>                    <option value="lineAndSymbol">Line and Symbol</option>                    </select>                    </div>                    </div>                    <br>                    <div class="row" id="iconSizeRow">                    <div class="col-sm-5">Icon size:</div>                    <div class="col-sm-7">                    <select id="iconSize">                    <option value="small">Small</option>                    <option value="medium">Medium</option>                    <option value="large">Large</option>                    </select>                    </div>                    </div>                    <br>                    <div class="modal-footer">                    <button id="curveAttributeDlg_ok" type="button" class="btn btn-default"  data-dismiss="modal">Ok</button>                    </div>                    </div>                    </div>                    </div>                    </div>                    ')),t.init(),t.defaultIconSize=new Misc.Size(i.getLegendIconSize()),e=!0),t.curve=i,t.curveAttributeDlg(),"line"==$("#curveAttribute").val()||"symbol"==$("#curveAttribute").val()||"lineAndSymbol"==$("#curveAttribute").val()?$("#iconSizeRow").hide():$("#iconSizeRow").show()},this.init=function(){var t=this;$("#curveAttribute").change(function(){Utility.setLegendAttribute(t.curve,$(this).val(),t.defaultIconSize),"line"==$(this).val()?$("#iconSizeRow").hide():"symbol"==$(this).val()?$("#iconSizeRow").hide():"lineAndSymbol"==$(this).val()?$("#iconSizeRow").hide():(i($("#iconSize").val()),$("#iconSizeRow").show())}),$("#iconSize").change(function(){i($(this).val())})},this.curveAttributeDlg=function(){t.curve.testLegendAttribute(LegendShowLine)&&t.curve.testLegendAttribute(LegendShowSymbol)?$("#curveAttribute").val("lineAndSymbol"):t.curve.testLegendAttribute(LegendShowSymbol)?$("#curveAttribute").val("symbol"):t.curve.testLegendAttribute(LegendShowLine)?$("#curveAttribute").val("line"):$("#curveAttribute").val("default"),$("#curveLegendAttributeModal").modal({backdrop:"static"}),t.curve.getLegendIconSize().width==t.defaultIconSize.width-4?$("#iconSize").val("small"):t.curve.getLegendIconSize().width==t.defaultIconSize.width?$("#iconSize").val("medium"):t.curve.getLegendIconSize().width==t.defaultIconSize.width+4&&$("#iconSize").val("large")}}}define("curveLegendAttributeDlg",function(){});class MSettings{constructor(){var t=["Arial,Arial,Helvetica,sans-serif","Arial Black,Arial Black,Gadget,sans-serif","Comic Sans MS,Comic Sans MS,cursive","Courier New,Courier New,Courier,monospace","Georgia,Georgia,serif","Impact,Charcoal,sans-serif","Lucida Console,Monaco,monospace","Lucida Sans Unicode,Lucida Grande,sans-serif","Palatino Linotype,Book Antiqua,Palatino,serif","Tahoma,Geneva,sans-serif","Times New Roman,Times,serif","Trebuchet MS,Helvetica,sans-serif","Verdana,Geneva,sans-serif","Gill Sans,Geneva,sans-serif"],e=null,i=new MPointEntryDlg;this.shadeWatchArea=!0;var n=$('<div class="modal fade" id="myModal" role="dialog">            <div class="modal-dialog">                        <div class="modal-content">            <div class="modal-header">            <button type="button" class="close" data-dismiss="modal">&times;</button>            <h4 class="modal-title">Plot Settings</h4>            </div>            <div class="modal-body">            <div class="panel-group" id="accordion">                        <div class="panel panel-default">            <div class="panel-heading">            <h4 class="panel-title">            <a data-toggle="collapse" data-parent="#accordion" href="#collapse1">General Settings</a>            </h4>            </div>            <div id="collapse1" class="panel-collapse collapse in">            <div class="panel-body">                        <ul class="nav nav-tabs">            <li class="active"><a data-toggle="tab" href="#plotTitle">Title</a></li>            <li><a data-toggle="tab" href="#plotFooter">Footer</a></li>            <li><a data-toggle="tab" href="#plotBackground">Background</a></li>            <li><a data-toggle="tab" href="#plotLegend">Legend</a></li>            </ul>            <div class="tab-content">            <div id="plotTitle" class="tab-pane fade in active">            <div class="row">            <div class="col-sm-3">Plot Title:</div>            <input id="title" type="text" class="col-sm-9" value="Title"/>            </div>                                    \x3c!--font start--\x3e            <div class="row">            <br>            <div class="col-sm-1">Font:</div>            <div class="col-sm-4">            <select id="fontSelector">            <option value="Arial">Arial</option>            <option value="ArialBlack">Arial Black</option>            <option value="ComicSansMS">Comic Sans MS</option>            <option value="CourierNew">Courier New</option>            <option value="Georgia">Georgia</option>            <option value="Impact">Impact</option>            <option value="LucidaConsole">Lucida Console</option>            <option value="LucidaSansUnicode">Lucida Sans Unicode</option>            <option value="PalatinoLinotype">Palatino Linotype</option>            <option value="Tahoma">Tahoma</option>            <option value="TimesNewRoman">Times New Roman</option>            <option value="TrebuchetMS">Trebuchet MS</option>            <option value="Verdana">Verdana</option>            <option value="GillSans">Gill Sans</option>            </select>            </div>            <div class="col-sm-1">Color:</div>            <div class="col-sm-2">            <input type="color" id="colorTitle">            </div>            <div class="col-sm-2">Font size:</div>            <div class="col-sm-1">            <select id="pointSelector">            <option value="6">6</option>            <option value="7">7</option>            <option value="8">8</option>            <option value="9">9</option>            <option value="10">10</option>            <option value="11">11</option>            <option value="12">12</option>            <option value="13">13</option>            <option value="14">14</option>            <option value="15">15</option>            <option value="16">16</option>            <option value="17">17</option>            <option value="18">18</option>            <option value="19">19</option>            <option value="20">20</option>            <option value="21">21</option>            <option value="22">22</option>            <option value="23">23</option>            <option value="24">24</option>            <option value="25">25</option>            <option value="26">26</option>            <option value="27">27</option>            <option value="28">28</option>            <option value="29">29</option>            <option value="30">30</option>            <option value="31">31</option>            <option value="32">32</option>            </select>            </div>            </div>            <div class="row">            <br>            <div class="col-sm-7">            <form role="form">            <label class="noSelect"><input id="bold_title" type="checkbox" checked name="bold">Bold</label><span> </span>            </form>            </div>            <div class="col-sm-4">            </div>            </div>            \x3c!--font end--\x3e                                    </div>            <div id="plotFooter" class="tab-pane fade">            <div class="row">            <br>            <div class="col-sm-3">Plot Footer:</div>            <input id="footer" type="text" class="col-sm-9" value="Footer"/>            </div>            <div class="row">            <br>            <div class="col-sm-1">Font:</div>            <div class="col-sm-4">            <select id="fontSelector_footer">            <option value="Arial">Arial</option>            <option value="ArialBlack">Arial Black</option>            <option value="ComicSansMS">Comic Sans MS</option>            <option value="CourierNew">Courier New</option>            <option value="Georgia">Georgia</option>            <option value="Impact">Impact</option>            <option value="LucidaConsole">Lucida Console</option>            <option value="LucidaSansUnicode">Lucida Sans Unicode</option>            <option value="PalatinoLinotype">Palatino Linotype</option>            <option value="Tahoma">Tahoma</option>            <option value="TimesNewRoman">Times New Roman</option>            <option value="TrebuchetMS">Trebuchet MS</option>            <option value="Verdana">Verdana</option>            <option value="GillSans">Gill Sans</option>            </select>            </div>            <div class="col-sm-1">Color:</div>            <div class="col-sm-2">            <input type="color" id="colorSelector_footer">            </div>            <div class="col-sm-2">Font size:</div>            <div class="col-sm-1">            <select id="pointSelector_footer">            <option value="6">6</option>            <option value="7">7</option>            <option value="8">8</option>            <option value="9">9</option>            <option value="10">10</option>            <option value="11">11</option>            <option value="12">12</option>            <option value="13">13</option>            <option value="14">14</option>            <option value="15">15</option>            <option value="16">16</option>            <option value="17">17</option>            <option value="18">18</option>            <option value="19">19</option>            <option value="20">20</option>            <option value="21">21</option>            <option value="22">22</option>            <option value="23">23</option>            <option value="24">24</option>            <option value="25">25</option>            <option value="26">26</option>            <option value="27">27</option>            <option value="28">28</option>            <option value="29">29</option>            <option value="30">30</option>            <option value="31">31</option>            <option value="32">32</option>            </select>            </div>            </div>            <div class="row">            <br>            <div class="col-sm-7">            <form role="form">            <label class="noSelect"><input id="bold_footer" type="checkbox" checked name="bold">Bold</label><span> </span>            </form>            </div>            <div class="col-sm-4">            \x3c!--div class="col-sm-8">Font Size:</div>            <select id="pointSelector_footer">            <option value="6">6</option>            <option value="7">7</option>            <option value="8">8</option>            <option value="9">9</option>            <option value="10">10</option>            <option value="11">11</option>            <option value="12">12</option>            <option value="13">13</option>            <option value="14">14</option>            <option value="15">15</option>            <option value="16">16</option>            <option value="17">17</option>            <option value="18">18</option>            <option value="19">19</option>            <option value="20">20</option>            <option value="21">21</option>            <option value="22">22</option>            <option value="23">23</option>            <option value="24">24</option>            <option value="25">25</option>            <option value="26">26</option>            <option value="27">27</option>            <option value="28">28</option>            <option value="29">29</option>            <option value="30">30</option>            <option value="31">31</option>            <option value="32">32</option>            </select--\x3e            </div>            </div>            </div>            <div id="plotBackground" class="tab-pane fade">            <div class="row">            <br>            <div class="col-sm-4">Background color:</div>            <div class="col-sm-2">            <input type="color" id= "colorSelector_background">            </div>            </div>            </div>                        <div id="plotLegend" class="tab-pane fade">            <div class="row">            <br>            <div class="col-sm-3">Background:</div>            <div class="col-sm-2">            <input type="color" id= "colorSelector_legend" value="#ffffff">            </div>            </div>            <div class="row">            <br>            <div class="col-sm-3">Show line:</div>            <div class="col-sm-2">            <input type="checkbox" id= "showline">            </div>            </div>            <div class="row">            <br>            <div class="col-sm-3">Show symbol:</div>            <div class="col-sm-2">            <input type="checkbox" id= "showsymbol">            </div>            </div>            </div>                        </div>            </div>            </div>            </div>                                    <div class="panel panel-default">            <div class="panel-heading">            <h4 class="panel-title">            <a data-toggle="collapse" data-parent="#accordion" href="#collapse2">Scale Settings</a>            </h4>            </div>            <div id="collapse2" class="panel-collapse collapse">            <div class="panel-body">            <ul class="nav nav-tabs">            <li class="active"><a data-toggle="tab" href="#title_scale">Title</a></li>            <li><a data-toggle="tab" href="#type">Type</a></li>            <li><a data-toggle="tab" href="#user">Limits</a></li>            <li><a data-toggle="tab" href="#exponent">Exp notation</a></li>            <li><a data-toggle="tab" href="#margins">Margins</a></li>            <li><a data-toggle="tab" href="#components">Components</a></li>            </ul>            <div class="tab-content">                        <div id="title_scale" class="tab-pane fade in active">            <div class="row">            <div class="col-sm-2">Bottom:</div>            <input id="bottomScale_title" type="text" class="col-sm-3" value=""/>            <div class="col-sm-2">Top:</div>            <input id="topScale_title" type="text" class="col-sm-3" value=""/>            </div>            <div class="row">            <div class="col-sm-2">Left:</div>            <input id="leftScale_title" type="text" class="col-sm-3" value=""/>            <div class="col-sm-2">Right:</div>            <input id="rightScale_title" type="text" class="col-sm-3" value=""/>            </div>            \x3c!--font start--\x3e            <div class="row">            <br>            <div class="col-sm-1">Font:</div>            <div class="col-sm-4">            <select id="axisTitleFontSelector">            <option value="Arial">Arial</option>            <option value="ArialBlack">Arial Black</option>            <option value="ComicSansMS">Comic Sans MS</option>            <option value="CourierNew">Courier New</option>            <option value="Georgia">Georgia</option>            <option value="Impact">Impact</option>            <option value="LucidaConsole">Lucida Console</option>            <option value="LucidaSansUnicode">Lucida Sans Unicode</option>            <option value="PalatinoLinotype">Palatino Linotype</option>            <option value="Tahoma">Tahoma</option>            <option value="TimesNewRoman">Times New Roman</option>            <option value="TrebuchetMS">Trebuchet MS</option>            <option value="Verdana">Verdana</option>            <option value="GillSans">Gill Sans</option>            </select>            </div>            <div class="col-sm-1">Color:</div>            <div class="col-sm-2">            <input type="color" id="axisColorTitle">            </div>            <div class="col-sm-2">Font size:</div>            <div class="col-sm-1">            <select id="axisTitlePointSelector">            <option value="6">6</option>            <option value="7">7</option>            <option value="8">8</option>            <option value="9">9</option>            <option value="10">10</option>            <option value="11">11</option>            <option value="12">12</option>            <option value="13">13</option>            <option value="14">14</option>            <option value="15">15</option>            <option value="16">16</option>            <option value="17">17</option>            <option value="18">18</option>            <option value="19">19</option>            <option value="20">20</option>            <option value="21">21</option>            <option value="22">22</option>            <option value="23">23</option>            <option value="24">24</option>            <option value="25">25</option>            <option value="26">26</option>            <option value="27">27</option>            <option value="28">28</option>            <option value="29">29</option>            <option value="30">30</option>            <option value="31">31</option>            <option value="32">32</option>            </select>            </div>            </div>            <div class="row">            <br>            <div class="col-sm-7">            <form role="form">            <label class="noSelect"><input id="axis_bold_title" type="checkbox" name="bold">Bold</label><span> </span>            </form>            </div>            <div class="col-sm-4">            </div>            </div>            \x3c!--font end--\x3e            </div>                                    <div id="type" class="tab-pane fade">            <div class="row">            <div class="col-sm-2">Bottom:</div>            <div class="col-sm-20">            <form role="form">            <label class="radio-inline">            <input id="bottom_linear" type="radio" checked name="optradio">Linear            </label>            <label class="radio-inline">            <input id="bottom_log" type="radio" name="optradio">Log            </label>            <label class="radio-inline">            Base             <input id="bottom_logBase" type="number" min=2 max=10 value=10 readonly=true>            <span> </span>            Decimal             <input id="bottom_decimalPlaces" type="number" min=0 max=10 value=3>            </label>            </form>            </div>            </div>            <div class="row">            <div class="col-sm-2">Top:</div>            <div class="col-sm-20">            <form role="form">            <label class="radio-inline">            <input id="top_linear" type="radio" checked name="optradio">Linear            </label>            <label class="radio-inline">            <input id="top_log" type="radio" name="optradio">Log            </label>            <label class="radio-inline">            Base             <input id="top_logBase" type="number" min=2 max=10 value=10 readonly=true>            <span> </span>            Decimal             <input id="top_decimalPlaces" type="number" min=0 max=10 value=3>            </label>            </form>            </div>            </div>            <div class="row">            <div class="col-sm-2">Left:</div>            <div class="col-sm-20">            <form role="form">            <label class="radio-inline">            <input id="left_linear" type="radio" checked name="optradio">Linear            </label>            <label class="radio-inline">            <input id="left_log" type="radio" name="optradio">Log            </label>            <label class="radio-inline">            Base             <input id="left_logBase" type="number" min=2 max=10 value=10 readonly=true>            <span> </span>            Decimal             <input id="left_decimalPlaces" type="number" min=0 max=10 value=3>            </label>            </form>            </div>            </div>            <div class="row">            <div class="col-sm-2">Right:</div>            <div class="col-sm-20">            <form role="form">            <label class="radio-inline">            <input id="right_linear" type="radio" checked name="optradio">Linear            </label>            <label class="radio-inline">            <input id="right_log" type="radio" name="optradio">Log            </label>            <label class="radio-inline">            Base             <input id="right_logBase" type="number" min=2 max=10 value=10 readonly=true>            <span> </span>            Decimal             <input id="right_decimalPlaces" type="number" min=0 max=10 value=3>            </label>            </form>            </div>            </div>            </div>                        <div id="exponent" class="tab-pane fade">            <div class="row">            <br>            <div class="col-sm-8">Use exponent notation for values less than:</div>            <input id="exponent_lower" type="number" max=0 value=-10000>            <br>            <div class="col-sm-8">Use exponent notation for values greater than:</div>            <input id="exponent_upper" type="number" min=0 value=10000>            </div>            </div>                        <div id="margins" class="tab-pane fade">            <div class="row">            <br>            <div class="col-sm-4">Left axis:</div>            <input id="margin_left" type="number" min= 0.0 value=0.0>            <br>            <div class="col-sm-4">Right axis:</div>            <input id="margin_right" type="number" min= 0.0 value=0.0>            <br>            <div class="col-sm-4">Bottom axis:</div>            <input id="margin_bottom" type="number" min= 0.0 value=0.0>            <br>            <div class="col-sm-4">Top:</div>            <input id="margin_top" type="number" min= 0.0 value=0.0>            </div>            </div>                        <div id="components" class="tab-pane fade">            <div class="row">            <br>            <div class="col-sm-4">Show backbone:</div>            <input type="checkbox" checked id= "show_backbone">            <br>            <div class="col-sm-4">Show labels:</div>            <input type="checkbox" checked id= "show_labels">            <br>            <div class="col-sm-4">Show ticks:</div>            <input type="checkbox" checked id= "show_ticks">            <br>            <div id="tickLengthRow">            <div class="col-sm-4">Tick length:</div>            <select id= "tick_length">            <option value="small">Small</option>            <option value="medium" selected>Medium</option>            <option value="large">Large</option>            </select>            </div>            </div>            </div>                        <div id="user" class="tab-pane fade">            <div class="row">            <div class="col-sm-4">Enable user scale:</div>            <input id="enableUserScale" type="checkbox">            </div>            <div class="row">            <div class="col-sm-2">Bottom:</div>            <div class="col-sm-1">min:</div>            <input id="bottom_min" type="text" readonly value=0> max:            <input id="bottom_max" type="text" readonly value=1000>            </div>            <div class="row">            <div class="col-sm-2">Left:</div>            <div class="col-sm-1">min:</div>            <input id="left_min" type="text" readonly value=0> max:            <input id="left_max" type="text" readonly value=1000>            </div>            <div class="row">            <div class="col-sm-2">Top:</div>            <div class="col-sm-1">min:</div>            <input id="top_min" type="text" readonly value=0> max:            <input id="top_max" type="text" readonly value=1000>            </div>            <div class="row">            <div class="col-sm-2">Right:</div>            <div class="col-sm-1">min:</div>            <input id="right_min" type="text" readonly value=0> max:            <input id="right_max" type="text" readonly value=1000>            </div>            </div>                        </div>            </div>            </div>            </div>                                    <div class="panel panel-default">            <div class="panel-heading">            <h4 class="panel-title">            <a data-toggle="collapse" data-parent="#accordion" href="#collapse4">Point selection Settings</a>            </h4>            </div>            <div id="collapse4" class="panel-collapse collapse">            <div class="panel-body">            <div class="col-sm-5">When a point is selected</div>            <select id="point_selection">            <option value="display_data">display data</option>            <option value="remove_it">remove it</option>            <option value="modify_it">modify it</option>            </select>            <br>            <br>            </div>            </div>            </div>                                    <div class="panel panel-default">            <div class="panel-heading">            <h4 class="panel-title">            <a data-toggle="collapse" data-parent="#accordion" href="#collapse14">Error Settings</a>            </h4>            </div>            <div id="collapse14" class="panel-collapse collapse">            <div class="panel-body">            <div class="col-sm-5">When an error occurs,</div>            <select id="errorResponse">            <option value="stopWarn">stop and warn</option>            <option value="silentIgnore">silently ignore</option>            <option value="warnIgnore">allow for ignore</option>            </select>            <br>            <br>            </div>            </div>            </div>                                    <div class="panel panel-default">            <div class="panel-heading">            <h4 class="panel-title">            <a data-toggle="collapse" data-parent="#accordion" href="#collapse7">Zoomer Settings</a>            </h4>            </div>            <div id="collapse7" class="panel-collapse collapse">            <div class="panel-body">            <div>Zoom according to:</div>            <br>            <div class="col-sm-2">Horizontal:</div>            <select id="axisHorizontal">            <option value="bottomAxis">Bottom axis</option>            <option value="topAxis">Top axis</option>            </select>            <br>            <br>            <div class="col-sm-2">Vertical:</div>            <select id="axisVertical">            <option value="leftAxis">Left axis</option>            <option value="rightAxis">Right axis</option>            </select>            </div>            </div>            </div>                                    <div class="panel panel-default">            <div class="panel-heading">            <h4 class="panel-title">            <a data-toggle="collapse" data-parent="#accordion" href="#collapse5">Magnifier Settings</a>            </h4>            </div>            <div id="collapse5" class="panel-collapse collapse">            <div class="panel-body">            <div>Enabled axes.</div>            <br>            <div class="col-sm-1">Left:</div>            <input id= "leftAxis" type="checkbox" checked class="col-sm-1"/>            <div class="col-sm-1">Right:</div>            <input id= "rightAxis" type="checkbox" class="col-sm-1"/>            <div class="col-sm-1">Bottom:</div>            <input id= "bottomAxis" type="checkbox" checked class="col-sm-1"/>            <div class="col-sm-1">Top:</div>            <input id= "topAxis" type="checkbox" class="col-sm-1"/>            </div>            </div>            </div>                                    <div class="panel panel-default">            <div class="panel-heading">            <h4 class="panel-title">            <a data-toggle="collapse" data-parent="#accordion" href="#collapse9">Watch Settings</a>            </h4>            </div>            <div id="collapse9" class="panel-collapse collapse">            <div class="panel-body">            <div>Calculation accuracy.</div>            <br>            <div class="col-sm-1">Low:</div>            <input id= "lowAccuracy" type="radio" name="accuracy" value= "lowAccuracy" class="col-sm-1"/>            <div class="col-sm-2">Moderate:</div>            <input id= "moderateAccuracy" type="radio" name="accuracy" value= "moderateAccuracy" checked class="col-sm-1"/>            <div class="col-sm-1">High:</div>            <input id= "highAccuracy" type="radio" name="accuracy" value= "highAccuracy" class="col-sm-1"/>            <br>            <br>            <div>Shading.</div>            <br>            <div class="col-sm-4">Shade Watch Area:</div>            <input id= "watchArea" type="checkbox" checked class="col-sm-1"/>            <div id= "shadeColorDiv">            <div class="col-sm-3">Shade color:</div>            <div class="col-sm-2">            <input type="color" id="shadeColor" value="#a9a9a9">            </div>            </div>            </div>            </div>            </div>                                    <div class="panel panel-default">            <div class="panel-heading">            <h4 class="panel-title">            <a data-toggle="collapse" data-parent="#accordion" href="#collapse3">Grid Settings</a>            </h4>            </div>            <div id="collapse3" class="panel-collapse collapse">            <div class="panel-body">            <ul class="nav nav-tabs">            <li class="active"><a data-toggle="tab" href="#minor">Minor lines</a></li>            <li><a data-toggle="tab" href="#major">Major lines</a></li>            <li><a data-toggle="tab" href="#gridAxes">Grid axes</a></li>            </ul>            <div class="tab-content">            <div id="minor" class="tab-pane fade in active">            <div class="row">            <br>            <div class="col-sm-1">Show:</div>            <input id="minor_gridLines" type="checkbox" checked class="col-sm-1"/>            </div>            <div class="row">            <br>            <div class="col-sm-8">Maximum number of minor divisions per major division:</div>            <input id="minor_divisions" type="number" class="col-sm-2" min=2 max=20 value="5"/>            </div>            <div class="row">            <br>            <div class="col-sm-2">Color:</div>            <input id="minor_line_color" type="color" class="col-sm-2"/>            </div>            </div>            <div id="gridAxes" class="tab-pane fade">            <div>Draw gridlines according to:</div>            <br>            <div class="col-sm-2">Horizontal:</div>            <select id="gridAxisHorizontal">            <option value="bottomAxis">Bottom axis</option>            <option value="topAxis">Top axis</option>            </select>            <br>            <br>            <div class="col-sm-2">Vertical:</div>            <select id="gridAxisVertical">            <option value="leftAxis">Left axis</option>            <option value="rightAxis">Right axis</option>            </select>            </div>            <div id="major" class="tab-pane fade">            <div class="row">            <br>            <div class="col-sm-1">Show:</div>            <input id="major_gridLines" type="checkbox" checked class="col-sm-1"/>            </div>            <div class="row">            <br>            <div class="col-sm-6">Maximum number of major divisions:</div>            <div class="col-sm-2">            <form role="form">            <input input id="major_divisions" type="number" min=1 max=40 value="8">            </div>            </div>            <div class="row">            <br>            </div>            <div class="row">            <div class="col-sm-1">Color:</div>            <div class="col-sm-10">            <form role="form">            <input id="major_line_color" type="color">            </div>            </div>            </div>            </div>            </div>            </div>            </div>            </div>            </div>            <div class="modal-footer">            <button id="okButton" type="button" class="btn btn-default" data-dismiss="modal">Ok</button>            </div            </div>            </div>            </div>');function o(t){$("#bottom_min").attr("readonly",t),$("#bottom_max").attr("readonly",t),$("#left_min").attr("readonly",t),$("#left_max").attr("readonly",t),$("#top_min").attr("readonly",t),$("#top_max").attr("readonly",t),$("#right_min").attr("readonly",t),$("#right_max").attr("readonly",t)}this.setPlot=function(a){var s=this;if(e=a){$("body").append(n);var r=e.titleFont(),l=e.axisTitleFont(xBottom),c=null;function u(){(c=e.axisLabelFont(xBottom)).th=.86*l.th,e.setAxisLabelFont(xBottom,c),e.setAxisLabelFont(xTop,c),e.setAxisLabelFont(yLeft,c),e.setAxisLabelFont(yRight,c),e.setAxisTitleFont(xBottom,l),e.setAxisTitleFont(xTop,l),e.setAxisTitleFont(yLeft,l),e.setAxisTitleFont(yRight,l)}$("#axisHorizontal").change(function(){"bottomAxis"==$(this).val()?e.zoomer.setAxis(xBottom,e.zoomer.yAxis()):e.zoomer.setAxis(xTop,e.zoomer.yAxis())}),$("#errorResponse").change(function(){"silentIgnore"==$(this).val()?Static.errorResponse=Static.silentIgnore:"warnIgnore"==$(this).val()?Static.errorResponse=Static.warnIgnore:Static.errorResponse=Static.warn}),$("#point_selection").change(function(){"remove_it"==$(this).val()?e.curveClosestPoint.setCb(function(t,e){t.removePoint(e)}):"modify_it"==$(this).val()?e.curveClosestPoint.setCb(function(t,n){i.pointEntryCb(e,t.title(),n)}):e.curveClosestPoint.setCb(null)}),$("input[name*='accuracy']").change(function(){for(var t=document.getElementsByName("accuracy"),e=0,i=t.length;e<i;e++)if(t[e].checked){"lowAccuracy"==t[e].value?Static.accuracyMaxSteps=.5*Static.accuracyBase*.5:"moderateAccuracy"==t[e].value?Static.accuracyMaxSteps=.5*Static.accuracyBase:Static.accuracyMaxSteps=Static.accuracyBase,Static.trigger("positionChanged");break}}),$("#axisVertical").change(function(){"leftAxis"==$(this).val()?e.zoomer.setAxis(e.zoomer.xAxis(),yLeft):e.zoomer.setAxis(e.zoomer.xAxis(),yRight)}),$("#watchArea").change(function(){s.shadeWatchArea=this.checked,$("#shadeColorDiv").toggle(this.checked),Static.trigger("shadeWatchArea",s.shadeWatchArea)}),$("#shadeColor").change(function(){Static.trigger("curveShapeColorChanged",$("#shadeColor")[0].value)}),$("#leftAxis").change(function(){e.magnifier.setAxisEnabled(yLeft,this.checked)}),$("#rightAxis").change(function(){e.magnifier.setAxisEnabled(yRight,this.checked)}),$("#bottomAxis").change(function(){e.magnifier.setAxisEnabled(xBottom,this.checked)}),$("#topAxis").change(function(){e.magnifier.setAxisEnabled(xTop,this.checked)}),$("#minor_divisions").change(function(){var t=Math.min(Math.max(2,$(this).val()),20);$("#minor_divisions").val(t),e.setAxisMaxMinor(yLeft,t),e.setAxisMaxMinor(yRight,t),e.setAxisMaxMinor(xTop,t),e.setAxisMaxMinor(xBottom,t)}),$("#major_divisions").change(function(){var t=Math.min(Math.max(1,$(this).val()),40);$("#major_divisions").val(t),e.setAxisMaxMajor(yLeft,$(this).val()),e.setAxisMaxMajor(yRight,$(this).val()),e.setAxisMaxMajor(xTop,$(this).val()),e.setAxisMaxMajor(xBottom,$(this).val())}),$("#minor_line_color").change(function(){e.itemList(Static.Rtti_PlotGrid)[0].setMinorPen($("#minor_line_color")[0].value)}),$("#major_line_color").change(function(){e.itemList(Static.Rtti_PlotGrid)[0].setMajorPen($("#major_line_color")[0].value)}),$("#major_gridLines").click(function(){var t=e.itemList(Static.Rtti_PlotGrid)[0];Utility.majorGridLines(t,$(this)[0].checked),$("#minor_gridLines").prop("checked",$(this)[0].checked)}),$("#minor_gridLines").click(function(){var t=e.itemList(Static.Rtti_PlotGrid)[0];Utility.minorGridLines(t,$(this)[0].checked)}),$("#gridAxisVertical").change(function(){var t=e.itemList(Static.Rtti_PlotGrid)[0];"leftAxis"==$(this).val()?t.setYAxis(yLeft):t.setYAxis(yRight)}),$("#gridAxisHorizontal").change(function(){var t=e.itemList(Static.Rtti_PlotGrid)[0];"bottomAxis"==$(this).val()?t.setXAxis(xBottom):t.setXAxis(xTop)}),$("#margin_left").change(function(){var t=0,i=e.axisScaleEngine(yLeft);if(i instanceof LogScaleEngine){e.axisScaleDiv(yLeft);t=Static.mLog(i.base(),$(this).val())}else{e.axisInterval(yLeft);t=$(this).val()}e.axisScaleEngine(yLeft).setMargins(t,t),e.autoRefresh()}),$("#margin_right").change(function(){var t=0,i=e.axisScaleEngine(yRight);if(i instanceof LogScaleEngine){e.axisScaleDiv(yRight);t=Static.mLog(i.base(),$(this).val())}else{e.axisInterval(yRight);t=$(this).val()}e.axisScaleEngine(yRight).setMargins(t,t),e.autoRefresh()}),$("#margin_bottom").change(function(){var t=0,i=e.axisScaleEngine(xBottom);if(i instanceof LogScaleEngine){e.axisScaleDiv(xBottom);t=Static.mLog(i.base(),$(this).val())}else{e.axisInterval(xBottom);t=$(this).val()}e.axisScaleEngine(xBottom).setMargins(t,t),e.autoRefresh()}),$("#margin_top").change(function(){var t=0,i=e.axisScaleEngine(xTop);if(i instanceof LogScaleEngine){e.axisScaleDiv(xTop);t=Static.mLog(i.base(),$(this).val())}else{e.axisInterval(xTop);t=$(this).val()}e.axisScaleEngine(xTop).setMargins(t,t),e.autoRefresh()}),$("#exponent_lower").change(function(){e.setNonExponentNotationLimits($(this).val(),$("#exponent_upper").val())}),$("#exponent_upper").change(function(){e.setNonExponentNotationLimits($("#exponent_lower").val(),$(this).val())}),$("#axis_bold_title").click(function(){$(this)[0].checked?l.weight="bold":l.weight="normal",u()}),$("#axisColorTitle").change(function(){l.fontColor=$("#axisColorTitle")[0].value,u()}),$("#axisTitleFontSelector").change(function(){l.name=t[this.selectedIndex],u()}),$("#axisTitlePointSelector").change(function(){l.th=parseInt($(this[this.selectedIndex]).val()),u()}),$("#bold_title").click(function(){$(this)[0].checked?r.weight="bold":r.weight="normal",e.setTitleFont(r)}),$("#bold_footer").click(function(){$(this)[0].checked?footerFont.weight="bold":footerFont.weight="normal",e.setFooterFont(footerFont)}),$("#colorTitle").change(function(){r.fontColor=$("#colorTitle")[0].value,e.setTitleFont(r)}),$("#fontSelector").change(function(){r.name=t[this.selectedIndex],e.setTitleFont(r)}),$("#pointSelector").change(function(){r.th=$(this[this.selectedIndex]).val(),e.setTitleFont(r)}),$("#colorSelector_footer").change(function(){var t=e.footerFont();t.fontColor=$("#colorSelector_footer")[0].value,e.setFooterFont(t)}),$("#colorSelector_background").change(function(){e.setPlotBackground($("#colorSelector_background")[0].value)}),$("#colorSelector_legend").change(function(){var t=e.getLayout().getLegendDiv().children()[0];$(t).css("background-color",$("#colorSelector_legend")[0].value)}),$("#fontSelector_footer").change(function(){var i=e.footerFont();i.name=t[this.selectedIndex],e.setFooterFont(i)}),$("#pointSelector_footer").change(function(){var t=$(this[this.selectedIndex]).val(),i=e.footerFont();i.th=t,e.setFooterFont(i)}),$("#footer").change(function(){e.setFooter($(this).val())}),$("#title").change(function(){e.setTitle($(this).val())}),$("#bottomScale_title").change(function(){e.setAxisTitle(xBottom,$(this).val())}),$("#topScale_title").change(function(){e.setAxisTitle(xTop,$(this).val())}),$("#leftScale_title").change(function(){e.setAxisTitle(yLeft,$(this).val())}),$("#rightScale_title").change(function(){e.setAxisTitle(yRight,$(this).val())}),$("#show_backbone").change(function(){Utility.enableComponent(e,Backbone,this.checked)}),$("#show_ticks").change(function(){Utility.enableComponent(e,Ticks,this.checked),$("#tickLengthRow").toggle(this.checked)}),$("#tick_length").change(function(){Utility.setTickLength(e,$(this).val())}),$("#show_labels").change(function(){Utility.enableComponent(e,Labels,this.checked)}),$("#showline").change(function(){Static.showline=this.checked}),$("#showsymbol").change(function(){Static.showsymbol=this.checked}),$("#enableUserScale").change(function(){o(!this.checked)}),$("#okButton").click(function(){$("#enableUserScale")[0].checked&&(e.setAxisScale(xBottom,parseFloat($("#bottom_min").val()),parseFloat($("#bottom_max").val())),e.setAxisScale(yLeft,parseFloat($("#left_min").val()),parseFloat($("#left_max").val())),e.setAxisScale(xTop,parseFloat($("#top_min").val()),parseFloat($("#top_max").val())),e.setAxisScale(yRight,parseFloat($("#right_min").val()),parseFloat($("#right_max").val())))}),$("#bottom_log").change(function(){$("#bottom_logBase").attr("readonly",!1),e.setAxisScaleEngine(xBottom,new LogScaleEngine),$("#margin_bottom").val(0),Static.trigger("scaleEngineChanged","LogScaleEngine")}),$("#bottom_logBase").change(function(){e.axisScaleEngine(yLeft).setBase($(this).val()),e.replot()}),$("#bottom_linear").change(function(){$("#bottom_logBase").attr("readonly",!0),e.setAxisScaleEngine(xBottom,new LinearScaleEngine),$("#margin_bottom").val(0),Static.trigger("scaleEngineChanged","LinearScaleEngine")}),$("#left_log").change(function(){$("#left_logBase").attr("readonly",!1),$("#margin_left").val(0),e.setAxisScaleEngine(yLeft,new LogScaleEngine),Static.trigger("scaleEngineChanged","LogScaleEngine")}),$("#left_logBase").change(function(){e.axisScaleEngine(yLeft).setBase($(this).val()),e.replot()}),$("#left_linear").change(function(){$("#left_logBase").attr("readonly",!0),e.setAxisScaleEngine(yLeft,new LinearScaleEngine),$("#margin_left").val(0),Static.trigger("scaleEngineChanged","LinearScaleEngine")}),$("#top_log").change(function(){$("#top_logBase").attr("readonly",!1),e.setAxisScaleEngine(xTop,new LogScaleEngine),$("#margin_top").val(0),Static.trigger("scaleEngineChanged","LogScaleEngine")}),$("#top_logBase").change(function(){e.axisScaleEngine(yLeft).setBase($(this).val()),e.replot()}),$("#top_linear").change(function(){$("#top_logBase").attr("readonly",!0),e.setAxisScaleEngine(xTop,new LinearScaleEngine),$("#margin_top").val(0),Static.trigger("scaleEngineChanged","LinearScaleEngine")}),$("#right_log").change(function(){$("#right_logBase").attr("readonly",!1),e.setAxisScaleEngine(yRight,new LogScaleEngine),$("#margin_right").val(0),Static.trigger("scaleEngineChanged","LogScaleEngine")}),$("#right_logBase").change(function(){e.axisScaleEngine(yLeft).setBase($(this).val()),e.replot()}),$("#right_linear").change(function(){$("#right_logBase").attr("readonly",!0),e.setAxisScaleEngine(yRight,new LinearScaleEngine),$("#margin_right").val(0),Static.trigger("scaleEngineChanged","LinearScaleEngine")}),$("#bottom_decimalPlaces").change(function(){e.setAxisDecimalPlaces(xBottom,parseInt($(this).val()))}),$("#top_decimalPlaces").change(function(){e.setAxisDecimalPlaces(xTop,parseInt($(this).val()))}),$("#left_decimalPlaces").change(function(){e.setAxisDecimalPlaces(yLeft,parseInt($(this).val()))}),$("#right_decimalPlaces").change(function(){e.setAxisDecimalPlaces(yRight,parseInt($(this).val()))})}},this.plot=function(){return e},this.settingsDlg=function(){$("#myModal").modal({backdrop:"static"});var i=e.titleFont(),n=t.indexOf(i.name);-1==n&&(n=0),$("#fontSelector")[0].selectedIndex=n,$("#pointSelector").val(i.th),$("#colorTitle").val(i.fontColor),$("#title").val(e.title());var a=e.footerFont();-1==(n=t.indexOf(a.name))&&(n=0),$("#fontSelector_footer")[0].selectedIndex=n,$("#pointSelector_footer").val(a.th),$("#colorSelector_footer").val(a.fontColor),$("#footer").val(e.footer());var s=e.axisTitleFont(xBottom);-1==(n=t.indexOf(s.name))&&(n=0),$("#axisTitleFontSelector")[0].selectedIndex=n,$("#axisTitlePointSelector").val(s.th),$("#axisColorTitle").val(s.fontColor),$("#colorSelector_background").val(Static.RGB2HTML(e.plotBackground())),$("#bottomScale_title").val(e.axisTitle(xBottom)),$("#topScale_title").val(e.axisTitle(xTop)),$("#leftScale_title").val(e.axisTitle(yLeft)),$("#rightScale_title").val(e.axisTitle(yRight)),$("#footer").val(e.footer());var r=e.axisInterval(xBottom);$("#bottom_min").val(r.minValue()),$("#bottom_max").val(r.maxValue()),r=e.axisInterval(yLeft),$("#left_min").val(r.minValue()),$("#left_max").val(r.maxValue()),r=e.axisInterval(xTop),$("#top_min").val(r.minValue()),$("#top_max").val(r.maxValue()),r=e.axisInterval(yRight),$("#right_min").val(r.minValue()),$("#right_max").val(r.maxValue()),"[LogScaleEngine]"==e.axisScaleEngine(xBottom).toString()&&($("#bottom_log")[0].checked=!0),"[LogScaleEngine]"==e.axisScaleEngine(xTop).toString()&&($("#top_log")[0].checked=!0),"[LogScaleEngine]"==e.axisScaleEngine(yLeft).toString()&&($("#left_log")[0].checked=!0),"[LogScaleEngine]"==e.axisScaleEngine(yRight).toString()&&($("#right_log")[0].checked=!0),"[LinearScaleEngine]"==e.axisScaleEngine(xBottom).toString()&&($("#bottom_linear")[0].checked=!0),"[LinearScaleEngine]"==e.axisScaleEngine(xTop).toString()&&($("#top_linear")[0].checked=!0),"[LinearScaleEngine]"==e.axisScaleEngine(yLeft).toString()&&($("#left_linear")[0].checked=!0),"[LinearScaleEngine]"==e.axisScaleEngine(yRight).toString()&&($("#right_linear")[0].checked=!0);var l=e.axisAutoScale(xBottom);$("#enableUserScale")[0].checked=!l,o(l)}}}define("settings",function(){});class MCurveSettings{constructor(){let t=null,e=null,i=null,n=null,o=null,a=null;function s(){let e=$("#curveSelect").children();for(let t=0;t<e.length;++t)$("#curveSelect")[0].removeChild(e[t]);let i=t.itemList(Static.Rtti_PlotCurve);for(let t=0;t<i.length;++t)if(i[t].isVisible()){let e=$("<option>"+i[t].title()+"</option>");e.attr("value",i[t].title()),$("#curveSelect").append(e)}return $("#sizeSymbol").val(10),i.length?i[0]:null}function r(t){t.brush().color==Static.NoBrush?$("#clearBrush").hide():$("#clearBrush").show()}function l(t){if(!t)return;$("#penColor").val(Static.colorNameToHex(t.pen().color)),$("#penWidth")[0].selectedIndex=t.pen().width-1,$("#penStyle")[0].selectedIndex=["solid","dot","dash","dashDot","dashDotDot"].indexOf(t.pen().style),$("#horizontalAxis")[0].selectedIndex=t.xAxis()-2,$("#verticalAxis")[0].selectedIndex=t.yAxis(),t.fitType?$("#fitInfo").show():$("#fitInfo").hide(),r(t);let e=t.symbol();if(e){let t=e.style();t==MRect&&$("#symbolType").val("MRect"),t==Cross&&$("#symbolType").val("Cross"),t==Diamond&&$("#symbolType").val("Diamond"),t==Ellipse&&$("#symbolType").val("Ellipse"),t==XCross&&$("#symbolType").val("XCross")}else $("#symbolType").val("None");"None"==$("#symbolType").val()?$("#symbolContainer").hide():($("#symbolContainer").show(),$("#penColorSymbol").val(e.pen().color),$("#penWidthSymbol").val(e.pen().width),$("#fillBrushSymbol").val(e.brush().color),$("#sizeSymbol").val(e.size().width))}$("body").append($('                \x3c!-- Modal --\x3e                <div class="modal fade" id="curveSettingsModal" role="dialog">                <div class="modal-dialog">                                \x3c!-- Modal content--\x3e                <div class="modal-content">                <div class="modal-header">                \x3c!--button type="button" class="close" data-dismiss="modal">&times;</button--\x3e                <h4 class="modal-title">Curve attributes</h4>                </div>                <div class="modal-body">                                                <div class="row">                <div class="col-sm-3">Curve name:</div>                <div class="col-sm-5"><select id="curveSelect" style="width:100%"></select></div>                <div class="col-sm-2"><button id="remove">Remove</button></div>                <div class="col-sm-2"><button id="rename">Rename</button></div>                </div>                                <br>                <div class="row">                <div class="col-sm-3">Pen color:<input id="penColor" type="color"/></div>                <div class="col-sm-4">Pen width:<select id="penWidth" style="width:50%"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option></select></div>                <div class="col-sm-5">Pen style:<select id="penStyle" style="width:60%"><option>solid</option><option>dot</option><option>dash</option><option>dashDot</option><option>dashDotDot</option></select></div>                </div>                                <br>                <div class="row">                <div class="col-sm-6">Horizontal axis:<select id="horizontalAxis" style="width:50%"><option value="2">Bottom</option><option value="3">Top</option></select></div>                <div class="col-sm-5">Vertical axis:<select id="verticalAxis" style="width:60%"><option value="0">Left</option><option value="1">Right</option></select></div>                </div>                                <br>                <div class="row">                <div class="col-sm-1"><button id="fit">Fit</button></div><div class="col-sm-3"><button id="legendAttribute">Legend attribute</button></div><div class="col-sm-3"><button id="curveStyle">Curve style</button></div><div class="col-sm-2"><button id="curveBrush"> Brush</button></div><div class="col-sm-3"><button id="clearBrush">No brush</button></div>\x3c!--div class="col-sm-2"><button id="curveAxis">Axis</button></div--\x3e                <div class="col-sm-3"><button id="fitInfo">Curve Fit Info...</button></div>                </div>                                <br>                <div class="row">                <div class="col-sm-2">Symbols</div>                <div class="col-sm-8"><select id="symbolType"><option value="None">None</option><option value="MRect">Rectangle</option><option value="Cross">Cross</option><option value="Diamond">Diamond</option><option value="Ellipse">Ellipse</option><option value="XCross">Diagonal cross</option></select></div>                </div>                                <br>                <div id="symbolContainer">                <div class="row">                <div class="col-sm-6">Symbol pen color:<input id="penColorSymbol" type="color"/></div>                <div class="col-sm-6">Symbol pen width:<select id="penWidthSymbol" style="width:50%"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option></select></div>                </div>                <br>                <div class="row">                <div class="col-sm-6">Symbol fill brush:<input id="fillBrushSymbol" type="color"/></div>                <div class="col-sm-6">Symbol size:<select id="sizeSymbol" style="width:50%"><option value="5">5x5</option><option value="6">6x6</option><option value="8">8x8</option><option value="10">10x10</option><option value="12">12x12</option><option value="15">15x15</option></select></div>                </div>                </div>                                                </div>                <div class="modal-footer">                <button id="cancelAxisDlg" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>                <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>                </div>                </div>                                </div>                </div>                ')),$("#curveSelect").change(function(){l(t.findPlotCurve($("#curveSelect").val()))}),$("#remove").click(function(){if(t.findPlotCurve($("#curveSelect").val()).detach(),!t.hasPlotCurve())return void $("#cancelAxisDlg").click();let e=$("#curveSelect").children();$("#curveSelect")[0].removeChild(e[$("#curveSelect")[0].selectedIndex]),l(t.findPlotCurve($("#curveSelect").val()))}),$("#rename").click(function(){return Utility.curveRenameDlg($("#curveSelect").val(),t,function(){let t=$("#curveSelect")[0].selectedIndex;return s(),$("#curveSelect")[0].selectedIndex=t,!0}),!0}),$("#fit").click(function(){e(t.findPlotCurve($("#curveSelect").val()))}),$("#legendAttribute").click(function(){n(t.findPlotCurve($("#curveSelect").val()))}),$("#clearBrush").click(function(){Utility.removeCurveBrush(t.findPlotCurve($("#curveSelect").val())),r(t.findPlotCurve($("#curveSelect").val()))}),$("#curveBrush").click(function(){Utility.setCurveBrush(t.findPlotCurve($("#curveSelect").val()),r)}),$("#curveStyle").click(function(){o(t.findPlotCurve($("#curveSelect").val()))}),$("#curveAxis").click(function(){a(t.findPlotCurve($("#curveSelect").val()))}),$("#fitInfo").click(function(){let e=t.findPlotCurve($("#curveSelect").val()),n=i(e);n.length?Static.alert(n):Static.alert('No curve fitting equation found for "'+e.title()+'."')}),$("#penColor").change(function(){let e=t.findPlotCurve($("#curveSelect").val()),i=e.pen();i.color=$(this).val(),e.setPen(i)}),$("#penWidth").change(function(){let e=t.findPlotCurve($("#curveSelect").val()),i=e.pen();i.width=$(this).val(),e.setPen(i)}),$("#penStyle").change(function(){let e=t.findPlotCurve($("#curveSelect").val()),i=e.pen();i.style=$(this).val(),e.setPen(i)}),$("#horizontalAxis").change(function(){t.findPlotCurve($("#curveSelect").val()).setXAxis($(this).val()),Static.trigger("axisChanged",$(this).val())}),$("#verticalAxis").change(function(){t.findPlotCurve($("#curveSelect").val()).setYAxis($(this).val()),Static.trigger("axisChanged",$(this).val())}),$("#symbolType").change(function(){let e=t.findPlotCurve($("#curveSelect").val());"None"==$("#symbolType").val()?($("#symbolContainer").hide(),$("#penWidthSymbol").val(1),$("#penColorSymbol").val(Static.colorNameToHex("black")),$("#fillBrushSymbol").val(Static.colorNameToHex("transparent")),$("#sizeSymbol").val(10)):$("#symbolContainer").show(),function(t,e){if("None"==e)return void t.setSymbol(null);let i=-1;"MRect"==e&&(i=MRect);"Cross"==e&&(i=Cross);"Diamond"==e&&(i=Diamond);"Ellipse"==e&&(i=Ellipse);"XCross"==e&&(i=XCross);Utility.addSymbol(t,i)}(e,$(this).val())}),$("#penColorSymbol").change(function(){let e=t.findPlotCurve($("#curveSelect").val()),i=e.symbol();if(!i)return;let n=i.pen();n.color=$(this).val(),i.setPen(n),e.plot().autoRefresh(),e.plot().updateLegend(e)}),$("#penWidthSymbol").change(function(){!function(t,e){Utility.setSymbolPenWidth(t,e)}(t.findPlotCurve($("#curveSelect").val()),parseInt($(this).val()))}),$("#fillBrushSymbol").change(function(){let e=t.findPlotCurve($("#curveSelect").val()),i=e.symbol();if(!i)return;let n=i.brush();n.color=$(this).val(),i.setBrush(n),e.plot().autoRefresh(),e.plot().updateLegend(e)}),$("#sizeSymbol").change(function(){!function(t,e){Utility.setSymbolSize(t,e)}(t.findPlotCurve($("#curveSelect").val()),parseInt($(this).val()))}),this.init=function(s,r,l,c,u,h){t=s,e=r,i=l,n=c,o=u,a=h},this.curveSettingsDlg=function(){t.itemList(Static.Rtti_PlotCurve).length?(l(s()),$("#curveSettingsModal").modal({backdrop:"static"})):Static.alert("No curves found","small")}}}define("curveSettings",function(){});class MFunctionDlg{constructor(){var t=$('<div class="modal fade" id="functionModal" role="dialog">    <div class="modal-dialog modal-md">      <div class="modal-content">        <div class="modal-header">          \x3c!--button type="button" class="close" data-dismiss="modal">&times;</button--\x3e          <h4 class="modal-title">Curve Function</h4>        </div>        <div class="modal-body">\t  <div class="row">          <div class="col-sm-2">Curve title:</div>          <div class="col-sm-4"><input id="fnDlg_title" style="width:100%" type="text" value="curve_1"/></div>          <div class="col-sm-2">Function:</div>          <div class="col-sm-4"><input id="fnDlg_function" style="width:100%" type="text" value="x^2"/></div>    </div>\t  <br>    <div id="limits" class="row">          \t<div class="col-sm-3">Lower limit:</div>            <div class="col-sm-3"><input id="fnDlg_lowerLimit" style="width:100%" type="text" value="-10.0"/></div>            <div class="col-sm-3">Upper limit:</div>            <div class="col-sm-3"><input id="fnDlg_upperLimit" style="width:100%" type="text" value="10.0"/></div>    </div>    <br>          <div class="row">            <div class="col-sm-3">Unbounded range:</div>            <div class="col-sm-3"><input id="fnDlg_unboundedRange" type="checkbox"/></div>            <div class="col-sm-3">Number of points:</div>            <div class="col-sm-3"><input id="fnDlg_numberOfPoints" style="width:100%" type="number" min="2" max="200" value="100"/></div>          </div>          <br>          <div id="cont_variable" class="row">            <div class="col-sm-3">Enter variable:</div>            <div class="col-sm-1"><input id="fnDlg_variable" style="width:100%" type="text" value="x" /></div>          </div>          <br>        <div class="modal-footer">          <button id="fnDlg_ok" type="button" class="btn btn-default" >Ok</button>          <button id="fnDlg_cancel" type="button" class="btn btn-default"  data-dismiss="modal">Cancel</button>        </div>      </div>    </div>  </div></div>');function e(t){var e=[];t=purgeKewords(t);for(var i=0;i<t.length;++i)Static.isAlpha(t[i])&&-1==e.indexOf(t[i])&&e.push(t[i]);return e}function i(t){if(function(t){for(var e=0;e<keywords.length;++e)for(;-1!=t.indexOf(keywords[e]);)return!0;return!1}(t))return t;var e="";e+=t[0];for(var i=1;i<t.length;++i)Static.isAlpha(t[i-1])&&Static.isAlpha(t[i])&&(e+="*"),e+=t[i];return e}this.init=function(n){var o=this;$("body").append(t),$("#cont_variable").hide(),$("#fnDlg_unboundedRange").change(function(){$(this)[0].checked?$("#limits").hide():$("#limits").show()}),$("#fnDlg_ok").click(function(){if($("#fnDlg_numberOfPoints").val()>200||$("#fnDlg_numberOfPoints").val()<2)$("#fnDlg_numberOfPoints").val(60),Static.alert('"Number of points" cannot be \nless than 2 or greater than 200');else{var t=e($("#fnDlg_function").val());if(t.length>0&&-1==t.indexOf($("#fnDlg_variable").val()))return Static.alert("Please enter a valid variable."),void $("#cont_variable").show();o.title=$("#fnDlg_title").val(),o.variable=$("#fnDlg_variable").val(),o.fn=i($("#fnDlg_function").val());try{o.lowerLimit=math.eval($("#fnDlg_lowerLimit").val())}catch(t){return void Static.alert("Please enter a valid lower limit.")}try{o.upperLimit=math.eval($("#fnDlg_upperLimit").val())}catch(t){return void Static.alert("Please enter a valid upper limit.")}if(a=parseFloat(o.lowerLimit),s=parseFloat(o.upperLimit),a>=s&&(Static.alert("Upper limit must be greater than Lower limit."),1))return;o.numOfPoints=$("#fnDlg_numberOfPoints").val(),o.unboundedRange=$("#fnDlg_unboundedRange")[0].checked,o.coeffs=function(){var t=[],e=$("#fnDlg_function").val();e=purgeKewords(e);for(var i=$("#fnDlg_variable").val();-1!=e.indexOf(i);)e=e.replace(i,"");for(var n=0;n<e.length;++n)Static.isAlpha(e[n])&&-1==t.indexOf(e[n])&&t.push(e[n]);return t}(),n()}var a,s}),$("#fnDlg_function").on("input",function(){var t=$(this).val();e(t).length>1||-1==t.indexOf($("#fnDlg_variable").val())?$("#cont_variable").show():$("#cont_variable").hide()})},this.functionDlg=function(){$("#functionModal").modal({backdrop:"static"})},this.close=function(){$("#fnDlg_cancel").click()}}}define("functionDlg",function(){});class MCurveFitDlg{constructor(){var t=this,e=$('<div class="modal fade" id="curveFitModal" role="dialog">    <div class="modal-dialog modal-sm">      <div class="modal-content">        <div class="modal-header">          <button type="button" class="close" data-dismiss="modal">&times;</button>          <h4 class="modal-title">Curve Fitter</h4>        </div>        <div class="modal-body">\t  <div class="row">          \t<div class="col-sm-5">Fitter type:</div>             <div class="col-sm-7">               <select id="curveFitDlg_type">  <option value="natural">Natural spline</option>  <option value="periodic">Periodic spline</option>      <option value="weeding">Weeding</option>  <option value="linear">Linear</option>  <option value="polynomial">Polynomial</option>  <option value="noFitting">No fitting</option>  </select>\t\t  </div>          </div>\t  <br><div id="cont_origin"><div class="row"><div class="col-sm-7">Through origin:</div><div class="col-sm-2"><input id="origin" type="checkbox"/></div></div><br></div><div id="cont_order"><div class="row"><div class="col-sm-5">Order:</div><div class="col-sm-3"><input id="order" type="number" style="width:100%" value="2" min="1" max="20"/></div></div><br></div><div id="cont_tolerance"><div class="row"><div class="col-sm-5">Tolerance:</div><div class="col-sm-4"><input id="tolerance" type="number" style="width:100%" value="10.0" min="0.0" max="200.0"/></div></div><br></div><div id="cont_chunksize"><div class="row"><div class="col-sm-5">Chunk size:</div><div class="col-sm-4"><input id="chunksize" type="number" style="width:100%" value="0" min="0" /></div></div><br></div><div class="row">            <div class="col-sm-7">Retain original curve:</div>                <div class="col-sm-2"><input id="curveFitDlg_retain" type="checkbox"/></div>          </div>          <br>              \t<div id="attributes">\t  <div class="row">          \t<div class="col-sm-6">Fitted curve name:</div>                <div class="col-sm-6"><input id="curveFitDlg_name" type="text" style="width:100%"/></div>          </div>\t  <br>\t\t<div class="row">          \t<div class="col-sm-6">Fitted curve color:</div>                <div class="col-sm-2"><input id="curveFitDlg_color" type="color"/></div>          </div>          <br>     </div>     </div>        <div class="modal-footer">          <button id="curveFitDlg_ok" type="button" class="btn btn-default" >Ok</button>        </div>      </div>    </div>  </div></div>');$("body").append(e),$("#cont_origin").hide(),$("#cont_order").hide(),$("#cont_tolerance").hide(),$("#cont_chunksize").hide(),$("#curveFitDlg_type").change(function(){"linear"==$(this).val()?$("#cont_origin").show():$("#cont_origin").hide(),"polynomial"==$(this).val()?$("#cont_order").show():$("#cont_order").hide(),"weeding"==$(this).val()?($("#cont_tolerance").show(),$("#cont_chunksize").show()):($("#cont_tolerance").hide(),$("#cont_chunksize").hide())}),$("#attributes").hide(),$("#curveFitDlg_retain")[0].checked=!1,$("#curveFitDlg_retain").change(function(){$(this)[0].checked?$("#attributes").show():$("#attributes").hide()}),this.curveFitCb=function(e){return t.curveFitDlgInit,void 0==t.curveFitDlgInit&&(t.init(),t.curveFitDlgInit=!0),t.plot=e.plot(),t.curve=e,t.curveFitDlg(),t},this.cb=function(){if(t.retain){var e=t.name;if(t.plot.findPlotCurve(e))return void Static.alert(e+" already exist")}var i=new Curve;if(i.setPen(new Misc.Pen(t.color)),i.fn=t.curve.fn,i.variable=t.curve.variable,i.fitType=t.type,i.origin=t.origin,i.setStyle(t.curve.style()),"natural"==t.type||"periodic"==t.type){i.setData(t.curve.data());var n=(o=new SplineCurveFitter).spline();"periodic"==t.type?n.setSplineType(Static.SplineType.Periodic):n.setSplineType(Static.SplineType.Natural),i.setCurveFitter(o)}else if("weeding"==t.type){var o;i.setData(t.curve.data()),(o=new WeedingCurveFitter(10)).setChunkSize(parseInt(t.chunksize)),o.setTolerance(parseInt(t.tolerance)),i.setCurveFitter(o)}else if("noFitting"==t.type)i.setData(t.curve.data()),i.setCurveFitter(null);else{for(var a=regress(t.curve,t.type,parseInt(t.order),t.origin),s=t.curve.data().boundingRect(),r=a.string;-1!=r.indexOf("+ -");)r=r.replace("+ -","- ");i.equation=r,r=r.replace("y =",""),i.setSamples(makeSamples({fx:r,lowerX:s.left(),upperX:s.right(),numOfSamples:60}))}t.retain?i.setTitle(e):(i.setTitle(t.curve.title()),t.curve.detach()),i.fitType=t.type,i.attach(t.plot),t.close()},this.init=function(){var t=this;$("#curveFitDlg_ok").click(function(){t.type=$("#curveFitDlg_type").val(),t.retain=$("#curveFitDlg_retain")[0].checked,t.name=$("#curveFitDlg_name").val(),t.color=$("#curveFitDlg_color").val(),t.order=$("#order").val()||1,t.origin=$("#origin")[0].checked,t.tolerance=$("#tolerance").val(),t.chunksize=$("#chunksize").val(),t.cb()})},this.curveFitDlg=function(){$("#curveFitDlg_name").val(this.curve.title()+"_fit"),$("#curveFitDlg_color").val(Static.colorNameToHex(this.curve.pen().color)),$("#curveFitModal").modal({backdrop:"static"})},this.curveFitInfoCb=function(t){var e="";return"natural"==t.fitType&&(e+="Fit type:Natural Spline"),"periodic"==t.fitType&&(e+="Fit type:Periodic Spline"),"polynomial"==t.fitType&&(e+="Fit type:Polynomial",e+="; Equation:"+t.equation),"linear"==t.fitType&&(t.origin?e+="Fit type:Linear Through Origin":e+="Fit type:Linear",e+="; Equation:"+t.equation),e},this.close=function(){$(".close").click()}}}define("curveFitDlg",function(){});class MCurveStyleDlg{constructor(){var t=this,e={Lines:Lines,Sticks:Sticks,Steps:Steps,Dots:Dots,NoCurve:NoCurve},i=_.invert(e);this.curveStyleCb=function(e){t.curveStyleDlgInit,void 0==t.curveStyleDlgInit&&($("body").append($('                    <div class="modal fade" id="curveStyleModal" role="dialog">                    <div class="modal-dialog modal-sm">                    <div class="modal-content">                    <div class="modal-header">                    <button type="button" class="close" data-dismiss="modal">&times;</button>                    <h4 class="modal-title">Curve Style</h4>                    </div>                    <div class="modal-body">                    <div class="row">                    <div class="col-sm-5">Curve style:</div>                    <div class="col-sm-7">                    <select id="style">                    <option value="Lines">Lines (Default)</option>                    <option value="Sticks">Sticks</option>                    <option value="Steps">Steps</option>                    <option value="Dots">Dots</option>                    <option value="NoCurve">NoCurve</option>                    </select>                    </div>                    </div>                    <br>                    <div class="row">                    <div class="col-sm-7">                    </div>                    </div>                    <br>                    <div class="modal-footer">                    <button id="curveStyleDlg_ok" type="button" class="btn btn-default"  data-dismiss="modal">Ok</button>                    </div>                    </div>                    </div>                    </div>                    </div>                    ')),t.init(),t.curveStyleDlgInit=!0),t.curve=e,t.curveStyleDlg()},this.init=function(){$("#style").change(function(){var i=e[$(this).val()];t.curve.setStyle(i),Static.trigger("styleChanged",i)})},this.curveStyleDlg=function(){$("#style").val(i[t.curve.style()]),$("#curveStyleModal").modal({backdrop:"static"})}}}define("curveStyleDlg",function(){});class MAxisDlg{constructor(){var t=this;this.axisCb=function(e){t.axisDlgInit,void 0==t.axisDlgInit&&($("body").append($('                    <div class="modal fade" id="axisModal" role="dialog">                    <div class="modal-dialog modal-sm">                    <div class="modal-content">                    <div class="modal-header">                    <button type="button" class="close" data-dismiss="modal">&times;</button>                    <h4 class="modal-title">Curve Axis</h4>                    </div>                    <div class="modal-body">                    <div class="row">                    <div class="col-sm-5">Horizontal:</div>                    <div class="col-sm-7">                    <select id="axisHorizontal1">                    <option value="bottomAxis">Bottom axis</option>                    <option value="topAxis">Top axis</option>                    </select>                    </div>                    </div>                    <br>                    <div class="row">                    <div class="col-sm-5">Vertical:</div>                    <div class="col-sm-7">                    <select id="axisVertical1">                    <option value="leftAxis">Left axis</option>                    <option value="rightAxis">Right axis</option>                    </select>                    </div>                    </div>                    <br>                    <div class="modal-footer">                    <button id="axisDlg_ok" type="button" class="btn btn-default"  data-dismiss="modal">Ok</button>                    </div>                    </div>                    </div>                    </div>                    </div>                    ')),t.init(),t.axisDlgInit=!0),t.curve=e,t.axisDlg()},this.init=function(){$("#axisHorizontal1").change(function(){"bottomAxis"==$(this).val()?(t.curve.setXAxis(xBottom),Static.trigger("axisChanged",[xBottom,t.curve])):(t.curve.setXAxis(xTop),Static.trigger("axisChanged",[xTop,t.curve]))}),$("#axisVertical1").change(function(){"leftAxis"==$(this).val()?(t.curve.setYAxis(yLeft),Static.trigger("axisChanged",[yLeft,t.curve])):(t.curve.setYAxis(yRight),Static.trigger("axisChanged",[yRight,t.curve]))})},this.axisDlg=function(){t.curve.xAxis()==xBottom?$("#axisHorizontal1").val("bottomAxis"):$("#axisHorizontal1").val("topAxis"),t.curve.yAxis()==yLeft?$("#axisVertical1").val("leftAxis"):$("#axisVertical1").val("rightAxis"),$("#axisModal").modal({backdrop:"static"})}}}define("axisDlg",function(){});class MPointEntryDlg{constructor(){var t=this;this.pointEntryCb=function(e,i,n){var o;t.modify=!1,t.axisDlgInit,t.curveName=i,t.point=n,void 0==t.pointEntryDlgInit&&(o=$('                <div class="modal fade" id="pointEntryModal" role="dialog">                <div class="modal-dialog modal-sm">                <div class="modal-content">                <div class="modal-header">                <button type="button" class="close" data-dismiss="modal">&times;</button>                <h4 class="modal-title">Point Entry</h4>                </div>                <div class="modal-body">                <div class="row">                <div class="col-sm-4">Name:</div>                <input id="curve_name" type="text" value="curve_1">                                </div>                <br>                <div class="row">                <div class="col-sm-4">Abscissa(X):</div>                <input id="abscissa" type="number" value=0.0>                                </div>                <br>                <div class="row">                <div class="col-sm-4">Ordinate(Y):</div>                <input id="ordinate" type="number" value=0.0>                                </div>                <br>                                                                                                                <div class="modal-footer">                <button id="pointEntryDlg_enter" type="button" class="btn btn-default" >Enter</button>                <button id="pointEntryDlg_remove" type="button" class="btn btn-default" >Remove</button>                <button id="pointEntryDlg_ok" type="button" class="btn btn-default"  data-dismiss="modal">Finish</button>                </div>                </div>                </div>                </div>                </div>                '),$("body").append(o),t.init(),t.pointEntryDlgInit=!0),void 0!==i&&$("#curve_name").val(i),void 0!==n&&($("#abscissa").val(n.x),$("#ordinate").val(n.y)),t.plot=e,t.pointEntryDlg(),void 0!==t.curveName&&void 0!==t.point?(t.modify=!0,$("#curve_name").attr("disabled",!0)):$("#curve_name").attr("disabled",!1)},this.init=function(){var t=this;$("#pointEntryDlg_enter").click(function(){var e=t.plot.findPlotCurve($("#curve_name").val());if(e)t.modify&&e.removePoint(t.point,!0);else{(e=new Curve($("#curve_name").val())).attach(t.plot);var i=Utility.randomColor();e.setPen(new Misc.Pen(i));var n=new Symbol(MRect,new Misc.Brush(Static.invert(i)),new Misc.Pen(i),new Misc.Size(8,8));e.setSymbol(n);var o="";Static.showline&&Static.showsymbol?o="lineAndSymbol":Static.showline?o="line":Static.showsymbol&&(o="symbol"),Utility.setLegendAttribute(e,o,e.getLegendIconSize())}var a=e.data().samples(),s=new Misc.Point(parseFloat($("#abscissa").val()),parseFloat($("#ordinate").val()));t.point=s,a.containsPoint(s)||a.push(s),a.sort(function(t,e){return t.x-e.x}),e.setSamples(a),t.plot.replot(),Static.trigger("pointAdded",e)}),$("#pointEntryDlg_remove").click(function(){t.plot.findPlotCurve($("#curve_name").val()).removePoint(new Misc.Point(parseFloat($("#abscissa").val()),parseFloat($("#ordinate").val())))})},this.pointEntryDlg=function(){$("#pointEntryModal").modal({backdrop:"static"})}}}define("pointEntryDlg",function(){});class MToolBar{constructor(t){var e=[];function i(){console.log("No callback defined for button")}t=t||{};var n=$('<div id="toolBar1" style="position:relative; border-style: ridge; background-color: lightBlue"></div>');function o(t){for(var i=0;i<e.length;++i)if(e[i][0].innerText.trim().split(" ")[0]==t)return i;return-1}void 0!==t.zIndex&&n.css("zIndex",t.zIndex),n.insertBefore($("#plotDiv")),$("#plotDiv").removeClass("noToolBar"),$("#plotDiv").addClass("toolBar");this.disable=function(t){"string"==typeof t&&(t=o(t)),e[t].attr("disabled",!0)},this.enable=function(t){"string"==typeof t&&(t=o(t)),e[t].attr("disabled",!1)},this.hide=function(i){"string"==typeof i&&(i=o(i)),void 0==i&&(i=-1),i>-1&&i<e.length?e[i].hide():(n.hide(),$("#plotDiv").removeClass("toolBar"),$("#plotDiv").addClass("noToolBar")),t.refreshCb&&refreshCb()},this.show=function(i){"string"==typeof i&&(i=o(i)),void 0==i&&(i=-1),i>-1&&i<e.length?e[i].show():(n.show(),$("#plotDiv").removeClass("noToolBar"),$("#plotDiv").addClass("toolBar")),t.refreshCb&&refreshCb()};this.addToolButton=function(t,o){return"pushbutton"==t?function(t){t.text=t.text,t.class=t.class||"btn btn-primary",t.innerHtmlId=t.innerHtmlId||"elem_"+e.length,t.duration=t.duration||40;var i=$("<button id="+t.innerHtmlId+' type="button" data-toggle="tooltip">');if(i.addClass(t.class),void 0!==t.icon){void 0!==t.text&&t.text.length&&i.text(t.text+" ");var o=$("<img src="+t.icon+' alt="Img" width=18px>');i.append(o)}else i.text(t.text);n.append(i),i.attr("title",t.tooltip);var a=t.cb||function(){console.log("No callback defined for button")},s="click",r="mousedown",l="mouseup";return Static.isMobile()&&(s="tap",r="touchstart",l="touchend"),t.repeat?(i.interval=null,i.bind(r,function(e){"mousedown"==r&&0!=e.button||(i.interval=setInterval(a,t.duration))}),$(window).bind(l,function(){clearInterval(i.interval)})):i.bind(s,a),e.push(i),e.length-1}(o):"checkbox"==t?function(t){var i=t.label||"Option 1";t.innerHtmlId=t.innerHtmlId||"elem_"+e.length;var o=$('<label data-toggle="tooltip" class="checkbox-inline">                                    <input id='+t.innerHtmlId+'  type="checkbox" value="">'+i+"                                  </label>");o.css("marginLeft",t.marginLeft||8),o.css("marginRight",t.marginRight||8),n.append(o),o.attr("title",t.tooltip);var a=t.cb||function(){console.log("No callback defined for button")};return o.click(a),e.push(o),e.length-1}(o):"radio"==t?function(t){var o=t.label||"Option 1";t.value=t.value||o,t.innerHtmlId=t.innerHtmlId||"elem_"+e.length;var a=t.name||"optradio",s=$('<label data-toggle="tooltip" class="checkbox-inline">                                    <input id='+t.innerHtmlId+' type="radio" value='+t.value+" name="+a+">"+o+"                                  </label>");s.css("marginLeft",t.marginLeft||0),s.css("marginRight",t.marginRight||0),n.append(s),s.attr("title",t.tooltip),s.addClass(t.class);var r=t.cb||i;return s.click(r),e.push(s),e.length-1}(o):"dropdown"==t?function(t){t.label;t.text=t.text||"Button",t.innerHtmlId=t.innerHtmlId||"elem_"+e.length;var o=$('<span data-toggle="tooltip" class="dropdown">                              <button id='+t.innerHtmlId+' class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">'+t.text+'                              <span class="caret"></span></button>                              <ul class="dropdown-menu">'+function(t){for(var e="",i=t.hasCheckbox||!1,n=t.listElements||[],o=0;o<n.length;++o)n[o].icon=n[o].icon||"",n[o].checked=n[o].checked||"unchecked",i&&!n[o].icon.length&&(n[o].tooltip?e+='<li title="'+n[o].tooltip+'"><a href="#"><label><input type="checkbox" '+n[o].checkboxState+" value="+o+">"+n[o].text+"</label></a></li>":e+='<li><a href="#"><label><input type="checkbox" '+n[o].checkboxState+" value="+o+">"+n[o].text+"</label></a></li>"),!i&&n[o].icon.length&&(n[o].tooltip?e+='<li title="'+n[o].tooltip+'"><a href="#"><label><img src='+n[o].icon+' alt="Img" width=20px> '+n[o].text+"</label></a></li>":e+='<li><a href="#"><label>'+n[o].icon+n[o].text+"</label></a></li>"),i&&n[o].icon.length&&(n[o].tooltip?e+='<li title="'+n[o].tooltip+'"><a href="#"><label><img src='+n[o].icon+' alt="Img" width=20px><input type="checkbox" '+n[o].checkboxState+' value="">'+n[o].text+"</label></a></li>":e+='<li><a href="#"><label><input type="checkbox" '+n[o].checkboxState+' value="">'+n[o].icon+n[o].text+"</label></a></li>"),i||n[o].icon.length||(n[o].tooltip?e+='<li title="'+n[o].tooltip+'"><a href="#"><label>'+n[o].text+"</label></a></li>":e+='<li><a href="#"><label>'+n[o].text+"</label></a></li>");return e}(t)+"</ul>                          </span>");return o.css("marginLeft",t.marginLeft||0),o.css("marginRight",t.marginRight||0),o.addClass(t.class),o.attr("title",t.tooltip),n.append(o),t.cb=t.cb||i,o.on("click",function(e){if($(e.target).parent().parent().parent().hasClass("disabled"))return!1;if(!t.hasCheckbox){var i=$(e.target).closest("li").index();-1!=i&&t.cb(e,i)}}),o.on("change",function(e){var i=$(e.target);i.prop("checked"),t.cb(e,i.closest("li").index(),i.prop("checked"))}),e.push(o),e.length-1}(o):"select"==t?function(t){t.label=t.label||"Select One",t.innerHtmlId=t.innerHtmlId||"elem_"+e.length;var i=$('<span data-toggle="tooltip"><label for="sel1">'+t.label+":</label>                            <select>                              <option>1</option>                              <option>23456789101112</option>                              <option>3</option>                              <option>4</option>                            </select></span>");i.css("marginLeft",t.marginLeft||8),i.css("marginRight",t.marginRight||8),i.addClass(t.class),i.attr("title",t.tooltip),n.append(i);var o=t.cb||function(){console.log("No callback defined for button")};return i.click(o),e.push(i),e.length-1}(o):"number"==t?function(t){t.label=t.label||"Select One",t.innerHtmlId=t.innerHtmlId||"elem_"+e.length,t.min=t.min||-1e6,t.max=t.max||1e6,t.value=t.value||t.min,t.value>t.max&&(t.value=t.max),t.value<t.min&&(t.value=t.min);var i=$('<span data-toggle="tooltip"><label for="sel1">'+t.label+":</label>                                   </span>"),o=$("<input id="+t.innerHtmlId+'  type="number"                            value="10" name="some-name"/>');i.append(o),n.append(i),o.attr({width:200,min:t.min,max:t.max,step:t.step,value:t.value}),i.attr("title",t.tooltip),i.css("marginLeft",t.marginLeft||8),i.css("marginRight",t.marginRight||8),i.addClass(t.class);var a=t.cb||function(){console.log("No callback defined for button")};return i.click(a),e.push(i),e.length-1}(o):"upload"==t?function(t){t.label=t.label||"Select One",t.innerHtmlId=t.innerHtmlId||"elem_"+e.length;var i=$("<input id="+t.innerHtmlId+'  type="file" name="files[]" multiple />'),o=$('<button data-toggle="tooltip"></button>');i.css("marginLeft",-8),i.css("marginRight",-8),i.css("marginTop",-3),i.css("marginBottom",-3),o.append(i),o.css("marginLeft",t.marginLeft||8),o.css("marginRight",t.marginRight||8),o.addClass(t.class),o.attr("title",t.tooltip),n.append(o),e.push(o);var a=!1;return o.click(function(){if(!a)return a=!0,i.trigger("click"),!1}),e.length-1}(o):"link"==t?function(t){t.text=t.text||"Button",t.innerHtmlId=t.innerHtmlId||"elem_"+e.length;var i=$("<A HREF="+t.href+"></a>");i.text(t.text),n.append(i),i.addClass(t.class),i.attr("title",t.tooltip),i.attr("target",t.target);var o=t.cb||function(){console.log("No callback defined for button")};return i.click(o),e.push(i),e.length-1}(o):void 0},this.setButtonCheck=function(t,i){"string"==typeof t&&(t=o(t)),e[t].children().prop("checked",i)},this.isDropdownItemChecked=function(t,i){return"string"==typeof t&&(t=o(t)),$($(e[t].children()[1]).children()[i]).children().children().children().prop("checked")},this.setDropdownItemCheck=function(t,i,n){"string"==typeof t&&(t=o(t)),$($(e[t].children()[1]).children()[i]).children().children().children().prop("checked",n)},this.hideDropdownItem=function(t,i){"string"==typeof t&&(t=o(t)),$($(e[t].children()[1]).children()[i]).hide()},this.showDropdownItem=function(t,i){"string"==typeof t&&(t=o(t)),$($(e[t].children()[1]).children()[i]).show()},this.enableDropdownItem=function(t,i,n){"string"==typeof t&&(t=o(t));var a=$($(e[t].children()[1]).children()[i]).addClass("disabled");n?a.removeClass("disabled"):a.addClass("disabled")}}}define("toolBar",function(){});class UpLoad{constructor(t,e,i){var n=this;this.cb=null,this.reset=function(t){t[0].value=""},this.setInputElement=function(t){Static.bind("itemAttached",function(t,e,i){e.rtti==Static.Rtti_PlotCurve&&$("#fileInput").val().includes(e.title())&&!i&&this.reset($("#fileInput"))}),t.change(function(t){for(var e,i=t.target.files,o=0;e=i[o];o++){var a=e.name.split(".")[1];if("txt"==a||"plt"==a){var s=new FileReader;s.onload=function(t){return function(e){n.cb?n.cb({fileName:t.name,content:e.target.result}):console.log({fileName:t.name,content:e.target.result})}}(e),s.readAsText(e)}}})}}}define("upload",function(){});class MFile{constructor(){var t=new UpLoad,e=this,i=null;function n(e){var n=JSON.parse(e.content),o=n[0];"[LogScaleEngine]"==o.rightScaleEngineType&&i.setAxisScaleEngine(yRight,new LogScaleEngine),"[LogScaleEngine]"==o.leftScaleEngineType&&i.setAxisScaleEngine(yLeft,new LogScaleEngine),"[LogScaleEngine]"==o.bottomScaleEngineType&&i.setAxisScaleEngine(xBottom,new LogScaleEngine),"[LogScaleEngine]"==o.topScaleEngineType&&i.setAxisScaleEngine(xTop,new LogScaleEngine),"[LinearScaleEngine]"==o.rightScaleEngineType&&i.setAxisScaleEngine(yRight,new LinearScaleEngine),"[LinearScaleEngine]"==o.leftScaleEngineType&&i.setAxisScaleEngine(yLeft,new LinearScaleEngine),"[LinearScaleEngine]"==o.bottomScaleEngineType&&i.setAxisScaleEngine(xBottom,new LinearScaleEngine),"[LinearScaleEngine]"==o.topScaleEngineType&&i.setAxisScaleEngine(xTop,new LinearScaleEngine),o.autoScale?setAutoScale(!0):(i.setAxisScale(xBottom,o.xBottomMin,o.xBottomMax),i.setAxisScale(yLeft,o.yLeftMin,o.yLeftMax),i.setAxisScale(xTop,o.xTopMin,o.xTopMax),i.setAxisScale(yRight,o.yRightMin,o.yRightMax)),i.setTitleFont(new Misc.Font(o.titleFont)),i.setFooterFont(new Misc.Font(o.footerFont)),i.setAxisTitleFont(xBottom,new Misc.Font(o.axisTitleFont)),i.setAxisTitleFont(xTop,new Misc.Font(o.axisTitleFont)),i.setAxisTitleFont(yLeft,new Misc.Font(o.axisTitleFont)),i.setAxisTitleFont(yRight,new Misc.Font(o.axisTitleFont)),i.setTitle(o.title),i.setFooter(o.footer),i.setAxisTitle(xBottom,o.xBottomAxisTitle),i.setAxisTitle(xTop,o.xTopAxisTitle),i.setAxisTitle(yLeft,o.yLeftAxisTitle),i.setAxisTitle(yRight,o.yRightAxisTitle);for(var a=1;a<n.length;++a)if(i.findPlotCurve(n[a].title))return Static.alert(n[a].title+" already exist"),void t.reset($("#fileInput"));for(a=1;a<n.length;++a){var s=new Curve(n[a].title);if(n[a].symbolType!==NoSymbol){var r=new Symbol;r.setStyle(n[a].symbolType),r.setSize(new Misc.Size(n[a].symbolWidth,n[a].symbolWidth)),r.setPen(new Misc.Pen(n[a].symbolPenColor,n[a].symbolPenWidth)),r.setBrush(new Misc.Brush(n[a].symbolBrushColor)),s.setSymbol(r)}if(n[a].fitType&&(s.fitType=n[a].fitType),s.setSamples(Utility.pointsFromXYObjectArray(n[a].samples)),"natural"==n[a].fitType||"periodic"==n[a].fitType){var l=new SplineCurveFitter,c=l.spline();"periodic"==n[a].fitType?c.setSplineType(Static.SplineType.Periodic):c.setSplineType(Static.SplineType.Natural),s.setCurveFitter(l)}s.setPen(new Misc.Pen(n[a].pen.color,n[a].pen.width,n[a].pen.style)),s.setAxes(n[a].xAxis,n[a].yAxis),s.attach(i)}t.reset($("#fileInput"))}this.init=function(e){i=e,t.cb=this.upload},this.setInputElement=function(e){t.setInputElement(e)},this.upload=function(o){var a=o.fileName.split(".")[1];if("txt"==a){var s=Utility.makePoints(Utility.toArrays(o.content));Static.trigger("addCurve",[o.fileName,s,!0])}else if("plt"==a){var r=i.itemList(Static.Rtti_PlotCurve);r.length?Static.alertYesNo("Do you want to save the changes to the Grapher?",function(i){if(i!=Static.Cancel){if(i==Static.Yes)return e.save(),void t.reset($("#fileInput"));if(i!=Static.No);else{for(var a=0;a<r.length;++a)r[a].detach();n(o)}}else t.reset($("#fileInput"))}):n(o)}},this.save=function(){Static.prompt("Enter a filename without extensions","plot_1",function(t){return t+=".plt",function(t,e){var i=document.createElement("a");document.body.appendChild(i),i.style="display: none";var n=JSON.stringify(t),o=new Blob([n],{type:"octet/stream"}),a=window.URL.createObjectURL(o);i.href=a,i.download=e,i.click(),window.URL.revokeObjectURL(a)}(function(){var t=[],e={};e.bottomScaleEngineType=i.axisScaleEngine(xBottom).toString(),e.leftScaleEngineType=i.axisScaleEngine(yLeft).toString(),e.topScaleEngineType=i.axisScaleEngine(xTop).toString(),e.rightScaleEngineType=i.axisScaleEngine(yRight).toString(),e.title=i.title(),e.titleFont=i.titleFont(),e.footer=i.footer(),e.footerFont=i.footerFont(),e.axisTitleFont=i.axisTitleFont(xBottom),e.xBottomAxisTitle=i.axisTitle(xBottom),e.xTopAxisTitle=i.axisTitle(xTop),e.yLeftAxisTitle=i.axisTitle(yLeft),e.yRightAxisTitle=i.axisTitle(yRight),e.autoScale=i.axisAutoScale(xBottom),e.autoScale||(e.xBottomMin=i.axisInterval(xBottom).minValue(),e.xBottomMax=i.axisInterval(xBottom).maxValue(),e.yLeftMin=i.axisInterval(yLeft).minValue(),e.yLeftMax=i.axisInterval(yLeft).maxValue(),e.xTopMin=i.axisInterval(xTop).minValue(),e.xTopMax=i.axisInterval(xTop).maxValue(),e.yRightMin=i.axisInterval(yRight).minValue(),e.yRightMax=i.axisInterval(yRight).maxValue()),t.push(e);for(var n=i.itemList(Static.Rtti_PlotCurve),o=0;o<n.length;++o){var a={};a.title=n[o].title(),a.samples=Utility.pointsToXYObjectArray(n[o].data().samples()),a.fn=n[o].fn,a.pen=n[o].pen(),a.fitType=n[o].fitType;var s=n[o].symbol();s&&(a.symbolType=s.style(),a.symbolWidth=s.size().width,a.symbolPenColor=s.pen().color,a.symbolPenWidth=s.pen().width,a.symbolBrushColor=s.brush().color),a.xAxis=n[o].xAxis(),a.yAxis=n[o].yAxis(),t.push(a)}return t}(),t),!0},"small")}}}function Watch(t,e){this._dependentRuler=e||Static.NoRuler,this._rulerGroup=t;var i=!0;this._curveName="",this._curve=null,this._rulerLeft=Number.MAX_VALUE,this._rulerRight=Number.MAX_VALUE,this._rulerBottom=Number.MAX_VALUE,this._rulerTop=Number.MAX_VALUE,this._value,this.name=function(){},this.computeWatch=function(){},this.value=function(){return this._value},this.setCurveName=function(t){this._curveName=t},this.setCurve=function(t){this._curve=t},this.setRulerLeft=function(t){this._curve&&this._curve.plot()&&(t=Static.adjustForDecimalPlaces(t,this._curve.plot().axisDecimalPlaces(this._curve.xAxis()))),this._rulerLeft=t},this.setRulerRight=function(t){this._curve&&this._curve.plot()&&(t=Static.adjustForDecimalPlaces(t,this._curve.plot().axisDecimalPlaces(this._curve.xAxis()))),this._rulerRight=t},this.setRulerBottom=function(t){this._curve&&this._curve.plot()&&(t=Static.adjustForDecimalPlaces(t,this._curve.plot().axisDecimalPlaces(this._curve.yAxis()))),this._rulerBottom=t},this.setRulerTop=function(t){this._curve&&this._curve.plot()&&(t=Static.adjustForDecimalPlaces(t,this._curve.plot().axisDecimalPlaces(this._curve.yAxis()))),this._rulerTop=t},this.setEnable=function(t){i=t,Static.trigger("watchEnabled",[this,t])},this.isEnable=function(){return i}}function WatchCurveName(){Watch.call(this),this.name=function(){return"Curve name"},this.computeWatch=function(){this._value=this._curveName}}function WatchLeftRulerPosition(t){Watch.call(this,t,Static.Left);var e=this;this.name=function(){return"Left ruler position"},this.valueType="number",this.computeWatch=function(){this._rulerLeft==Number.MAX_VALUE?this._value="Invalid":this._value=this._rulerLeft},this.cb=function(){e._rulerGroup._rulerList[0]._pos=$(this).val(),e._rulerGroup._rulerList[0].validatePosition(),e._rulerGroup._rulerList[0].setPosition(e._rulerGroup._rulerList[0]._pos),Static.trigger("positionChanged",[e._rulerGroup._rulerList[0],e._rulerGroup._rulerList[0]._pos])}}function WatchRightRulerPosition(t){Watch.call(this,t,Static.Right);var e=this;this.name=function(){return"Right ruler position"},this.valueType="number",this.computeWatch=function(){this._rulerLeft==Number.MAX_VALUE?this._value="Invalid":this._value=this._rulerRight},this.cb=function(){e._rulerGroup._rulerList[1]._pos=$(this).val(),e._rulerGroup._rulerList[1].validatePosition(),e._rulerGroup._rulerList[1].setPosition(e._rulerGroup._rulerList[1]._pos),Static.trigger("positionChanged",[e._rulerGroup._rulerList[1],e._rulerGroup._rulerList[1]._pos])}}function WatchBottomRulerPosition(t){Watch.call(this,t,Static.Bottom);var e=this;this.valueType="number",this.name=function(){return"Bottom ruler position"},this.computeWatch=function(){this._rulerBottom==Number.MAX_VALUE?this._value="Invalid":this._value=this._rulerBottom},this.cb=function(){e._rulerGroup._rulerList[2]._pos=$(this).val(),e._rulerGroup._rulerList[2].validatePosition(),e._rulerGroup._rulerList[2].setPosition(e._rulerGroup._rulerList[2]._pos),Static.trigger("positionChanged",[e._rulerGroup._rulerList[2],e._rulerGroup._rulerList[2]._pos])}}function WatchTopRulerPosition(t){Watch.call(this,t,Static.Top);var e=this;this.valueType="number",this.name=function(){return"Top ruler position"},this.computeWatch=function(){this._rulerTop==Number.MAX_VALUE?this._value="Invalid":this._value=this._rulerTop},this.cb=function(){e._rulerGroup._rulerList[3]._pos=$(this).val(),e._rulerGroup._rulerList[3].validatePosition(),e._rulerGroup._rulerList[3].setPosition(e._rulerGroup._rulerList[3]._pos),Static.trigger("positionChanged",[e._rulerGroup._rulerList[3],e._rulerGroup._rulerList[3]._pos])}}function WatchSlope(){Watch.call(this,Static.Left),this.name=function(){return"Slope at left ruler"},this.computeWatch=function(){if(this._rulerLeft==Number.MAX_VALUE)this._value="Invalid";else{if(this._curve.fn&&!this._curve.fn.includes("log")){var t=this._curve.fn;if("z"!=this._curve.variable)for(;-1!=t.indexOf(this._curve.variable);)t=t.replace(this._curve.variable,"z");if(this._curve.coeffs)for(var e=0;e<this._curve.coeffs.length;++e)for(;-1!=t.indexOf(this._curve.coeffs[e]);)t=t.replace(this._curve.coeffs[e],this._curve.coeffsVal[e]);var i=Math.max(this._curve.plot().axisDecimalPlaces(this._curve.yAxis()),this._curve.plot().axisDecimalPlaces(this._curve.xAxis()));return this._value=math.derivative(t,"z").eval({z:this._rulerLeft}),this._value=Static.adjustForDecimalPlaces(this._value,i),void((this._value>1e4||this._value<-1e4)&&(this._value=this._value.toExponential(i)))}var n=this._curve.dataSize(),o=this._rulerLeft;for(i=Math.max(this._curve.plot().axisDecimalPlaces(this._curve.yAxis()),this._curve.plot().axisDecimalPlaces(this._curve.xAxis())),e=0;e<n;++e)if(this._curve.sample(e).x>o){var a=this._curve.sample(e),s=this._curve.sample(e-1);return this._value=(a.y-s.y)/(a.x-s.x),this._value=Static.adjustForDecimalPlaces(this._value,i),void((this._value>1e4||this._value<-1e4)&&(this._value=this._value.toExponential(i)))}}}}function WatchAreaBelowCurve(){Watch.call(this,Static.LeftAndRight),this.name=function(){return"Area below curve"},this.computeWatch=function(){if(this._rulerLeft==Number.MAX_VALUE)this._value="Invalid";else{if(this._curve.fn){if(s=logBaseAdjust(s=this._curve.fn),"z"!=this._curve.variable)for(;-1!=s.indexOf(this._curve.variable);)s=s.replace(this._curve.variable,"z");if(this._curve.coeffs)for(var t=0;t<this._curve.coeffs.length;++t)for(;-1!=s.indexOf(this._curve.coeffs[t]);)s=s.replace(this._curve.coeffs[t],this._curve.coeffsVal[t]);var e=this._curve.plot().axisDecimalPlaces(this._curve.yAxis())+this._curve.plot().axisDecimalPlaces(this._curve.xAxis()),i=Static.calcStep(this._curve);return this._value=math.eval("integrate("+s+", z,"+this._rulerLeft+","+this._rulerRight+",false,"+i+")"),this._value=Static.adjustForDecimalPlaces(this._value,e),void((this._value>1e4||this._value<-1e4)&&(this._value=this._value.toExponential(e)))}var n=this._curve.dataSize();this._value=0;for(t=1;t<n;++t){var o=this._curve.sample(t),a=this._curve.sample(t-1),s=Utility.linearEquationFromPoints(a,o),r=a.x;if(!(o.x<this._rulerLeft)&&!(a.x>this._rulerRight)){r<this._rulerLeft&&(r=this._rulerLeft);var l=o.x;l>this._rulerRight&&(l=this._rulerRight);e=this._curve.plot().axisDecimalPlaces(this._curve.yAxis())+this._curve.plot().axisDecimalPlaces(this._curve.xAxis()),i=Static.calcStep(this._curve);this._value+=math.eval("integrate("+s+", x,"+r+","+l+",false,"+i+")"),this._value=Static.adjustForDecimalPlaces(this._value,e),(this._value>1e4||this._value<-1e4)&&(this._value=this._value.toExponential(e))}}}}}function WatchVolumeOfRevolution(){function t(t,e,i){var n=t*i*Math.PI*t;return n+=.5*(e-t)*i*(t+(e-t)/3)*2*Math.PI}Watch.call(this,Static.LeftAndRight),this.name=function(){return"Volume of revolution"},this.computeWatch=function(){if(this._rulerLeft==Number.MAX_VALUE)this._value="Invalid";else{if(this._curve.fn){var e=this._curve.fn;if(e=logBaseAdjust(e),"x"!=this._curve.variable)for(;-1!=e.indexOf(this._curve.variable);)e=e.replace(this._curve.variable,"x");if(this._curve.coeffs)for(var i=0;i<this._curve.coeffs.length;++i)for(;-1!=e.indexOf(this._curve.coeffs[i]);)e=e.replace(this._curve.coeffs[i],this._curve.coeffsVal[i]);var n=2*this._curve.plot().axisDecimalPlaces(this._curve.yAxis())+this._curve.plot().axisDecimalPlaces(this._curve.xAxis()),o=Static.calcStep(this._curve);return this._value=math.eval("integrate("+e+", x,"+this._rulerLeft+","+this._rulerRight+",true,"+o+")"),this._value=Static.adjustForDecimalPlaces(this._value,n),void((this._value>1e4||this._value<-1e4)&&(this._value=this._value.toExponential(n)))}var a=this._curve.dataSize(),s=this._rulerLeft,r=this._rulerRight,l=0,c=0,u=0;for(i=1;i<a;++i){var h=this._curve.sample(i),d=this._curve.sample(i-1);if(!l&&h.x>s&&h.x<=r)l=t(d.y+(h.y-d.y)*(s-d.x)/(h.x-d.x),h.y,h.x-s);else if(l&&h.x<=r)u+=t(h.y,d.y,h.x-d.x);else if(h.x>r){if(d.x>=s){c=t(h.y+(h.y-d.y)*(r-h.x)/(h.x-d.x),d.y,r-d.x);break}c=t(h.y+(h.y-d.y)*(r-h.x)/(h.x-d.x),d.y+(h.y-d.y)*(s-d.x)/(h.x-d.x),r-s);break}}n=2*this._curve.plot().axisDecimalPlaces(this._curve.yAxis())+this._curve.plot().axisDecimalPlaces(this._curve.xAxis());this._value=Static.adjustForDecimalPlaces(l+u+c,n),(this._value>1e4||this._value<-1e4)&&(this._value=this._value.toExponential(n))}}}define("jqwtfile",function(){}),define("watch",function(){}),WatchCurveName.inheritsFrom(Watch),WatchLeftRulerPosition.inheritsFrom(Watch),WatchRightRulerPosition.inheritsFrom(Watch),WatchBottomRulerPosition.inheritsFrom(Watch),WatchTopRulerPosition.inheritsFrom(Watch),WatchSlope.inheritsFrom(Watch),WatchAreaBelowCurve.inheritsFrom(Watch),WatchVolumeOfRevolution.inheritsFrom(Watch),define("basicWatch",["static","watch"],function(){}),function(t,e,i,n){"use strict";var o;t.single=(o=t({}),function(t){return o[0]=t,o}),t.fn.contextMenu=function(e,i,n){a[e]?i&&(i instanceof Array||"string"==typeof i||i.nodeType||i.jquery||(n=i,i=null)):(n=i,i=e,e="popup"),i instanceof Array&&"update"!=e&&(e="menu");var o=n;return t.inArray(e,["menu","popup","close","destroy"])>-1?(n=s.optionOtimizer(e,n),this.each(function(){var s=t(this);(o=t.extend({},t.fn.contextMenu.defaults,n)).baseTrigger||(o.baseTrigger=s),a[e].call(s,i,o)})):a[e].call(this,i,o),this},t.fn.contextMenu.defaults={triggerOn:"click",subMenuTriggerOn:"hover click",displayAround:"cursor",mouseClick:"left",verAdjust:0,horAdjust:0,top:"auto",left:"auto",closeOther:!0,containment:e,winEventClose:!0,position:"auto",closeOnClick:!0,onOpen:function(t,e){},afterOpen:function(t,e){},onClose:function(t,e){}};var a={menu:function(t,e){t=s.createMenuList(this,t,e),s.contextMenuBind.call(this,t,e,"menu")},popup:function(e,i){t(e).addClass("iw-contextMenu"),s.contextMenuBind.call(this,e,i,"popup")},update:function(e,i){var n=this;i=i||{},this.each(function(){var o=t(this),a=o.data("iw-menuData");a||(n.contextMenu("refresh"),a=o.data("iw-menuData"));var r=a.menu;if("object"==typeof e)for(var l=0;l<e.length;l++){var c=e[l].name,u=e[l].disable,h=e[l].fun,d=e[l].icon,f=e[l].img,v=e[l].title,p=e[l].className,m=r.children("li").filter(function(){return t(this).contents().filter(function(){return 3==this.nodeType}).text()==c}),g=e[l].subMenu;void 0!=u&&(u?m.addClass("iw-mDisable"):m.removeClass("iw-mDisable")),h&&m.unbind("click.contextMenu").bind("click.contextMenu",h),void 0!=v&&m.attr("title",v),void 0!=p&&m.attr("class",p);var b=m.find(".iw-mIcon");b.length&&b.remove(),f?m.prepend('<img src="'+f+'" align="absmiddle" class="iw-mIcon" />'):d&&m.prepend('<span align="absmiddle" class="iw-mIcon '+d+'" />'),g&&m.contextMenu("update",g)}s.onOff(r);var S=i.triggerOn;if(S){o.unbind(".contextMenu");for(var y=[],x=(l=0,(S=S.split(" ")).length);l<x;l++)y.push(S[l]+".contextMenu");o.bind(y.join(" "),s.eventHandler)}a.option=t.extend({},a.option,i),o.data("iw-menuData",a)})},refresh:function(){var e=this.filter(function(){return!!t(this).data("iw-menuData")}).data("iw-menuData"),i=this.filter(function(){return!t(this).data("iw-menuData")});e.option.baseTrigger=this,s.contextMenuBind.call(i,e.menuSelector,e.option)},open:function(e,i){var n=(i=i||{}).event||t.Event("click");i.top&&(n.clientY=i.top),i.left&&(n.clientX=i.left),this.each(function(){s.eventHandler.call(this,n)})},close:function(){var t=this.data("iw-menuData");t&&s.closeContextMenu(t.option,this,t.menu,null)},value:function(t){var e=this.data("iw-menuData");return e[t]?e[t]:e.option?e.option[t]:null},destroy:function(){var e=this.data("iw-menuData").menuId,i=t(".iw-contextMenu[menuId="+e+"]"),n=i.data("iw-menuData");n&&(1==n.noTrigger?i.hasClass("iw-created")?i.remove():(i.removeClass("iw-contextMenu "+e).removeAttr("menuId").removeData("iw-menuData"),i.find("li.iw-mTrigger").contextMenu("destroy")):(n.noTrigger--,i.data("iw-menuData",n)),this.unbind(".contextMenu").removeClass("iw-mTrigger").removeData("iw-menuData"))}},s={contextMenuBind:function(e,i,n){var o=this,a=t(e),r=a.data("iw-menuData");if(0!=a.length||0!=(a=o.find(e)).length){"menu"==n&&s.menuHover(a);var l=i.baseTrigger;if(r)r.noTrigger++,a.data("iw-menuData",r);else{var c;l.data("iw-menuData")?c=l.data("iw-menuData").menuId:(c=Math.ceil(1e5*Math.random()),l.data("iw-menuData",{menuId:c}));var u=a.clone();u.appendTo("body"),r={menuId:c,menuWidth:u.outerWidth(!0),menuHeight:u.outerHeight(!0),noTrigger:1,trigger:o},a.data("iw-menuData",r).attr("menuId",c),u.remove()}o.addClass("iw-mTrigger").data("iw-menuData",{menuId:r.menuId,option:i,menu:a,menuSelector:e,method:n});var h=i.triggerOn;-1!=h.indexOf("hover")&&(h=h.replace("hover","mouseenter"),-1!=l.index(o)&&l.add(a).bind("mouseleave.contextMenu",function(e){0==t(e.relatedTarget).closest(".iw-contextMenu").length&&t('.iw-contextMenu[menuId="'+r.menuId+'"]').fadeOut(100)})),o.delegate("input,a,.needs-click","click",function(t){t.stopImmediatePropagation()});for(var d=[],f=0,v=(h=h.split(" ")).length;f<v;f++)d.push(h[f]+".contextMenu");o.bind(d.join(" "),s.eventHandler),a.bind("click mouseenter",function(t){t.stopPropagation()}),a.delegate("li","click",function(e){i.closeOnClick&&!t.single(this).hasClass("iw-has-submenu")&&s.closeContextMenu(i,o,a,e)})}},eventHandler:function(n){n.preventDefault();var o=t(this),a=o.data("iw-menuData"),r=a.menu,l=r.data("iw-menuData"),c=a.option,u=c.containment,h={trigger:o,menu:r},d=u==e,f=-1==c.baseTrigger.index(o);!f&&c.closeOther&&t(".iw-contextMenu").css("display","none"),r.find(".iw-mSelected").removeClass("iw-mSelected"),c.onOpen.call(this,h,n);var v,p,m,g,b=t(u),S=b.innerHeight(),y=b.innerWidth(),x=0,w=0,M=l.menuHeight,_=l.menuWidth,k=0,P=0,L=v=parseInt(c.verAdjust),C=p=parseInt(c.horAdjust);if(d||(x=b.offset().top,w=b.offset().left,"static"==b.css("position")&&b.css("position","relative")),"cursor"==c.displayAround)g=(k=d?n.clientX:n.clientX+t(e).scrollLeft()-w)+_,(m=(P=d?n.clientY:n.clientY+t(e).scrollTop()-x)+M)>S&&(P-M<0?m-S<M-P?(P=S-M,v*=-1):(P=0,v=0):(P-=M,v*=-1)),g>y&&(k-_<0?g-y<_-k?(k=y-_,p*=-1):(k=0,p=0):(k-=_,p*=-1));else if("trigger"==c.displayAround){var T=o.outerHeight(!0),A=o.outerWidth(!0),R=d?o.offset().left-b.scrollLeft():o.offset().left-w,D=d?o.offset().top-b.scrollTop():o.offset().top-x,E=A;g=(k=R+A)+_,(m=(P=D)+M)>S&&(P-M<0?m-S<M-P?(P=S-M,v*=-1):(P=0,v=0):(P=P-M+T,v*=-1)),g>y&&(k-_<0?g-y<_-k?(k=y-_,p*=-1,E=-A):(k=0,p=0,E=0):(k=k-_-A,p*=-1,E=-A)),"top"==c.position?(P=D-M,v=L,k-=E):"left"==c.position?(k=R-_,p=C):"bottom"==c.position?(P=D+T,v=L,k-=E):"right"==c.position&&(k=R+A,p=C)}var $={position:d||f?"fixed":"absolute",display:"inline-block",height:"",width:""};if("auto"!=c.left&&(k=s.getPxSize(c.left,y)),"auto"!=c.top&&(P=s.getPxSize(c.top,S)),!d){var B=o.offsetParent().offset();f?(k=k+w-t(e).scrollLeft(),P=P+x-t(e).scrollTop()):(k-=w-B.left,P-=x-B.top)}$.left=k+p+"px",$.top=P+v+"px",r.css($),c.afterOpen.call(this,h,n),0==o.closest(".iw-contextMenu").length&&(t(".iw-curMenu").removeClass("iw-curMenu"),r.addClass("iw-curMenu"));var I={trigger:o,menu:r,option:c,method:a.method};t("html").unbind("click",s.clickEvent).click(I,s.clickEvent),t(i).unbind("keydown",s.keyEvent).keydown(I,s.keyEvent),c.winEventClose&&t(e).bind("scroll resize",I,s.scrollEvent)},scrollEvent:function(t){s.closeContextMenu(t.data.option,t.data.trigger,t.data.menu,t)},clickEvent:function(e){e.data.trigger.get(0)!==e.target&&0==t(e.target).closest(".iw-contextMenu").length&&s.closeContextMenu(e.data.option,e.data.trigger,e.data.menu,e)},keyEvent:function(e){e.preventDefault();var i=e.data.menu,n=e.data.option,o=e.keyCode;if(27==o&&s.closeContextMenu(n,e.data.trigger,i,e),"menu"==e.data.method){var a=t(".iw-curMenu"),r=a.children("li:not(.iw-mDisable)"),l=r.filter(".iw-mSelected"),c=r.index(l),u=function(t){s.selectMenu(a,t),t.data("iw-menuData")&&s.eventHandler.call(t[0],e)},h=function(){u(r.filter(":first"))},d=function(){u(r.filter(":last"))};switch(o){case 13:l.click();break;case 40:c==r.length-1||0==l.length?h():u(r.filter(":eq("+(c+1)+")"));break;case 38:0==c||0==l.length?d():u(r.filter(":eq("+(c-1)+")"));break;case 33:h();break;case 34:d();break;case 37:!function(){var t=a.data("iw-menuData").trigger.closest(".iw-contextMenu");0!=t.length&&(a.removeClass("iw-curMenu").css("display","none"),t.addClass("iw-curMenu"))}();break;case 39:!function(){var t=l.data("iw-menuData");if(t){s.eventHandler.call(l[0],e);var i=t.menu;i.addClass("iw-curMenu"),a.removeClass("iw-curMenu"),r=(a=i).children("li:not(.iw-mDisable)"),l=r.filter(".iw-mSelected"),h()}}()}}},closeContextMenu:function(n,o,a,r){t(i).unbind("keydown",s.keyEvent),t("html").unbind("click",s.clickEvent),t(e).unbind("scroll resize",s.scrollEvent),t(".iw-contextMenu").css("display","none"),t(i).focus(),n.onClose.call(this,{trigger:o,menu:a},r)},getPxSize:function(t,e){return isNaN(t)?-1!=t.indexOf("%")?parseInt(t)*e/100:parseInt(t):t},selectMenu:function(t,e){var i=t.find("li.iw-mSelected"),n=i.find(".iw-contextMenu");0!=n.length&&i[0]!=e[0]&&n.fadeOut(100),i.removeClass("iw-mSelected"),e.addClass("iw-mSelected")},menuHover:function(e){Date.now();e.children("li").bind("mouseenter.contextMenu click.contextMenu",function(i){t(".iw-curMenu").removeClass("iw-curMenu"),e.addClass("iw-curMenu"),s.selectMenu(e,t(this))})},createMenuList:function(i,n,o){var a=o.baseTrigger,r=Math.floor(1e4*Math.random());if("object"==typeof n&&!n.nodeType&&!n.jquery){var l=t('<ul class="iw-contextMenu iw-created iw-cm-menu" id="iw-contextMenu'+r+'"></ul>'),c=o.zIndex||i.css("zIndex");if(l.css("zIndex",c),t.each(n,function(e,i){var n=i.name,r=i.fun||function(){},c=i.subMenu,u=i.img||"",h=i.icon||"",d=i.title||"",f=i.className||"",v=i.disable,p=t('<li title="'+d+'" class="'+f+'">'+n+"</li>");u?p.prepend('<img src="'+u+'" align="absmiddle" class="iw-mIcon" />'):h&&p.prepend('<span align="absmiddle" class="iw-mIcon '+h+'" />'),v&&p.addClass("iw-mDisable"),c||p.bind("click.contextMenu",function(t){r.call(this,{trigger:a,menu:l},t)}),l.append(p),c&&(p.addClass("iw-has-submenu").append('<div class="iw-cm-arrow-right" />'),s.subMenu(p,c,a,o))}),-1==a.index(i[0]))i.append(l);else{var u=o.containment==e?"body":o.containment;t(u).append(l)}return s.onOff(t("#iw-contextMenu"+r)),"#iw-contextMenu"+r}if(0!=t(n).length){var h=t(n);return h.removeClass("iw-contextMenuCurrent").addClass("iw-contextMenu iw-cm-menu iw-contextMenu"+r).attr("menuId","iw-contextMenu"+r).css("display","none"),h.find("ul").each(function(e,i){var n=t(this),r=n.parent("li");r.append('<div class="iw-cm-arrow-right" />'),n.addClass("iw-contextMenuCurrent"),s.subMenu(r,".iw-contextMenuCurrent",a,o)}),s.onOff(t(".iw-contextMenu"+r)),".iw-contextMenu"+r}},subMenu:function(t,e,i,n){t.contextMenu("menu",e,{triggerOn:n.subMenuTriggerOn,displayAround:"trigger",position:"auto",mouseClick:"left",baseTrigger:i,containment:n.containment})},onOff:function(e){e.find(".iw-mOverlay").remove(),e.find(".iw-mDisable").each(function(){var e=t(this);e.append('<div class="iw-mOverlay"/>'),e.find(".iw-mOverlay").bind("click mouseenter",function(t){t.stopPropagation()})})},optionOtimizer:function(e,i){if(i)return"menu"==e&&(i.mouseClick||(i.mouseClick="right")),"right"==i.mouseClick&&"click"==i.triggerOn&&(i.triggerOn="contextmenu"),-1!=t.inArray(i.triggerOn,["hover","mouseenter","mouseover","mouseleave","mouseout","focusin","focusout"])&&(i.displayAround="trigger"),i}}}(jQuery,window,document),define("contextMenu",function(){});var LegendMenu={plot:null,detachReset:null,curveFitCb:null,curveFitInfoCb:null,axisCb:null,curveStyleCb:null,hiddenItems:null};LegendMenu.subMenu1=[{name:"style",subMenu:[{name:"Rectangle",fun:function(){LegendMenu.addSymbol(MRect)}},{name:"Cross",fun:function(){LegendMenu.addSymbol(Cross)}},{name:"Diamond",fun:function(){LegendMenu.addSymbol(Diamond)}},{name:"Ellipse",fun:function(){LegendMenu.addSymbol(Ellipse)}},{name:"Diagonal cross",fun:function(){LegendMenu.addSymbol(XCross)}},{name:"None",fun:function(){var t=LegendMenu.getCurve();t&&t.setSymbol(null)}}]}],LegendMenu.subMenu2=[{name:"style",subMenu:[{name:"Rectangle",fun:function(){LegendMenu.addSymbol(MRect)}},{name:"Cross",fun:function(){LegendMenu.addSymbol(Cross)}},{name:"Diamond",fun:function(){LegendMenu.addSymbol(Diamond)}},{name:"Ellipse",fun:function(){LegendMenu.addSymbol(Ellipse)}},{name:"Diagonal cross",fun:function(){LegendMenu.addSymbol(XCross)}},{name:"None",fun:function(){var t=LegendMenu.getCurve();t&&t.setSymbol(null)}}]},{name:"size",subMenu:[{name:"5x5",fun:function(){LegendMenu.setSymbolSize(5)}},{name:"6x6",fun:function(){LegendMenu.setSymbolSize(6)}},{name:"8x8",fun:function(){LegendMenu.setSymbolSize(8)}},{name:"10x10",fun:function(){LegendMenu.setSymbolSize(10)}},{name:"12x12",fun:function(){LegendMenu.setSymbolSize(12)}},{name:"15x15",fun:function(){LegendMenu.setSymbolSize(15)}}]},{name:"fill brush",fun:function(){var t=$('<input type="color" style="opacity:0;">'),e=LegendMenu.getCurve();if(e){var i=e.symbol();if(i){var n=i.brush(),o=n.color;"noBrush"==o&&(o="#000000"),t.val(Static.colorNameToHex(o)),t.change(function(){$(this).remove(),n.color=$(this).val(),i.setBrush(n),LegendMenu.plot.autoRefresh(),LegendMenu.plot.updateLegend(e)}),t.trigger("click")}}}},{name:"pen",subMenu:[{name:"color",fun:function(){var t=$('<input type="color" style="opacity:0;">'),e=LegendMenu.getCurve();if(e){var i=e.symbol();i&&(t.val(Static.colorNameToHex(i.pen().color)),t.change(function(){var t=i.pen();t.color=$(this).val(),i.setPen(t),LegendMenu.plot.autoRefresh(),LegendMenu.plot.updateLegend(e)}),t.trigger("click"))}}},{name:"pen width",subMenu:[{name:"1",fun:function(){LegendMenu.setSymbolPenWidth(1)}},{name:"2",fun:function(){LegendMenu.setSymbolPenWidth(2)}},{name:"3",fun:function(){LegendMenu.setSymbolPenWidth(3)}},{name:"4",fun:function(){LegendMenu.setSymbolPenWidth(4)}},{name:"5",fun:function(){LegendMenu.setSymbolPenWidth(5)}}]}]}],LegendMenu.menu1=[{name:"curve brush",img:"images/style.png",title:"Set the fill color.",fun:function(){Utility.setCurveBrush(LegendMenu.getCurve())}},{name:"curve style",img:"images/style.png",title:"Sets the style of the curve.",fun:function(){var t=LegendMenu.getCurve();t&&LegendMenu.curveStyleCb(t)}},{name:"axis",img:"images/axis.png",title:"Sets the axes associated with the curve.",fun:function(){var t=LegendMenu.getCurve();t&&LegendMenu.axisCb(t)}},{name:"legend attribute",img:"images/attribute.png",title:"Sets how the curve is represented on the legend.",fun:function(){var t=LegendMenu.getCurve();t&&LegendMenu.curveAttributeCb(t)}},{name:"remove",img:"images/scissors.png",title:"Removes the curve from the plot.",fun:function(){var t=LegendMenu.getCurve();t&&t.detach()}},{name:"rename",img:"images/rename.png",title:"Renames the curve.",fun:function(){var t=LegendMenu.getCurve();t&&Utility.curveRenameDlg(t.title(),t.plot())}},{name:"fit",img:"images/fit.png",title:"Defines a curve fitter.",fun:function(){var t=LegendMenu.getCurve();t&&LegendMenu.curveFitCb(t)}},{name:"symbol",img:"images/symbol.png",subMenu:null},{name:"pen",img:"images/pen.png",subMenu:[{name:"color",fun:function(){var t=$('<input type="color" style="opacity:0;">'),e=LegendMenu.getCurve();e&&(t.val(Static.colorNameToHex(e.pen().color)),t.change(function(){var t=e.pen();t.color=$(this).val(),e.setPen(t)}),t.trigger("click"))}},{name:"line style",subMenu:[{name:"solid",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.style="solid",t.setPen(e)}}},{name:"dot",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.style="dot",t.setPen(e)}}},{name:"dash",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.style="dash",t.setPen(e)}}},{name:"dashDot",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.style="dashDot",t.setPen(e)}}},{name:"dashDotDot",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.style="dashDotDot",t.setPen(e)}}}]},{name:"pen width",subMenu:[{name:"1",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.width=1,t.setPen(e)}}},{name:"2",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.width=2,t.setPen(e)}}},{name:"3",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.width=3,t.setPen(e)}}},{name:"4",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.width=4,t.setPen(e)}}},{name:"5",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.width=5,t.setPen(e)}}}]}]}],LegendMenu.menu2=[{name:"curve brush",img:"images/style.png",title:"Set the fill color.",fun:function(){Utility.setCurveBrush(LegendMenu.getCurve())}},{name:"curve style",img:"images/style.png",title:"Sets the style of the curve.",fun:function(){var t=LegendMenu.getCurve();t&&LegendMenu.curveStyleCb(t)}},{name:"axis",img:"images/axis.png",title:"Set the axes associated with the curve.",fun:function(){var t=LegendMenu.getCurve();t&&LegendMenu.axisCb(t)}},{name:"legend attribute",img:"images/attribute.png",title:"Sets how the curve is represented on the legend.",fun:function(){var t=LegendMenu.getCurve();t&&LegendMenu.curveAttributeCb(t)}},{name:"remove",img:"images/scissors.png",title:"Removes the curve from the plot.",fun:function(){var t=LegendMenu.getCurve();t&&t.detach()}},{name:"rename",img:"images/rename.png",title:"Renames the curve.",fun:function(){var t=LegendMenu.getCurve();t&&Utility.curveRenameDlg(t.title(),t.plot())}},{name:"fit",img:"images/fit.png",title:"Defines a curve fitter.",fun:function(){var t=LegendMenu.getCurve();t&&LegendMenu.curveFitCb(t)}},{name:"symbol",img:"images/symbol.png",subMenu:null},{name:"pen",subMenu:[{name:"color",fun:function(){var t=$('<input type="color" style="opacity:0;">'),e=LegendMenu.getCurve();e&&(t.val(Static.colorNameToHex(e.pen().color)),t.change(function(){var t=e.pen();t.color=$(this).val(),e.setPen(t)}),t.trigger("click"))}},{name:"line style",subMenu:[{name:"solid",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.style="solid",t.setPen(e)}}},{name:"dot",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.style="dot",t.setPen(e)}}},{name:"dash",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.style="dash",t.setPen(e)}}},{name:"dashDot",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.style="dashDot",t.setPen(e)}}},{name:"dashDotDot",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.style="dashDotDot",t.setPen(e)}}}]},{name:"pen width",subMenu:[{name:"1",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.width=1,t.setPen(e)}}},{name:"2",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.width=2,t.setPen(e)}}},{name:"3",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.width=3,t.setPen(e)}}},{name:"4",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.width=4,t.setPen(e)}}},{name:"5",fun:function(){var t=LegendMenu.getCurve();if(t){var e=t.pen();e.width=5,t.setPen(e)}}}]}]},{name:"fit info...",title:"Displays information associated with curve fitting.",fun:function(){var t=LegendMenu.getCurve();if(t){var e=LegendMenu.curveFitInfoCb(t);e.length?Static.alert(e):Static.alert('No curve fitting equation found for "'+t.title()+'."')}}}],LegendMenu.addSymbol=function(t){Utility.addSymbol(LegendMenu.getCurve(),t)},LegendMenu.setSymbolPenWidth=function(t){Utility.setSymbolPenWidth(LegendMenu.getCurve(),t)},LegendMenu.setSymbolSize=function(t){Utility.setSymbolSize(LegendMenu.getCurve(),t)},LegendMenu.getCurve=function(){if(void 0==LegendMenu.el)return null;var t=LegendMenu.el.text().replace(" ","");return LegendMenu.plot.findPlotCurve(t)},LegendMenu.initialize=function(){var t="";function e(e){return e.name==t}LegendMenu.hiddenItems&&LegendMenu.hiddenItems.forEach(function(i){t=i,LegendMenu.menu1.splice(LegendMenu.menu1.findIndex(e),1),LegendMenu.menu2.splice(LegendMenu.menu2.findIndex(e),1)}),LegendMenu.table=$(LegendMenu.plot.getLayout().getLegendDiv().children()[0]),LegendMenu.table.mousedown(function(i){if(2==i.button){for(var n=i.pageX,o=i.pageY,a=[],s=document.elementFromPoint(n,o);s&&"BODY"!=s.tagName&&"HTML"!=s.tagName;)a.push(s),s.style.display="none",s=document.elementFromPoint(n,o);for(var r=0;r<a.length;r++)a[r].style.display="";LegendMenu.el=$(a[0]).parent();var l=LegendMenu.getCurve();if(l){LegendMenu.menu=LegendMenu.menu1,l&&l.fitType&&(LegendMenu.menu=LegendMenu.menu2);var c,u,h=(c="symbol",u=LegendMenu.menu1,t=c,u.findIndex(e));h>-1&&(LegendMenu.menu[h].subMenu=LegendMenu.subMenu1,l&&l.symbol()&&(LegendMenu.menu[h].subMenu=LegendMenu.subMenu2)),LegendMenu.el.contextMenu(LegendMenu.menu,{triggerOn:"contextmenu touchstart",zIndex:1})}}})},define("legendMenu",["static","contextMenu"],function(){});class WidgetOverlay extends Widget{constructor(t){super(t);this.draw=function(){let t=new PaintUtil.Painter(this);this.drawOverlay(t),t=null},this.toString=function(){return"[WidgetOverlay]"}}updateOverlay(){this.draw()}drawOverlay(t){console.warn("drawOverlay() not reimplemented")}}define("widgetOverlay",["static","widget"],function(){});var MouseSelect1=0,MouseSelect2=1,MouseSelect3=2,MouseSelect4=3,MouseSelect5=4,MouseSelect6=5,MousePatternCount=6,KeySelect1=0,KeySelect2=1,KeyAbort=2,KeyLeft=3,KeyRight=4,KeyUp=5,KeyDown=6,KeyRedo=7,KeyUndo=8,KeyHome=9,KeyPatternCount=10;function MousePattern(t,e){this.button=Static.NoButton,this.modifiers=Static.NoModifier,void 0!==t&&(this.button=t),void 0!==e&&(this.modifiers=e)}function KeyPattern(t,e){this.key=Static.Key_unknown,this.modifiers=Static.NoModifier,void 0!==t&&(this.key=t),void 0!==e&&(this.modifiers=e)}class EventPattern extends HObject{constructor(t){super(t);var e=[],i=[];this.initMousePattern=function(t){for(var i=0;i<MousePatternCount;++i)e.push(new MousePattern);switch(t){case 1:this.setMousePattern(MouseSelect1,Static.LeftButton),this.setMousePattern(MouseSelect2,Static.LeftButton,Static.ControlModifier),this.setMousePattern(MouseSelect3,Static.LeftButton,Static.AltModifier);break;case 2:this.setMousePattern(MouseSelect1,Static.LeftButton),this.setMousePattern(MouseSelect2,Static.RightButton),this.setMousePattern(MouseSelect3,Static.LeftButton,Static.AltModifier);break;default:this.setMousePattern(MouseSelect1,Static.LeftButton),this.setMousePattern(MouseSelect2,Static.RightButton),this.setMousePattern(MouseSelect3,Static.MidButton)}this.setMousePattern(MouseSelect4,e[MouseSelect1].button,e[MouseSelect1].modifiers|Static.ShiftModifier),this.setMousePattern(MouseSelect5,e[MouseSelect2].button,e[MouseSelect2].modifiers|Static.ShiftModifier),this.setMousePattern(MouseSelect6,e[MouseSelect3].button,e[MouseSelect3].modifiers|Static.ShiftModifier)},this.initKeyPattern=function(){for(var t=0;t<KeyPatternCount;++t)i.push(new KeyPattern);this.setKeyPattern(KeySelect1,Static.Key_Return),this.setKeyPattern(KeySelect2,Static.Key_Space),this.setKeyPattern(KeyAbort,Static.Key_Escape),this.setKeyPattern(KeyLeft,Static.Key_Left),this.setKeyPattern(KeyRight,Static.Key_Right),this.setKeyPattern(KeyUp,Static.Key_Up),this.setKeyPattern(KeyDown,Static.Key_Down),this.setKeyPattern(KeyRedo,Static.Key_Plus),this.setKeyPattern(KeyUndo,Static.Key_Minus),this.setKeyPattern(KeyHome,Static.Key_Escape)},this.setMousePattern=function(t,i,n){void 0==i?e=t:(void 0==n&&(n=Static.NoModifier),t>=0&&t<MousePatternCount&&(e[t].button=i,e[t].modifiers=n))},this.setKeyPattern=function(t,n,o){void 0==n?e=t:(void 0==o&&(o=Static.NoModifier),t>=0&&t<KeyPatternCount&&(i[t].key=n,i[t].modifiers=o))},this.modifiers=function(t){var e=Static.NoModifier;return t.altKey&&t.ctrlKey&&t.shiftKey?e|Static.AltModifier|Static.ControlModifier|Static.ShiftModifier:t.altKey&&t.ctrlKey?e|Static.AltModifier|Static.ControlModifier:t.altKey&&t.shiftKey?e|Static.AltModifier|Static.ShiftModifier:t.ctrlKey&&t.shiftKey?e|Static.ControlModifier|Static.ShiftModifier:t.altKey?e|Static.AltModifier:t.ctrlKey?e|Static.ControlModifier:t.shiftKey?e|Static.ShiftModifier:e},this.button=function(t){return null!=t&&t.button},this.mouseMatch=function(t,i){return t>=0&&t<MousePatternCount&&this.mouseMatch2(e[t],i)},this.mouseMatch2=function(t,e){return null!=e&&(t.button==this.button(e)&&t.modifiers==this.modifiers(e))},this.keyPattern=function(){return i},this.key=function(t){return null!=t&&t.keyCode},this.keyMatch=function(t,e){return t>=0&&t<KeyPatternCount&&this.keyMatch2(i[t],e)},this.keyMatch2=function(t,e){return null!=e&&(t.key==this.key(e)&&t.modifiers==this.modifiers(e))},this.initKeyPattern(),this.initMousePattern(3)}}function PickerMachine(t){var e=t,i=0;this.selectionType=function(){return e},this.state=function(){return i},this.setState=function(t){i=t},this.reset=function(){this.setState(0)}}function PickerTrackerMachine(){PickerMachine.call(this,Static.NoSelection),this.transition=function(t,e){var i=[];switch(e.type){case"mouseenter":case"mousemove":case"touchmove":0==this.state()?(i.push(Static.Begin),i.push(Static.Append),this.setState(1)):i.push(Static.Move);break;case"mouseleave":i.push(Static.Remove),i.push(Static.End),this.setState(0)}return i}}function PickerClickPointMachine(){PickerMachine.call(this,Static.PointSelection),this.transition=function(t,e){var i=[];switch(e.type){case"mousedown":case"touchstart":t.mouseMatch(MouseSelect1,e)&&(i.push(Static.Begin),i.push(Static.Append),i.push(Static.End));break;case"keydown":var n=e;t.keyMatch(KeySelect1,n)&&(i.push(Static.Begin),i.push(Static.Append),i.push(Static.End))}return i}}function PickerDragPointMachine(){PickerMachine.call(this,Static.PointSelection),this.transition=function(t,e){var i=[];switch(e.type){case"mousedown":case"touchstart":t.mouseMatch(MouseSelect1,e)&&0==this.state()&&(i.push(Static.Begin),i.push(Static.Append),this.setState(1));break;case"mousemove":case"touchmove":case"mousewheel":0!=this.state()&&i.push(Static.Move);break;case"mouseup":case"touchend":0!=this.state()&&(i.push(Static.End),this.setState(0));break;case"keydown":var n=e;t.keyMatch(KeySelect1,n)&&(0==this.state()?(i.push(Static.Begin),i.push(Static.Append),this.setState(1)):(i.push(Static.End),this.setState(0)))}return i}}function PickerClickRectMachine(){PickerMachine.call(this,Static.RectSelection),this.transition=function(t,e){var i=[];switch(e.type){case"mousedown":case"touchstart":if(t.mouseMatch(MouseSelect1,e))switch(this.state()){case 0:i.push(Static.Begin),i.push(Static.Append),this.setState(1);break;case 1:break;default:i.push(Static.End),this.setState(0)}break;case"mousemove":case"touchmove":case"mousewheel":0!=this.state()&&i.push(Static.Move);break;case"mouseup":case"touchend":t.mouseMatch(MouseSelect1,e)&&1==this.state()&&(i.push(Static.Append),this.setState(2));break;case"keydown":var n=e;t.keyMatch(KeySelect1,n)&&(0==this.state()?(i.push(Static.Begin),i.push(Static.Append),this.setState(1)):1==this.state()?(i.push(Static.Append),this.setState(2)):2==this.state()&&(i.push(Static.End),this.setState(0)))}return i}}function PickerDragRectMachine(){PickerMachine.call(this,Static.RectSelection),this.transition=function(t,e){var i=[];switch(e.type){case"mousedown":case"touchstart":("touchstart"==e.type||t.mouseMatch(MouseSelect1,e))&&0==this.state()&&(i.push(Static.Begin),i.push(Static.Append),i.push(Static.Append),this.setState(2));break;case"mousemove":case"touchmove":case"mousewheel":0!=this.state()&&i.push(Static.Move);break;case"mouseup":case"touchend":2==this.state()&&(i.push(Static.End),this.setState(0));break;case"keydown":t.keyMatch(KeySelect1,e)&&(0==this.state()?(i.push(Static.Begin),i.push(Static.Append),i.push(Static.Append),this.setState(2)):(i.push(Static.End),this.setState(0)))}return i}}function PickerPolygonMachine(){PickerMachine.call(this,Static.PolygonSelection),this.transition=function(t,e){var i=[];switch(e.type){case"mousedown":case"touchstart":t.mouseMatch(MouseSelect1,e)&&(0==this.state()?(i.push(Static.Begin),i.push(Static.Append),i.push(Static.Append),this.setState(1)):i.push(Static.Append)),t.mouseMatch(MouseSelect2,e)&&1==this.state()&&(i.push(Static.End),this.setState(0));break;case"mousemove":case"touchmove":case"mousewheel":0!=this.state()&&i.push(Static.Move);break;case"keydown":var n=e;t.keyMatch(KeySelect1,n)?0==this.state()?(i.push(Static.Begin),i.push(Static.Append),i.push(Static.Append),this.setState(1)):i.push(Static.Append):t.keyMatch(KeySelect2,n)&&1==this.state()&&(i.push(Static.End),this.setState(0))}return i}}function PickerDragLineMachine(){PickerMachine.call(this,Static.PolygonSelection),this.transition=function(t,e){var i=[];switch(e.type){case"mousedown":case"touchstart":t.mouseMatch(MouseSelect1,e)&&0==this.state()&&(i.push(Static.Begin),i.push(Static.Append),i.push(Static.Append),this.setState(1));break;case"keydown":t.keyMatch(KeySelect1,e)&&(0==this.state()?(i.push(Static.Begin),i.push(Static.Append),i.push(Static.Append),this.setState(1)):(i.push(Static.End),this.setState(0)));break;case"mousemove":case"touchmove":case"mousewheel":0!=this.state()&&i.push(Static.Move);break;case"mouseup":case"touchend":0!=this.state()&&(i.push(Static.End),this.setState(0))}return i}}define("qwteventpattern",function(){}),Static.Begin=0,Static.Append=1,Static.Move=2,Static.Remove=3,Static.End=4,PickerTrackerMachine.inheritsFrom(PickerMachine),PickerClickPointMachine.inheritsFrom(PickerMachine),PickerDragPointMachine.inheritsFrom(PickerMachine),PickerClickRectMachine.inheritsFrom(PickerMachine),PickerDragRectMachine.inheritsFrom(PickerMachine),PickerPolygonMachine.inheritsFrom(PickerMachine),PickerDragLineMachine.inheritsFrom(PickerMachine),define("qwtpickermachine",["static","qwteventpattern"],function(){});class PickerRubberband extends WidgetOverlay{constructor(t,e){super(e);var i=t;this.drawOverlay=function(t){t.setPen(i.rubberBandPen()),t.setBrush(Static.NoBrush),i.drawRubberBand(t)}}}class PickerTracker extends WidgetOverlay{constructor(t,e){super(e);var i=t;this.drawOverlay=function(t){i.trackerOverlay().clearCanvas(),t.save(),t.setPen(i.trackerPen()),i.drawTracker(t),t.restore()}}}function PickerPrivateData(){this.enabled=!1,this.stateMachine=null,this.resizeMode,this.rubberBand=Static.NoRubberBand,this.rubberBandPen=new Misc.Pen("red",1,"solid"),this.trackerMode=Static.AlwaysOff,this.trackerPen=new Misc.Pen("red"),this.trackerFont,this.pickedPoints=[],this.isActive=!1,this.trackerPosition=new Misc.Point,this.mouseTracking=!1,this.rubberBandOverlay=null,this.trackerOverlay=null}class Picker extends EventPattern{constructor(t,e,i){super(i);let n="click",o="mousedown",a="mouseup",s="mousemove";var r;Static.isMobile()&&(n="tap",o="touchstart",a="touchend",s="touchmove");var l=[],c=null;void 0!==i&&"[Widget]"==i.toString()&&(c=i),this.init=function(t,e,i){(r=new PickerPrivateData).rubberBand=e,t&&(r.trackerFont=new Misc.Font(12),this.setEnabled_1(!0)),this.setTrackerMode(i),Picker.pickers.push(this)},this.getPickerData=function(){return r},this.setStateMachine=function(t){r.stateMachine!=t&&(this.reset(),r.stateMachine=t,r.stateMachine&&r.stateMachine.reset())},this.stateMachine=function(){return r.stateMachine},this.parentWidget=function(){return c},this.setRubberBand=function(t){r.rubberBand=t},this.rubberBand=function(){return r.rubberBand},this.setTrackerMode=function(t){r.trackerMode!=t&&(r.trackerMode=t,this.setMouseTracking(r.trackerMode==Static.AlwaysOn))},this.trackerMode=function(){return r.trackerMode},this.setEnabled=function(t){if(r.enabled!=t){r.enabled=t;var e=this.parentWidget();e&&(t?e.installEventFilter(this):e.removeEventFilter(this)),this.updateDisplay()}},this.isEnabled=function(){return r.enabled},this.setTrackerFont=function(t){t!=r.trackerFont&&(r.trackerFont=t,this.updateDisplay())},this.trackerFont=function(){return r.trackerFont},this.setTrackerPen=function(t){t!=r.trackerPen&&(r.trackerPen=t,this.updateDisplay())},this.trackerPen=function(){return r.trackerPen},this.setRubberBandPen=function(t){t!=r.rubberBandPen&&(r.rubberBandPen=t,this.updateDisplay())},this.rubberBandPen=function(){return r.rubberBandPen},this.drawRubberBand=function(t){if(this.isActive()&&this.rubberBand()!=Static.NoRubberBand&&this.rubberBandPen().style!=Static.NoPen){var e=this.adjustedPoints(r.pickedPoints),i=Static.NoSelection;switch(r.stateMachine&&(i=r.stateMachine.selectionType()),i){case Static.NoSelection:case Static.PointSelection:if(e.length<1)return;var n=e[0],o=this.pickArea();switch(this.rubberBand()){case Static.VLineRubberBand:t.drawLine(n.x,o.top(),n.x,o.bottom());break;case Static.HLineRubberBand:t.drawLine(o.left(),n.y,o.right(),n.y);break;case Static.CrossRubberBand:t.drawLine(n.x,o.top(),n.x,o.bottom()),t.drawLine(o.left(),n.y,o.right(),n.y)}break;case Static.RectSelection:if(e.length<2)return;var a=new Misc.Rect(e[0],e[e.length-1]);switch(a=a.normalized(),this.rubberBand()){case Static.EllipseRubberBand:t.drawEllipse(a);break;case Static.RectRubberBand:t.drawRect(a)}break;case Static.PolygonSelection:if(e.length<2)return;this.rubberBand()==Static.PolygonRubberBand&&t.drawPolyline(e)}}},this.drawTracker=function(t){var e=this.trackerRect(this.trackerFont());if(null!==e){var i=this.trackerText(r.trackerPosition);""!==i&&t.drawText(i,e.left(),e.bottom())}},this.adjustedPoints=function(t){return t},this.selection=function(){return this.adjustedPoints(r.pickedPoints)},this.trackerPosition=function(){return r.trackerPosition},this.trackerRect=function(t){if(this.trackerMode()===Static.AlwaysOff)return null;if(this.trackerPosition().x<0||this.trackerPosition().y<0)return null;var e=this.trackerText(this.trackerPosition());if(""==e)return null;var i=t.textSize(e),n=new Misc.Rect(new Misc.Point,i.width,i.height),o=this.trackerPosition(),a=0;if(l.length.length>1&&this.rubberBand()!=Static.NoRubberBand){var s=l[0];a|=o.x>=s.x?Static.AlignRight:Static.AlignLeft,a|=o.y>s.y?Static.AlignBottom:Static.AlignTop}else a=Static.AlignTop|Static.AlignRight;var r=o.x;a&Static.AlignLeft?r-=n.width()+5:a&Static.AlignRight&&(r+=5);var c=o.y;a&Static.AlignBottom?c+=5:a&Static.AlignTop&&(c-=n.height()+5),n.moveTopLeft(new Misc.Point(r,c));var u=new Misc.Rect(new Misc.Point,this.trackerOverlay().width(),this.trackerOverlay().height()),h=Math.min(n.right(),u.right()-5),d=Math.min(n.bottom(),u.bottom()-5);n.moveBottomRight(new Misc.Point(h,d));var f=Math.max(n.left(),u.left()+5),v=Math.max(n.top(),u.top()+5);return n.moveTopLeft(new Misc.Point(f,v)),n},this.eventFilter=function(t,e){if(!this.isEnabled())return!1;if(t&&t==this.parentWidget())switch(e.type){case"mouseenter":this.widgetEnterEvent(e);break;case"mouseleave":this.widgetLeaveEvent(e);break;case o:this.widgetMousePressEvent(e);break;case a:this.widgetMouseReleaseEvent(e);break;case"dblclick":this.widgetMouseDoubleClickEvent(e);break;case s:this.widgetMouseMoveEvent(e);break;case"keydown":this.widgetKeyPressEvent(e);break;case"keyup":this.widgetKeyReleaseEvent(e);break;case"mousewheel":this.widgetWheelEvent(e)}return!1},this.transition=function(t){if(r.stateMachine){var e=r.stateMachine.transition(this,t);switch(t.type){case o:case a:case s:var i=t,n=new Misc.Point(i.clientX,i.clientY);Static.isMobile()&&(n=new Misc.Point(t.originalEvent.changedTouches[0].clientX,t.originalEvent.changedTouches[0].clientY)),n=this.parentWidget().mapToElement(n);break;default:n=this.parentWidget().mapToElement(new Misc.Point(0,0))}for(var l=0;l<e.length;l++)switch(e[l]){case Static.Begin:this.begin();break;case Static.Append:this.append(n);break;case Static.Move:this.move(n);break;case Static.Remove:this.remove();break;case Static.End:this.end()}}},this.reset=function(){r.stateMachine&&r.stateMachine.reset(),this.isActive()&&this.end(!1)},this.append=function(t){r.isActive&&(r.pickedPoints.push(t),this.updateDisplay(),Static.trigger("appended",t))},this.move=function(t){if(r.isActive){var e=r.pickedPoints.length-1;e>=0&&r.pickedPoints[e]!=t&&(r.pickedPoints[e]=t,this.updateDisplay(),Static.trigger("moved",t))}},this.remove=function(){if(r.isActive&&r.pickedPoints.length-1>0){var t=r.pickedPoints.pop();this.updateDisplay(),Static.trigger("removed",t)}},this.accept=function(t){return!0},this.isActive=function(){return r.isActive},this.pickedPoints=function(){return r.pickedPoints},this.setMouseTracking=function(t){var e=this.parentWidget();e&&(t?(r.mouseTracking=e.hasMouseTracking(),e.setMouseTracking(!0)):e.setMouseTracking(r.mouseTracking))},this.pickArea=function(){var t=this.parentWidget();return t?t.contentsRect():null},this.updateDisplay=function(){var t=this.parentWidget(),e=!1,i=!1;t&&t.isVisible()&&r.enabled&&(this.rubberBand()!==Static.NoRubberBand&&this.isActive()&&this.rubberBandPen().style!==Static.NoPen&&(e=!0),(this.trackerMode()==Static.AlwaysOn||this.trackerMode()==Static.ActiveOnly&&this.isActive())&&this.trackerPen()!=Static.NoPen&&(i=!0));var n=r.rubberBandOverlay;e?(null==n&&((n=new PickerRubberband(this,t)).setObjectName("PickerRubberBand"),r.rubberBandOverlay=n),n.updateOverlay()):n&&(r.rubberBandOverlay.getCanvas().hide(),r.rubberBandOverlay.getCanvas(),r.rubberBandOverlay=null);var o=r.trackerOverlay;i?(null==o&&((o=new PickerTracker(this,t)).setObjectName("PickerTracker"),r.trackerOverlay=o),o.updateOverlay()):o&&(r.trackerOverlay.getCanvas().hide(),r.trackerOverlay.getCanvas(),r.trackerOverlay=null)},this.rubberBandOverlay=function(){return r.rubberBandOverlay},this.trackerOverlay=function(){return r.trackerOverlay},void 0==t&&void 0==e?this.init(i,Static.NoRubberBand,Static.AlwaysOff):this.init(i,t,e)}widgetEnterEvent(t){this.transition(t)}widgetLeaveEvent(t){this.transition(t),this.getPickerData().trackerPosition=new Misc.Point(-1,-1),this.isActive()||this.updateDisplay()}widgetKeyReleaseEvent(t){this.transition(t)}widgetWheelEvent(t){var e=new Misc.Point(t.clientX,t.clientY);this.pickArea().contains(e)?this.getPickerData().trackerPosition=e:this.getPickerData().trackerPosition=new Misc.Point(-1,-1),this.updateDisplay(),this.transition(t)}widgetMouseDoubleClickEvent(t){this.transition(t)}widgetMouseMoveEvent(t){var e=new Misc.Point(t.clientX,t.clientY);Static.isMobile()&&(e=new Misc.Point(t.originalEvent.changedTouches[0].clientX,t.originalEvent.changedTouches[0].clientY)),e=this.mapToElement(e),this.pickArea().contains(e)?this.getPickerData().trackerPosition=e:this.getPickerData().trackerPosition=new Misc.Point(-1,-1),this.isActive()||this.updateDisplay(),this.transition(t)}widgetMousePressEvent(t){this.transition(t)}widgetKeyPressEvent(t){var e=0,i=0;if(this.keyMatch(KeyLeft,t)?e=-1:this.keyMatch(KeyRight,t)?e=1:this.keyMatch(KeyUp,t)?i=-1:this.keyMatch(KeyDown,t)?i=1:this.keyMatch(KeyAbort,t)?this.reset():this.transition(t),0!==e||0!==i){var n=pickArea(),o=this.parentWidget().mapToElement(new Misc.Point(clientX,clientY)),a=o.x+e;a=Math.max(n.left(),a),a=Math.min(n.right(),a);var s=o.y+i;s=Math.max(n.top(),s),s=Math.min(n.bottom(),s)}}widgetMouseReleaseEvent(t){this.transition(t)}end(t){var e=this.getPickerData();return e.isActive?(this.setMouseTracking(!1),e.isActive=!1,Static.trigger("activated",!1),this.trackerMode()==Static.ActiveOnly&&(e.trackerPosition=new Misc.Point(-1,-1)),t&&(t=this.accept(e.pickedPoints)),t?Static.trigger("selected",e.pickedPoints):e.pickedPoints.resize(0),this.updateDisplay()):t=!1,t}begin(){var t=this.getPickerData();if(t&&!t.isActive){if(t.pickedPoints=[],t.isActive=!0,Static.trigger("activated",!0),this.trackerMode()!==Static.AlwaysOff&&(t.trackerPosition.x<0||t.trackerPosition.y<0)){var e=this.parentWidget();e&&(t.trackerPosition=e.mapToElement(new Misc.Point(0,0)))}this.updateDisplay(),this.setMouseTracking(!0)}}trackerText(t){var e;switch(this.rubberBand()){case Static.HLineRubberBand:e=t.y.toString();break;case Static.VLineRubberBand:e=t.x.toString();break;default:e=t.x.toString()+", "+t.y.toString()}return e}}Picker.pickers=[],define("qwtpicker",["static","widgetOverlay","qwtpickermachine"],function(){});class PlotPicker extends Picker{constructor(t,e,i,n,o){var a=0;if("number"!=typeof t&&(o=t,t=-1,e=-1,i=Static.NoRubberBand,n=Static.AlwaysOff,a=1),"number"!=typeof i&&(o=i,i=Static.NoRubberBand,n=Static.AlwaysOff,a=2),o instanceof Plot&&(o=o.getCentralWidget()),super(i,n,o),this.d_xAxis=-1,this.d_yAxis=-1,1==a){var s=this.plot();t=xBottom;s&&!s.axisEnabled(xBottom)&&s.axisEnabled(xTop)&&(t=xTop);e=yLeft;s&&!s.axisEnabled(yLeft)&&s.axisEnabled(yRight)&&(e=yRight),this.setAxis(t,e)}else this.d_xAxis=t,this.d_yAxis=e;this.setEnabled(!0),o&&o.setEnabled_1(!0)}setAxis(t,e){this.plot()&&(t==this.d_xAxis&&e==this.d_yAxis||(this.d_xAxis=t,this.d_yAxis=e))}xAxis(){return this.d_xAxis}yAxis(){return this.d_yAxis}plot(){var t=this.parentWidget();return t?t.plot:null}canvas(){return this.parentWidget()}scaleRect(){var t=null;if(this.plot()){var e=this.plot().axisScaleDiv(this.xAxis()),i=this.plot().axisScaleDiv(this.yAxis());t=(t=new Misc.Rect(e.lowerBound(),i.lowerBound(),e.range(),i.range())).normalized()}return t}invTransform(t){var e=this.plot().canvasMap(this.d_xAxis),i=this.plot().canvasMap(this.d_yAxis);if(void 0!==t.x){var n=t;return new Misc.Point(e.invTransform(n.x),i.invTransform(n.y))}return Static.mInvTransform(e,i,t)}transform(t){var e=this.plot().canvasMap(this.d_xAxis),i=this.plot().canvasMap(this.d_yAxis);if(void 0!==t.x){var n=t;return new Misc.Point(e.transform(n.x),i.transform(n.y))}return Static.mTransform(e,i,t)}trackerText(t){var e;switch(t=this.invTransform(t),this.rubberBand()){case Static.HLineRubberBand:e=t.y.toString();break;case Static.VLineRubberBand:e=t.x.toString();break;default:e=t.x.toString()+", "+t.y.toString()}return e}move(t){super.method(move(t)),Static.trigger("moved",invTransform(t))}append(t){super.method(append(t)),Static.trigger("appended",invTransform(t))}end(t=!0){if(!(t=super.end(t)))return!1;if(!this.plot())return!1;var e=this.selection();if(0==e.length)return!1;var i=Static.NoSelection;switch(this.stateMachine()&&(i=this.stateMachine().selectionType()),i){case Static.PointSelection:var n=this.invTransform(e[0]);Static.trigger("selected",n);break;case Static.RectSelection:if(e.length>=2){var o=e[0],a=e[e.length-1],s=new Misc.Rect(o,a).normalized();Static.trigger("selected",this.invTransform(s))}break;case Static.PolygonSelection:for(var r=[],l=0;l<e.length;l++)r.push(this.invTransform(e[l]));Static.trigger("selected",r)}return!0}}define("qwtplotpicker",["static","qwtpicker"],function(){});class MPicker extends PlotPicker{constructor(t,e,i){super(t);var n=this;this._rulerPos=e,this._ruler=i;var o=0,a=0,s=0,r="",l=null,c=null,u=0;this._ruler&&this._ruler.setAxes(this.xAxis(),this.yAxis());var h=Static.FullTrackingText;this.plot()&&(r=this.plot().cursor()),this.controlFlag=function(t){return Boolean(u&t)},this.setControlFlag=function(t,e){e?u|=t:u&=~t},this.prohibit=function(){o&&this.controlFlag(Static.ZoomerSearch)&&(this.setControlFlag(Static.ZoomEnabled,o.isEnabled()),this.controlFlag(Static.ZoomEnabled)&&o.setEnabled(!1)),a&&this.controlFlag(Static.PannerSearch)&&(this.setControlFlag(Static.PanEnabled,a.isEnabled()),this.controlFlag(Static.PanEnabled)&&a.setEnabled(!1)),s&&this.controlFlag(Static.MagnifierSearch)&&(this.setControlFlag(Static.MagnifierEnabled,s.isEnabled()),this.controlFlag(Static.MagnifierEnabled)&&s.setEnabled(!1))},this.restore=function(){o&&this.controlFlag(Static.ZoomEnabled)&&(o.setEnabled(!0),this.setControlFlag(Static.ZoomEnabled,!1)),a&&this.controlFlag(Static.PanEnabled)&&(a.setEnabled(!0),this.setControlFlag(Static.PanEnabled,!1)),s&&this.controlFlag(Static.MagnifierEnabled)&&(s.setEnabled(!0),this.setControlFlag(Static.MagnifierEnabled,!1))},this.setDragCursor=function(){this.controlFlag(Static.DragCursor)||t.cursor()==r&&(l=t.cursor(),c=this._dragCursorShape,t.setCursor(c),this.setControlFlag(Static.DragCursor,!0),this.prohibit(),Static.trigger("rulerSelected",n._ruler))},this.clearDragCursor=function(){this.controlFlag(Static.DragCursor)&&(this._ruler.plot().setCursor(l),this.setControlFlag(Static.DragCursor,!1),this.restore(),Static.trigger("rulerDeselected",n._ruler))},this.setTrackingTextStyle=function(t){h=t},this.trackerText=function(t){if(this._ruler.lock()||h==Static.NoTrackingText||!this.controlFlag(Static.LeftButtonDown)&&!this.controlFlag(Static.ZoomEnabled))return"";if(h==Static.FullTrackingText){var e=this.axisTitle();return e.length?e+"="+this._rulerPos:this._rulerPos}return h==Static.PartialTrackingText?this._rulerPos:""},this.panningFinished=function(){this.setControlFlag(Static.PanningInProgress,!1)},this.panningStarted=function(){this.setControlFlag(Static.PanningInProgress,!0)},$("#plotDivContainer").on("mouseup touchend",function(){Static.LeftButtonDown&&(Static.isMobile()&&n.clearDragCursor(),n.setControlFlag(Static.LeftButtonDown,!1))}),this.initMagnifier=function(){this.controlFlag(Static.MagnifierSearch)&&!s&&t.magnifier&&(s=t.magnifier)},this.initZoomer=function(){!this.controlFlag(Static.ZoomerSearch)&&o||t.zoomer&&(o=t.zoomer)},this.initPanner=function(){!this.controlFlag(Static.PannerSearch)&&a||t.panner&&(a=t.panner)},this.doMouseReleaseEvent=function(t){this._ruler.isVisible()&&!this.controlFlag(Static.PanningInProgress)&&t.button==Static.LeftButton&&(this.controlFlag(Static.LeftButtonDown)&&Static.trigger("positionChanged",[this._ruler,this._rulerPos]),this.setControlFlag(Static.LeftButtonDown,!1))}}widgetMouseReleaseEvent(t){this.doMouseReleaseEvent(t),super.widgetMouseReleaseEvent(t)}widgetLeaveEvent(t){this.doMouseReleaseEvent(t),super.widgetMouseReleaseEvent(t)}}class PickerV extends MPicker{constructor(t,e,i){super(t,e,i),this._dragCursorShape="w-resize",this.axisTitle=function(){return this._ruler.plot().axisTitle(this.xAxis())}}widgetMousePressEvent(t){if(!this._ruler.isVisible()||this.controlFlag(Static.PanningInProgress))return super.widgetMousePressEvent(t);if(2==t.button)return this.controlFlag(Static.DragCursor),!0;if(Static.isMobile()){var e=this._ruler.plot().transform(this.xAxis(),this._rulerPos),i=t.originalEvent.touches[0].clientX,n=t.originalEvent.touches[0].clientY,o=this.mapToElement(new Misc.Point(i,n)).x;!this.controlFlag(Static.LeftButtonDown)&&o<e+12&&o>e-12&&(this.setDragCursor(),this.setControlFlag(Static.LeftButtonDown,!0))}else if(t.button==Static.LeftButton||Static.isMobile())return this.controlFlag(Static.DragCursor)&&this.setControlFlag(Static.LeftButtonDown,!0),!0;return super.widgetMousePressEvent(t)}widgetMouseMoveEvent(t){if(!this._ruler.isVisible()||this.controlFlag(Static.PanningInProgress))return super.widgetMouseMoveEvent(t);if(!this.controlFlag(Static.Locked)){var e=this._ruler.plot(),i=t.clientX,n=t.clientY;if(Static.isMobile()){var o=t.originalEvent.changedTouches[0];i=parseInt(o.clientX),n=parseInt(o.clientY)}var a=this.mapToElement(new Misc.Point(i,n)).x,s=this._ruler.plot().transform(this.xAxis(),this._rulerPos);this.controlFlag(Static.LeftButtonDown)&&(this._rulerPos=e.invTransform(this.xAxis(),a),this._ruler._pos=this._rulerPos,this._ruler.validatePosition(),this._rulerPos=this._ruler._pos,this._ruler.setXValue(this._rulerPos),Static.trigger("shapeItemValueChanged"),Static.trigger("positionChanging",[this._ruler,this._ruler._pos])),!this.controlFlag(Static.LeftButtonDown)&&a<s+2&&a>s-2&&this.setDragCursor(),this.controlFlag(Static.LeftButtonDown)||a<s+2&&a>s-2||this.clearDragCursor()}}}class PickerH extends MPicker{constructor(t,e,i){super(t,e,i),this._dragCursorShape="s-resize",this.axisTitle=function(){return this._ruler.plot().axisTitle(this.yAxis())}}widgetMousePressEvent(t){if(!this._ruler.isVisible()||this.controlFlag(Static.PanningInProgress))return super.widgetMousePressEvent(t);if(2==t.button)return this.controlFlag(Static.DragCursor),!0;if(Static.isMobile()){var e=this._ruler.plot().transform(this.yAxis(),this._rulerPos),i=t.originalEvent.touches[0].clientX,n=t.originalEvent.touches[0].clientY,o=this.mapToElement(new Misc.Point(i,n)).y;!this.controlFlag(Static.LeftButtonDown)&&o<e+12&&o>e-12&&(this.setDragCursor(),this.setControlFlag(Static.LeftButtonDown,!0))}else if(t.button==Static.LeftButton||Static.isMobile())return this.controlFlag(Static.DragCursor)&&this.setControlFlag(Static.LeftButtonDown,!0),!0;return super.widgetMousePressEvent(t)}widgetMouseMoveEvent(t){if(!this._ruler.isVisible()||this.controlFlag(Static.PanningInProgress))return super.widgetMouseMoveEvent(t);if(!this.controlFlag(Static.Locked)){var e=this._ruler.plot(),i=t.clientX,n=t.clientY;if(Static.isMobile()){var o=t.originalEvent.changedTouches[0];i=parseInt(o.clientX),n=parseInt(o.clientY)}var a=this.mapToElement(new Misc.Point(i,n)).y,s=this._ruler.plot().transform(this.yAxis(),this._rulerPos);this.controlFlag(Static.LeftButtonDown)&&(this._rulerPos=e.invTransform(this.yAxis(),a),this._ruler._pos=this._rulerPos,this._ruler.validatePosition(),this._rulerPos=this._ruler._pos,this._ruler.setYValue(this._rulerPos),Static.trigger("shapeItemValueChanged")),!this.controlFlag(Static.LeftButtonDown)&&a<s+2&&a>s-2&&this.setDragCursor(),this.controlFlag(Static.LeftButtonDown)||a<s+2&&a>s-2||this.clearDragCursor()}super.widgetMouseMoveEvent(t)}}function PlotMarker(t){PlotItem.call(this,t);var e="",i=new Misc.Font,n=Static.AlignCenter,o=Horizontal,a=2,s=new Misc.Pen,r=null,l=NoLine,c=0,u=0;this.rtti=Static.Rtti_PlotMarker,this.value=function(){return new Misc.Point(c,u)},this.xValue=function(){return c},this.yValue=function(){return u},this.setValue=function(t,e){if("object"==typeof t){var i=t;t=i.x,e=i.y}t==c&&e==u||(c=t,u=e,this.plot()&&this.plot().autoRefresh())},this.setXValue=function(t){this.setValue(t,u)},this.setYValue=function(t){this.setValue(c,t)},this.setLabel=function(t){t!=e&&(e=t)},this.label=function(){return e},this.setLabelAlignment=function(t){t!==n&&(n=t)},this.labelAlignment=function(){return n},this.setLabelOrientation=function(t){t!=o&&(o=t)},this.labelOrientation=function(){return o},this.setSpacing=function(t){t<0&&(t=0),t!=a&&(a=t)},this.spacing=function(){return a},this.setSymbol=function(t){r=t},this.symbol=function(){return r},this.draw=function(t,e){var i=this.getCanvasRect(),n=new Misc.Point(t.transform(c),e.transform(u)),o=this.getContext();if(this.drawLines(o,i,n),r&&r.style()!==NoSymbol){var a=r.size();i.adjusted(-a.width,-a.height,a.width,a.height).contains(n)&&r.drawSymbol(o,n)}this.drawLabel(o,i,n)},this.drawLabel=function(t,c,u){if(""!==e){var h=n,d=u,f=new Misc.Size(0,0);switch(l){case VLine:n&Static.AlignTop?(d.y=c.top(),h&=~Static.AlignTop,h|=Static.AlignBottom):n&Static.AlignBottom?(d.y=c.bottom()-1,h&=~Static.AlignBottom,h|=Static.AlignTop):d.y=c.center().y;break;case HLine:n&Static.AlignLeft?(d.x=c.left(),h&=~Static.AlignLeft,h|=Static.AlignRight):n&Static.AlignRight?(d.x=c.right()-1,h&=~Static.AlignRight,h|=Static.AlignLeft):d.x=c.center().x;break;default:if(r&&r.style()!==NoSymbol){var v=r.size();f=new Misc.Size((v.width+1)/2,(v.height+1)/2)}}var p=s.width/2;0==p&&(p=.5);var m=a,g=Math.max(p,f.width),b=Math.max(p,f.height),S=i.textSize(e);h&Static.AlignLeft?(d.x-=g+m,d.x-=o==Vertical?S.height:S.width):h&Static.AlignRight?d.x+=g+m:d.x-=o==Vertical?S.height/2:S.width/2,h&Static.AlignTop?(d.y-=b+m,o!=Vertical&&(d.y-=S.height)):h&Static.AlignBottom?(d.y+=b+m,o==Vertical&&(d.y+=S.width)):o==Vertical?d.y+=S.width/2:d.y-=S.height/2;var y=new PaintUtil.Painter(t);y.save(),y.translate(d.x,d.y),o==Vertical&&y.rotate(-90*Math.PI/180),y.setFont(i);var x=new Misc.Rect(0,0,S.width,S.height);y.drawText(e,x.left(),x.bottom()),y.restore(),y=null}},this.drawLines=function(t,e,i){if(l!=NoLine){var n=new PaintUtil.Painter(t);if(n.setPen(s),l==HLine||l==Cross){var o=i.y;n.drawLine(e.left(),o,e.right()-1,o)}if(l==VLine||l==Cross){var a=i.x;n.drawLine(a,e.top(),a,e.bottom()-1)}n=null}},this.setLineStyle=function(t){t!=l&&(l=t)},this.lineStyle=function(){return l},this.setLinePen=function(t){s=t,this.plot()&&this.plot().autoRefresh()},this.linePen=function(){return s},this.setZ(30)}define("mpicker",["static","qwtplotpicker"],function(){}),PlotMarker.inheritsFrom(PlotItem),PlotMarker.prototype.toString=function(){return"[PlotMarker]"},PlotMarker.prototype.legendIcon=function(t,e){if(0===e.width&&0===e.height)return null;var i=new GraphicUtil.Graphic(null,e.width,e.height),n=new PaintUtil.Painter(i);return this.lineStyle(),this.symbol()&&this.symbol().drawGraphicSymbol(n,new Misc.Point(e.width,e.height),e),n=null,i},define("jQwtPlotMarker",["static","plotItem"],function(){});class Ruler extends PlotMarker{constructor(t,e,i){super(e),this._picker=0,this._pos=0,this._rightClickMenu=0,this._rulers=null,i!=VLine&&i!=HLine||(this.setLineStyle(i),this.setLinePen(new Misc.Pen("blue"))),this.attach(t),this.setMouseTracking=function(t){this._picker.setMouseTracking(t)}}}Ruler.prototype.toString=function(){return"[Ruler]"},Ruler.prototype.setPicker=function(t){return!!t&&(this._picker=t,!0)},Ruler.prototype.setZoomerSearch=function(t){this._picker.setControlFlag(Static.ZoomerSearch,t),this._picker.initZoomer()},Ruler.prototype.setPannerSearch=function(t){this._picker.setControlFlag(Static.PannerSearch,t)},Ruler.prototype.setLock=function(t){this._picker.setControlFlag(Static.Locked,t),this._picker.clearDragCursor()},Ruler.prototype.lock=function(){return this._picker.controlFlag(Static.Locked)},Ruler.prototype.setTrackingTextStyle=function(t){this._picker.setTrackingTextStyle(t)},Ruler.prototype.trackingTextStyle=function(){return this._picker.trackingTextStyle()},Ruler.prototype.setTrackingTextFont=function(t){this._picker.setTrackerFont(t)},Ruler.prototype.trackingTextFont=function(){return this._picker.trackerFont()},Ruler.prototype.setTrackingTextColor=function(t){var e=this._picker.trackerFont();e.fontColor=t,this._picker.setTrackerFont(e)},Ruler.prototype.trackingTextColor=function(){return this._picker.trackerFont().color},Ruler.prototype.validatePosition=function(t,e){},Ruler.prototype.dragCursorShape=function(){return this._picker.dragCursorShape()},Ruler.prototype.setDragCursorShape=function(t){this._picker.setDragCursorShape(t)},Ruler.prototype.setRightClickMenu=function(t){};class RulerV extends Ruler{constructor(t,e,i){super(t,e,VLine),i&&(this._rulers=i),this._picker=new PickerV(t,this._pos,this)}}RulerV.prototype.setPosition=function(t){this._pos=t,this._picker._rulerPos=t,this.setXValue(this._pos)};class RulerH extends Ruler{constructor(t,e,i){super(t,e,HLine),i&&(this._rulers=i),this._picker=new PickerH(t,this._pos,this)}}RulerH.prototype.setPosition=function(t){this._pos=t,this._picker._rulerPos=t,this.setYValue(this._pos)},define("ruler",["static","jQwtPlotMarker"],function(){});class MRulerV extends RulerV{constructor(t,e,i){super(t,e,i),this.rulers=function(){return this._rulers},this.validatePosition=function(){var t=this.plot(),e=t.axisInterval(this.xAxis()),i=e.minValue(),n=e.maxValue(),o=t.transform(this._picker.xAxis(),i),a=t.transform(this._picker.xAxis(),n),s=t.transform(this._picker.xAxis(),this._pos),r=this._rulers.minX(),l=this._rulers.maxX(),c=2;Static.isMobile()&&(c=12);var u,h=.5*(this.rulers().ruler(0).linePen().width+this.rulers().ruler(1).linePen().width)+c,d=this._rulers.rulerId(this);0==d&&(this._rulers.ruler(1).isVisible()?(s>=(u=t.transform(this._picker.xAxis(),this._rulers.ruler(1)._pos))-h&&(this._pos=t.invTransform(this._picker.xAxis(),u-h)),s<o&&(this._pos=t.invTransform(this._picker.xAxis(),o)),this._rulers._curve&&this._pos<r&&(this._pos=r)):(s<o&&(this._pos=t.invTransform(this._picker.xAxis(),o)),s>a&&(this._pos=t.invTransform(this._picker.xAxis(),a)),this._rulers._curve&&this._pos<r&&(this._pos=r),this._rulers._curve&&this._pos>l&&(this._pos=l)));1==d&&(this._rulers.ruler(0).isVisible()?(s<=(u=t.transform(this._picker.xAxis(),this._rulers.ruler(0)._pos))+h&&(this._pos=t.invTransform(this._picker.xAxis(),u+h)),s>a&&(this._pos=t.invTransform(this._picker.xAxis(),a)),this._rulers._curve&&this._pos>l&&(this._pos=l)):(s<o&&(this._pos=t.invTransform(this._picker.xAxis(),o)),s>a&&(this._pos=t.invTransform(this._picker.xAxis(),a)),this._rulers._curve&&this._pos<r&&(this._pos=r),this._rulers._curve&&this._pos>l&&(this._pos=l)))}}}MRulerV.prototype.setVisible=function(t){if(PlotMarker.prototype.setVisible.call(this,t),t&&this._rulers){var e=this._rulers.rulerId(this);(0==e&&this._rulers.ruler(1).isVisible()||1==e&&this._rulers.ruler(0).isVisible())&&this._rulers.resetXPositions()}},MRulerV.prototype.setLockAt=function(t){this.setPosition(t),this.setLock(!0),Static.trigger("positionChanged",[this,t]),Static.trigger("shapeItemValueChanged")};class MRulerH extends RulerH{constructor(t,e,i){super(t,e,i),this.rulers=function(){return this._rulers},this.validatePosition=function(){var t=this.plot(),e=t.axisInterval(this.yAxis()),i=e.minValue(),n=e.maxValue(),o=t.transform(this.yAxis(),i),a=t.transform(this.yAxis(),n),s=t.transform(this.yAxis(),this._pos),r=this._rulers.minY(),l=this._rulers.maxY(),c=2;Static.isMobile()&&(c=12);var u,h=.5*(this.rulers().ruler(2).linePen().width+this.rulers().ruler(3).linePen().width)+c,d=this._rulers.rulerId(this);2==d&&(this._rulers.ruler(3).isVisible()?(s<=(u=t.transform(this.yAxis(),this._rulers.ruler(3)._pos))+h&&(this._pos=t.invTransform(this.yAxis(),u+h)),s>o&&(this._pos=t.invTransform(this.yAxis(),o)),this._rulers._curve&&this._pos<r&&(this._pos=r)):(s<a&&(this._pos=t.invTransform(this.yAxis(),a)),s>o&&(this._pos=t.invTransform(this.yAxis(),o)),this._rulers._curve&&this._pos<r&&(this._pos=r),this._rulers._curve&&this._pos>l&&(this._pos=l)));3==d&&(this._rulers.ruler(2).isVisible()?(s>=(u=t.transform(this.yAxis(),this._rulers.ruler(2)._pos))-h&&(this._pos=t.invTransform(this.yAxis(),u-h)),s<a&&(this._pos=t.invTransform(this.yAxis(),a)),this._rulers._curve&&this._pos>l&&(this._pos=l)):(s>o&&(this._pos=t.invTransform(this.yAxis(),o)),s<a&&(this._pos=t.invTransform(this.yAxis(),a)),this._rulers._curve&&this._pos<r&&(this._pos=r),this._rulers._curve&&this._pos>l&&(this._pos=l)))}}}function Rulers(t,e){var i=this;if(this._curve=0,this._watchTable=new WatchTable(this),this._editor=0,this._curveShapeItem=0,this._watchSetter=0,this._rulerList=null,this._watchList=[],this.sidebarVisible=!1,t.setAutoReplot(!0),this._rulerList=[new MRulerV(t,"v_ruler1",i),new MRulerV(t,"v_ruler2",i),new MRulerH(t,"h_ruler1",i),new MRulerH(t,"h_ruler2",i)],Static.isMobile())for(var n=0;n<4;++n){var o=this._rulerList[n].linePen();o.width=3*o.width}this._minX=0,this._maxX=0,this._minY=0,this._maxY=0,this.minX=function(){return this._minX},this.maxX=function(){return this._maxX},this.minY=function(){return this._minY},this.maxY=function(){return this._maxY},this.currentRuler=null;var a=null,s=t.getLayout().getCentralDiv();Static.bind("rulerSelected",function(t,e){i.currentRuler=e,s.contextMenu(a,{triggerOn:"contextmenu",zIndex:1})}),this.setMenu=function(t){a=t},this.init(t),this.position=function(t){return t>-1&&t<4&&this._rulerList[t].isVisible()?this._rulerList[t]._pos:Number.MAX_VALUE},this.watch=function(t){return t>=0&&t<this._watchList.length?this._watchList[t]:null},this.addToWatchList=function(t){return this._watchList.push(t),this._watchList.length-1},this.setWatchEnabled=function(t,e){if(t>=0&&t<this._watchList.length){if(this._watchList[t].isEnable()==e)return;this._watchList[t].setEnable(e),e&&this.updateWatch(this._watchList[t]),this._watchTable.updateWatchTable()}},this.isWatchEnabled=function(t){return t>=0&&t<this._watchList.length&&this._watchList[t].isEnable()},Static.bind("showSidebar",function(t,e){i.sidebarVisible=e}),this.updateWatchesAndTable=function(){i.sidebarVisible&&this._curve&&(this.updateWatches(),this._watchTable&&this._watchTable.updateWatchTable(),this._valid=!0)},this.setVisible=function(t){this._rulerList.forEach(function(e){e.setVisible(t)}),Static.trigger("positionChanged")},this.hasVisibleRuler=function(){for(var t=0;t<4;++t)if(this._rulerList[t].isVisible())return!0;return!1},this.hasLockedRuler=function(){for(var t=0;t<4;++t)if(this._rulerList[t].lock())return!0;return!1},this.updateWatch=function(t){t.isEnable()&&(t.setCurveName(this._curve.title()),t.setRulerLeft(this.position(0)),t.setRulerRight(this.position(1)),t.setRulerBottom(this.position(2)),t.setRulerTop(this.position(3)),this._curve&&t.setCurve(this._curve),t.computeWatch())},this.updateWatches=function(){this._watchList.forEach(function(t){i.updateWatch(t)})},this.setEnabled=function(t){this._rulerList.forEach(function(e){e._picker.setEnabled(t)})},this.setMouseTracking=function(t){this._rulerList.forEach(function(e){e._picker.setMouseTracking(t)})},this.setZoomerSearch(!0),this.setPannerSearch(!0),this.setMouseTracking(!0),Static.bind("zoomerAdded",function(t,e){i.setZoomerSearch(i._rulerList[0]._picker.controlFlag(Static.ZoomerSearch)),i.setMouseTracking(!0)}),Static.bind("pannerAdded",function(t,e){i.setPannerSearch(i._rulerList[0]._picker.controlFlag(Static.PannerSearch)),i.setMouseTracking(!0)})}function WatchTable(t){this.removeAllRows=function(){for(var t=$("#watchTableBody").children(),e=0;e<t.length;++e)$("#watchTableBody")[0].removeChild(t[e])},this.insertInfoRow=function(t){!function(t){var e=t.name(),i=t.value();if("number"==t.valueType||"text"==t.valueType){for(var n=e;-1!=n.indexOf(" ");)n=n.replace(" ","");var o=$("<tr><td>"+e+"</td></tr>");$("#watchTableBody").append(o);var a=$("<td><input id="+n+" type="+t.valueType+'  style="width:100%" value='+i+" /></td>");o.append(a),$("#"+n).on("change",t.cb)}else $("#watchTableBody").append($("<tr><td>"+e+"</td><td>"+i+"</td></tr>"))}(t)},this.updateWatchTable=function(){if(this.removeAllRows(),t._curve&&t._curve.isVisible())for(var e=t._watchList.length,i=0;i<e;++i){var n=t.watch(i);n.isEnable()&&this.insertInfoRow(n)}}}function SideBar(t,e,i){var n=$('<div id="sideBar" style="position: absolute; height:98%; background-color:#ffc9ae;  border-style: solid; border-width:1px"><div class="noSelect" style="text-align:center"><h4>Sidebar</h4></div><div style="margin:4px"><select id="currentCurve" style="width:100%"></select></div><div><input id="fnDisplay" style="width:100%" readonly /></div><div><label style="margin:4px">onchcange: <input id="onchange" type="checkbox" readonly /></label></div><div style="height:40%; overflow: auto"><div id="coeff_cont0" style="background-color:lightBlue; margin:2px; border-radius:4px"><div style="">Coefficient:<b><span id="coeff0">?</span></b></div><div style="margin:4px"><div style="" title="A coefficient in the function that could be ajusted">value:<input id="coeff_val0" style="width:60%" type="number" value="1" /></div></div></div><br><div id="coeff_cont1" style="background-color:lightBlue; margin:2px; border-radius:4px"><div style="">Coefficient:<b><span id="coeff1">?</span></b></div><div style="margin:4px"><div style="" title="A coefficient in the function that could be ajusted">value:<input id="coeff_val1" style="width:60%" type="number" value="1" /></div></div></div><br><div id="coeff_cont2" style="background-color:lightBlue; margin:2px; border-radius:4px"><div style="">Coefficient:<b><span id="coeff2">?</span></b></div><div style="margin:4px"><div style="" title="A coefficient in the function that could be ajusted">value:<input id="coeff_val2" style="width:60%" type="number" value="1" /></div></div></div><br><div id="coeff_cont3" style="background-color:lightBlue; margin:2px; border-radius:4px"><div style="">Coefficient:<b><span id="coeff3">?</span></b></div><div style="margin:4px"><div style="" title="A coefficient in the function that could be ajusted">        value:<input id="coeff_val3" style="width:60%" type="number" value="1" />           </div>         </div>      </div>      <br>      <div id="coeff_cont4" style="background-color:lightBlue; margin:2px; border-radius:4px">        <div style="">Coefficient:<b><span id="coeff4">?</span></b></div>          <div style="margin:4px">           <div style="" title="A coefficient in the function that could be ajusted">        value:<input id="coeff_val4" style="width:60%" type="number" value="1" />           </div>         </div>      </div>      </div>            <div style="text-align:center"><h4>Watches</h4></div>      <div class="table-responsive" style="height: 34%">                        <table class="table table-bordered" id="watchTable">            <thead>              <tr>                <th>Watch</th>                <th>Value</th>             </tr>            </thead>            <tbody id="watchTableBody">            </tbody>          </table>                          </div>    </div>');$("body").append(n);var o=!1,a=null,s=!1;function r(){t.itemList(Static.Rtti_PlotCurve);!function(){for(var t=0;t<5;++t)$("#coeff_cont"+t).hide()}();var e=t.findPlotCurve($("#currentCurve").val());if(e){$("#fnDisplay").val(""),e.fn&&$("#fnDisplay").val("f("+e.variable+")="+e.fn);var i=e.coeffs||[],n=(e.upperX-e.lowerX)/80,o=i.length;o>5&&(o=5);for(var a=0;a<o;++a)$("#coeff"+a).html(i[a]),$("#coeff_val"+a).attr("step",n),$("#coeff_val"+a).val(e.coeffsVal[a]),$("#coeff_cont"+a).show()}}function l(){if(function(){for(var e=$("#currentCurve").children(),i=0;i<e.length;++i)$("#currentCurve")[0].removeChild(e[i]);var n=t.itemList(Static.Rtti_PlotCurve);for(i=0;i<n.length;++i)if(n[i].isVisible()){var o=$("<option>"+n[i].title()+"</option>");o.attr("value",n[i].title()),$("#currentCurve").append(o)}}(),r(),a){var e=t.findPlotCurve($("#currentCurve").val());a.setCurrentCurve(e)}}Static.bind("beforePrint",function(){o&&(s=!0,u(!1))}),Static.bind("afterPrint",function(){s&&(s=!1,u(!0))}),$("#sideBar").hide(),this.initSidebar=function(){l()},this.currentCurveName=function(){return $("#currentCurve").val()},this.setRulers=function(t){a=t};var c=20;function u(e){Static.trigger("showSidebar",e),e?($("#sideBar").show(),$("#plotDiv").parent().css("width",100-c+"%"),l()):($("#sideBar").hide(),$("#plotDiv").parent().css("width","100%")),o=e,t.autoRefresh()}function h(){for(var e=t.findPlotCurve($("#currentCurve").val()),n=e.coeffs,o=e.fn,a=0;a<n.length;++a){for(;-1!=o.indexOf(n[a]);)o=o.replace(n[a],$("#coeff_val"+a).val());e.coeffsVal[a]=$("#coeff_val"+a).val()}var s=e.data();e.unboundedRange?s.setFn(o):s.setSamples(i({fx:o,lowerX:e.lowerX,upperX:e.upperX,numOfSamples:e.numOfSamples})),Static.trigger("curveAdjusted"),t.autoRefresh()}$("#sideBar").css("width",c-.2+"%"),$("#sideBar").css("left",100-c+.1+"%"),this.showSidebar=function(t){u(t)},Static.bind("titleChange",function(){l()}),$("#currentCurve").change(function(){if(Static.total_volume=void 0,Static.total_area=void 0,Static.prevStart=void 0,Static.prevEnd=void 0,r(),a){var e=t.findPlotCurve($("#currentCurve").val());a.setCurrentCurve(e)}}),Static.bind("pointAdded pointRemoved",function(t,e){$("#currentCurve").val(e.title)}),$("#coeff_val0, #coeff_val1, #coeff_val2, #coeff_val3, #coeff_val4").on("input",function(){$("#onchange")[0].checked||h()}),$("#coeff_val0, #coeff_val1, #coeff_val2, #coeff_val3, #coeff_val4").on("change",function(){$("#onchange")[0].checked&&h()})}MRulerH.prototype.setVisible=function(t){if(PlotMarker.prototype.setVisible.call(t),t&&this._rulers){var e=this._rulers.rulerId(this);(2==e&&this._rulers.ruler(3).isVisible()||3==e&&this._rulers.ruler(2).isVisible())&&this._rulers.resetYPositions()}},MRulerH.prototype.setLockAt=function(t){this.setPosition(t),this.setLock(!0),Static.trigger("positionChanged",[this,t]),Static.trigger("shapeItemValueChanged")},Rulers.prototype.unlockAllRulers=function(){for(var t=0;t<this._rulerList.length;++t)this._rulerList[t].setLock(!1)},Rulers.prototype.setCurrentCurve=function(t){this._curve!=t&&this.doSetCurrentCurve(t)},Rulers.prototype.refresh=function(){var t=this._rulerList[0].plot();if(this._curve&&this._curve.isVisible()){var e=t.axisInterval(this._rulerList[0].xAxis()),i=e.minValue(),n=e.maxValue(),o=t.axisInterval(this._rulerList[0].yAxis()),a=o.minValue(),s=o.maxValue();i=this._minX<i?i:this._minX,this._rulerList[0].setPosition(i),n=this._maxX<n?this._maxX:n,this._rulerList[1].setPosition(n),a=this._minY<a?a:this._minY,this._rulerList[2].setPosition(a),s=this._maxY<s?this._maxY:s,this._rulerList[3].setPosition(s),this.updateWatchesAndTable()}else this.resetXPositions(),this.resetYPositions()},Rulers.prototype.doSetRulersAxes=function(t,e){this._rulerList[0].xAxis(),this._rulerList[0].yAxis();for(var i=0;i<this._rulerList.length;++i)this._rulerList[i].setAxes(t,e),this._rulerList[i]._picker.setAxis(t,e)},Rulers.prototype.adjustToCurve=function(t){this._curve=t,this._curve&&(this._curve.isVisible()&&(this._minX=this._curve.minXValue(),this._maxX=this._curve.maxXValue(),this._minY=this._curve.minYValue(),this._maxY=this._curve.maxYValue()),this.doSetRulersAxes(this._curve.xAxis(),this._curve.yAxis()),this._curveShapeItem),this.refresh()},Rulers.prototype.doSetCurrentCurve=function(t){this._curve;this.adjustToCurve(t),Static.trigger("currentCurveChanged",t)},Rulers.prototype.setCurrentCurve=function(t){this._curve!=t&&this.doSetCurrentCurve(t)},Rulers.prototype.currentCurve=function(){return this._curve},Rulers.prototype.init=function(t){var e=this;this._rulerList;Static.bind("positionChanged",function(t,i,n){e.updateWatchesAndTable()}),Static.bind("curveAdjusted",function(t,i,n){e.updateWatchesAndTable()}),this._rulerList[0].linePen().color="red",this._rulerList[2].linePen().color="red",this.resetXPositions(),this.resetYPositions()},Rulers.prototype.setZoomerSearch=function(t){this._rulerList.forEach(function(e){e.setZoomerSearch(t),e._picker.initZoomer()})},Rulers.prototype.setPannerSearch=function(t){this._rulerList.forEach(function(e){e.setPannerSearch(t),e._picker.initPanner()})},Rulers.prototype.resetXPositions=function(){var t=this._rulerList[0].plot().axisInterval(this._rulerList[0].xAxis());this._curve&&this._curve.isVisible()?(t.minValue()>this._minX?this._rulerList[0].setPosition(t.minValue()):this._rulerList[0].setPosition(this._minX),t.maxValue()<this._maxX?this._rulerList[1].setPosition(t.maxValue()):this._rulerList[1].setPosition(this._maxX)):(this._rulerList[0].setPosition(t.minValue()),this._rulerList[1].setPosition(t.maxValue()))},Rulers.prototype.resetYPositions=function(){var t=this._rulerList[0].plot().axisInterval(this._rulerList[0].yAxis());this._curve&&this._curve.isVisible()?(this._rulerList[2].setPosition(this._minY),this._rulerList[3].setPosition(this._maxY),t.minValue()>this._minY?this._rulerList[2].setPosition(t.minValue()):_rulerList[2].setPosition(this._minY),t.maxValue()<this._maxY?this._rulerList[3].setPosition(t.maxValue()):this._rulerList[3].setPosition(this._maxY)):(this._rulerList[2].setPosition(t.minValue()),this._rulerList[3].setPosition(t.maxValue()))},Rulers.prototype.ruler=function(t){return t<4&&t>=0?this._rulerList[t]:0},Rulers.prototype.rulerId=function(t){return t?this._rulerList.indexOf(t):-1},Rulers.prototype.setRulersXAxis=function(t){this._rulerList[0].xAxis();for(var e=0;e<this._rulerList.length;++e)this._rulerList[e].setXAxis(t),this._rulerList[e]._picker.setAxis(t,this._rulerList[e].yAxis());this._curveShapeItem&&this._curveShapeItem.setAxes(t,this._rulerList[0].yAxis())},Rulers.prototype.setRulersYAxis=function(t){for(var e=0;e<this._rulerList.length;++e)this._rulerList[e].setYAxis(t),this._rulerList[e]._picker.setAxis(this._rulerList[e].xAxis(),t);this._curveShapeItem&&this._curveShapeItem.setAxes(_rulerList[0].xAxis(),t)},define("rulers",["static","mpicker","ruler"],function(){}),define("sideBar",function(){});var AxisData=function(){this.axisName="",this.isEnabled=!1,this.doAutoScale=!0,this.minValue,this.maxValue,this.stepSize,this.maxMajor,this.maxMinor,this.isValid=!0,this.scaleDiv=null,this.scaleEngine=null,this.scaleWidget=null,this.scaleDomDiv=null,this.canvas=null,this.toString=function(){return"[AxisData]"}};function Plot(t,e){var i;i=t||$("#plotDiv");var n=this,o=[],a=[],s=!1,r="",l="",c=!1,u="",h="",f=!1,v=null,p=new Misc.Font;this.zoomer=null,this.panner=null,this.isSidebarVisible=function(){return s},Static.bind("showSidebar",function(t,e){s=e}),this.setLegendFont=function(t){p=t},this.legendFont=function(){return p},this.autoRefresh=function(){f&&this.replot()},this.setAutoReplot=function(t){f=t},this.autoReplot=function(){return f},this.plotItemStore=function(){return o};var m=new Misc.Font(12),g=new Misc.Font(12),b=new Layout(i,this);this.getLayout=function(){return b},this.axisInterval=function(t){return this.axisValid(t)?a[t].scaleDiv.interval():new Interval},this.setAxisDecimalPlaces=function(t,e){this.axisValid(t)&&(this.axisScaleDraw(t).setDecimalPlaces(e),this.autoRefresh())},this.setNonExponentNotationLimits=function(t,e){for(var i=0;i<axisCnt;++i)this.axisScaleDraw(i).setNonExponentLimits(t,e);this.autoRefresh()},this.axisDecimalPlaces=function(t){return this.axisValid(t)?this.axisScaleDraw(t).decimalPlaces():3};var S=new Widget(b.getCentralDiv()),y=new Widget(b.getTitleDiv()),x=new Widget(b.getFooterDiv());S.plot=this,this.getCentralWidget=function(){return S},this.getTitleWidget=function(){return y},this.getFooterWidget=function(){return x},this.initAxesData=function(){var t;for(t=0;t<axisCnt;t++)a[t]=new AxisData;for(a[yLeft].axisName="AxisYLeft",a[yRight].axisName="AxisYRight",a[xTop].axisName="AxisXTop",a[xBottom].axisName="AxisXBottom",a[yLeft].scaleDomDiv=b.getScaleDivElement(yLeft),a[yRight].scaleDomDiv=b.getScaleDivElement(yRight),a[xTop].scaleDomDiv=b.getScaleDivElement(xTop),a[xBottom].scaleDomDiv=b.getScaleDivElement(xBottom),a[yLeft].scaleWidget=new ScaleWidget(this,b.getScaleDivElement(yLeft),LeftScale),a[yRight].scaleWidget=new ScaleWidget(this,b.getScaleDivElement(yRight),RightScale),a[xTop].scaleWidget=new ScaleWidget(this,b.getScaleDivElement(xTop),TopScale),a[xBottom].scaleWidget=new ScaleWidget(this,b.getScaleDivElement(xBottom),BottomScale),t=0;t<axisCnt;t++){var e=a[t];e.scaleEngine=new LinearScaleEngine,e.scaleWidget.setTransformation(e.scaleEngine.transformation()),e.doAutoScale=!0,e.minValue=0,e.maxValue=1e3,e.stepSize=0,e.maxMinor=5,e.maxMajor=8,e.isValid=!1}a[yLeft].isEnabled=!0,a[yRight].isEnabled=!0,a[xBottom].isEnabled=!0,a[xTop].isEnabled=!0},this.axisMaxMinor=function(t){return this.axisValid(t)?a[t].maxMinor:0},this.axisMaxMajor=function(t){return this.axisValid(t)?a[t].maxMajor:0},this.setAxisMaxMinor=function(t,e){if(this.axisValid(t)){e=Static.qBound(0,e,100);var i=a[t];e!=i.maxMinor&&(i.maxMinor=e,i.isValid=!1,this.autoRefresh())}},this.setAxisMaxMajor=function(t,e){if(this.axisValid(t)){e=Static.qBound(1,e,1e4);var i=a[t];e!=i.maxMajor&&(i.maxMajor=e,i.isValid=!1,this.autoRefresh())}},this.axisValid=function(t){return t>=yLeft&&t<axisCnt},this.setAxisScaleEngine=function(t,e){if(this.axisValid(t)&&null!==e){var i=a[t];i.scaleEngine=e,a[t].scaleWidget.setTransformation(e.transformation()),i.isValid=!1,this.autoRefresh()}},this.legend=function(){return v},this.insertLegend=function(t){(v=t).setLegendDiv(b.getLegendDiv()),v.setPlot(this);for(var e=0;e<o.length;++e)this.insertLegendItem(o[e])},this.insertLegendItem=function(t,e){null!==v&&null!=t&&(t.testItemAttribute(Legend)&&v.addItem(t,e),v.isEmpty()||c&&b.getLegendDiv().show())},this.removeLegendItem=function(t){if(null!==v){var e=v.removeItem(t);return v.isEmpty()&&b.getLegendDiv().hide(),e}},this.updateLegend=function(t){if(null!=t&&t.testItemAttribute(Legend)){var e=this.removeLegendItem(t);this.insertLegendItem(t,e)}},this.axisScaleEngine=function(t){return this.axisValid(t)?a[t].scaleEngine:null},this.setAxisAutoScale=function(t,e){this.axisValid(t)&&a[t].doAutoScale!==e&&(a[t].doAutoScale=e,this.autoRefresh())},this.axisAutoScale=function(t){return!!this.axisValid(t)&&a[t].doAutoScale},this.setAxisScale=function(t,e,i,n){var o=0;if(void 0!==n&&(o=n),this.axisValid(t)){var s=a[t];s.doAutoScale=!1,s.isValid=!1,s.minValue=e,s.maxValue=i,s.stepSize=o,Static.trigger("rescaled"),this.autoRefresh()}},this.enableAxis=function(t,e){this.axisValid(t)&&e!==a[t].isEnabled&&(a[t].isEnabled=e,e?a[t].scaleDomDiv.show():a[t].scaleDomDiv.hide(),this.autoRefresh())},this.axisEnabled=function(t){return!!this.axisValid(t)&&a[t].isEnabled},this.setAxisTitle=function(t,e){this.axisValid(t)&&(a[t].scaleWidget.setTitle(e),this.autoRefresh())},this.axisTitle=function(t){return this.axisValid(t)?a[t].scaleWidget.title():""},this.axisScaleDiv=function(t){return a[t].scaleDiv},this.setAxisScaleDiv=function(t,e){this.axisValid(t)&&(d=a[t],d.doAutoScale=!1,d.scaleDiv=e,d.isValid=!0,this.autoRefresh())},this.axisScaleDraw=function(t){return this.axisValid(t)?this.axisWidget(t).scaleDraw():null},this.setAxisLabelFont=function(t,e){this.axisValid(t)&&(this.axisWidget(t).setLabelFont(e),this.autoRefresh())},this.axisLabelFont=function(t){return this.axisValid(t)?this.axisWidget(t).labelFont():null},this.setAxisTitleFont=function(t,e){this.axisValid(t)&&(this.axisWidget(t).setTitleFont(e),this.autoRefresh())},this.axisTitleFont=function(t){return this.axisValid(t)?this.axisWidget(t).titleFont():null},this.initAxesData(),this.isCursorSet=function(){return""!==u},this.cursor=function(t){return u},this.setCursor=function(t){t!=u&&(u=t,b.getCentralDiv().css("cursor",u))},this.setDefaultCursor=function(t){h!=t&&(h=t)},this.unsetCursor=function(){h!=u&&(u=h,b.getCentralDiv[0].style.cursor=u)},this.title=function(){return r},this.hideTitle=function(){""!=r&&(b.getTitleDiv().hide(),b.updateLayout(),this.autoRefresh())},this.showTitle=function(){""!=r&&(b.getTitleDiv().show(),b.updateLayout(),this.autoRefresh())},this.setTitle=function(t){r!==t&&(r=t,0==t.trim(" ").length&&(r=""),""!==r?(b.getTitleDiv().show(),Static.trigger("titleAdded",!0)):(b.getTitleDiv().hide(),Static.trigger("titleAdded",!1)),b.updateLayout(),this.autoRefresh())},this.setTitleFont=function(t){t.th<0||""===t.name||""===t.style||(m=t,b.adjustLayout(b.getTitleDiv(),2*t.th),this.autoRefresh())},this.setTitleFont(new Misc.Font(20,"Arial","normal","bold")),this.titleFont=function(){return m},this.footer=function(){return l},this.hideFooter=function(){""!=l&&(b.getFooterDiv().hide(),b.updateLayout(),this.autoRefresh())},this.showFooter=function(){""!=l&&(b.getFooterDiv().show(),b.updateLayout(),this.autoRefresh())},this.setFooter=function(t){l!==t&&(""!==(l=t)?(b.getFooterDiv().show(),Static.trigger("footerAdded",!0)):(b.getFooterDiv().hide(),Static.trigger("footerAdded",!1)),b.updateLayout(),this.autoRefresh())},this.setFooterFont=function(t){t.th<0||""===t.name||""===t.style||(g=t,b.adjustLayout(b.getFooterDiv(),2*t.th),this.autoRefresh())},this.setFooterFont(new Misc.Font(15,"Arial","normal","bold")),this.footerFont=function(){return g},this.enableLegend=function(t){c=t,v&&!v.isEmpty()&&(t?b.getLegendDiv().show():b.getLegendDiv().hide(),this.autoRefresh())},this.isLegendEnabled=function(t){return!("none"==b.getLegendDiv()[0].style.display)},this.invTransform=function(t,e){return this.axisValid(t)?this.canvasMap(t).invTransform(e):0},this.transform=function(t,e){return this.axisValid(t)?this.canvasMap(t).transform(e):0};this.setPlotBackground=function(t){this.getCentralWidget().getElement().css("background-color",t)},this.setPlotBackground("rgb(238, 232, 170)"),this.plotBackground=function(t){return this.getCentralWidget().getElement().css("background-color")},this.setBorderRadius=function(t){this.getCentralWidget().getCanvas().css("border-radius",t)},this.borderRadius=function(t){return m_borderRadius},this.findPlotCurve=function(t){for(var e=this.itemList(Static.Rtti_PlotCurve),i=0;i<e.length;++i)if(e[i].title()===t)return e[i];return null},this.hasVisiblePlotCurve=function(){for(var t=this.itemList(Static.Rtti_PlotCurve),e=0;e<t.length;++e)if(t[e].isVisible())return!0;return!1},this.hasPlotCurve=function(){return this.itemList(Static.Rtti_PlotCurve).length>0},this.drawBackGround=function(){var t=new PaintUtil.Painter(S);t.fillRect(new Misc.Rect(0,0,S.width(),S.height()),""),t=null},this.drawTitle=function(){if(""!==r){var t=new PaintUtil.Painter(y);t.setFont(m),t.drawText(r,y.width()/2,2.6*m.th/2,"center"),t=null}},this.drawFooter=function(){if(""!==l){var t=new PaintUtil.Painter(x);t.setFont(g),t.drawText(l,x.width()/2,2.6*g.th/2,"center"),t=null}},this.itemList=function(t){if(void 0===t)return o;for(var e=[],i=0;i<o.length;++i){var n=o[i];n.rtti===t&&e.push(n)}return e},this.insertItem=function(t){o.push(t)},this.removeItem=function(t){var e=o.indexOf(t);e>-1&&o.splice(e,1)},this.canvasMap=function(t){var e=new ScaleMap;e.setTransformation(this.axisScaleEngine(t).transformation());var i=this.axisScaleDiv(t);e.setScaleInterval(i.lowerBound(),i.upperBound());var n=this.axisWidget(t);if(t==yLeft||t==yRight){var o=n.height();e.setPaintInterval(o,0)}else{var a=n.width();e.setPaintInterval(0,a)}return e},this.axisWidget=function(t){return this.axisValid(t)?a[t].scaleWidget:null},this.updateAxes=function(){var t=[new Interval(Number.MAX_VALUE,-Number.MAX_VALUE),new Interval(Number.MAX_VALUE,-Number.MAX_VALUE),new Interval(Number.MAX_VALUE,-Number.MAX_VALUE),new Interval(Number.MAX_VALUE,-Number.MAX_VALUE)];for(d=0;d<o.length;++d){if((f=o[d]).testItemAttribute(AutoScale)&&(f.isVisible()&&(this.axisAutoScale(f.xAxis())||this.axisAutoScale(f.yAxis())))){var e=f.boundingRect();e.width()>=0&&(e.left()<t[f.xAxis()].minValue()&&t[f.xAxis()].setMinValue(e.left()),e.right()>t[f.xAxis()].maxValue()&&t[f.xAxis()].setMaxValue(e.right())),e.height()>=0&&(e.top()<t[f.yAxis()].minValue()&&t[f.yAxis()].setMinValue(e.top()),e.bottom()>t[f.yAxis()].maxValue()&&t[f.yAxis()].setMaxValue(e.bottom()))}}for(var i=0;i<axisCnt;i++){var n=a[i],s=n.minValue,r=n.maxValue,l=n.stepSize;if(n.doAutoScale&&t[i].isValid()){n.isValid=!1;var c={x1:s=t[i].minValue(),x2:r=t[i].maxValue()};n.scaleEngine.autoScale(n.maxMajor,c,l),s=c.x1,r=c.x2}n.isValid||(n.scaleDiv=n.scaleEngine.divideScale(s,r,n.maxMajor,n.maxMinor,l),n.isValid=!0);var u=this.axisWidget(i);u.setScaleDiv(n.scaleDiv);var h={start:void 0,end:void 0};u.getBorderDistHint(h),u.setBorderDist(h.start,h.end)}for(var d=0;d<o.length;++d){var f;(f=o[d]).testItemInterest(ScaleInterest)&&f.updateScaleDiv(this.axisScaleDiv(f.xAxis()),this.axisScaleDiv(f.yAxis()))}},this.attachItem=function(t,e){e?(this.insertItem(t),t.testItemAttribute(Legend)&&this.insertLegendItem(t)):(t.testItemAttribute(Legend)&&this.removeLegendItem(t),this.removeItem(t)),Static.trigger("itemAttached",[t,e]),e||(t=null),this.autoRefresh()},this.replot=function(){this.updateAxes();for(var t=0;t<axisCnt;t++){var e=a[t].scaleWidget;e.scaleDraw().data.plotBorderWidth=parseFloat(this.getLayout().getCentralDiv().css("border-width")),e.draw()}this.drawTitle(),this.drawFooter();for(var i=0;i<o.length;++i)o[i].isVisible()&&o[i].draw(this.axisScaleDraw(o[i].xAxis()).scaleMap(),this.axisScaleDraw(o[i].yAxis()).scaleMap());Static.trigger("replot")},this.setAutoReplot(!0),b.getTitleDiv().hide(),void 0!==e&&this.setTitle(e),h=b.getCentralDiv().css("cursor"),this.setCursor("crosshair"),this.enableAxis(yRight,!1),this.enableAxis(xTop,!1),b.getFooterDiv().hide(),b.getLegendDiv().hide(),Static.bind("resize",function(){n.replot()}),this.setAutoReplot(!1),this.toString=function(){return'[Plot "'+r+'"]'},Static.bind("beforePrint",function(){n.replot()})}function SyntheticPointData(t,e){SeriesData.call(this);var i,n=t,o=e||new Interval,a=new Interval(0,10);this.setSize=function(t){n=t},this.size=function(){return n},this.setInterval=function(t){o=t.normalized()},this.interval=function(){return o},this.setRectOfInterest=function(t){i=t,a=new Interval(t.left(),t.right()).normalized()},this.rectOfInterest=function(){return i},this.boundingRect=function(){return 0==n||!o.isValid()&&!a.isValid()?new Misc.Rect(1,1,-2,-2):Static.mBoundingRect(this)},this.y=function(t){throw'subclass must implement "this.y"'},this.sample=function(t){if(t>=n)return new Misc.Point(0,0);var e=this.x(t),i=this.y(e);return new Misc.Point(e,i)},this.x=function(t){var e=o.isValid()?o:a;if(!e.isValid()||0==n||t>=n)return 0;var i=e.width()/n;return e.minValue()+t*i}}function GraphicUtil(){GraphicUtil.Graphic=function(t,e,i){var n=t,o=e,a=i,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width",e),s.setAttribute("height",i),this.parent&&this.parent[0].appendChild(s),this.setParent=function(t){this.parent=t,this.parent[0].appendChild(s)},this.parent=function(){return n},this.setWidth=function(t){o=t},this.width=function(){return o},this.setHeight=function(t){a=t},this.height=function(){return a},this.svg=function(){return s},this.toString=function(){return"[Graphic]"}}}function mDrawXCrossSymbols(t,e,i){var n=i.size(),o=i.pen(),a=(i.brush(),n.width),s=n.height;t.beginPath(),t.strokeStyle=o.color,t.lineWidth=o.width;for(var r=0;r<e.length;r++){var l=e[r].x-.5*a-1,c=e[r].y-.5*s-1;t.moveTo(l,c),t.lineTo(l+a,c+s),t.moveTo(l+a,c),t.lineTo(l,c+s)}t.stroke()}function mDrawLineSymbols(t,e,i,n){var o=n.size(),a=n.pen(),s=(n.brush(),o.width),r=o.height,l=new PaintUtil.Painter(t);l.setPen(a),l.save();for(var c=0;c<i.length;c++){if(e&Horizontal){var u=i[c].x-.5*s-1,h=i[c].y-1;l.drawLine(u,h,u+s,h)}if(e&Vertical){u=i[c].x-1,h=i[c].y-.5*r-1;l.drawLine(u,h,u,h+r)}}l.restore(),l=null}function mDrawPathSymbols(t,e,i){var n=e.length,o=i.size(),a=i.pen(),s=i.brush(),r=o.width,l=o.height,c=new PaintUtil.Painter(t);c.setPen(a),c.setBrush(s);for(var u=0;u<n;u++){var h=e[u].x,d=e[u].y,f=i.m_path.boundingRect();c.save(),c.translate(h,d),c.scale(r/f.width(),l/f.height()),i.m_path.data.rotation&&c.rotate(i.m_path.data.rotation);var v=i.pinPoint();c.translate(-1*v.x,-1*v.y),c.drawPath(i.m_path),c.restore()}c=null}function mDrawDiamondSymbols(t,e,i){var n=new PaintUtil.Painter(t);n.save(),n.setBrush(i.brush()),n.setPen(i.pen());for(var o=i.size(),a=(new Misc.Rect(new Misc.Point,i.size()),e.length),s=0;s<a;s++)n.save(),n.translate(e[s].x-1,e[s].y-1),n.rotate(45),n.drawRect(-.5*o.width,-.5*o.height,o.width,o.height),n.restore();n.restore(),n=null}function mDrawRectSymbols(t,e,i){var n=new PaintUtil.Painter(t);n.save(),n.setBrush(i.brush()),n.setPen(i.pen());for(var o=new Misc.Rect(new Misc.Point,i.size()),a=e.length,s=0;s<a;s++)o.moveCenter(e[s]),n.drawRect(o.left(),o.top(),o.width(),o.height());n.restore(),n=null}function mDrawEllipseSymbols(t,e,i){var n=new PaintUtil.Painter(t);n.save(),n.setBrush(i.brush()),n.setPen(i.pen());for(var o=Math.min(i.size().width,i.size().height)/2,a=e.length,s=0;s<a;s++)n.drawCircle(e[s].x-1,e[s].y-1,o);n.restore(),n=null}function mDrawCrossGraphicSymbol(t,e,i,n){t.setBrush(n.brush()),t.setPen(n.pen());var o=new Misc.Rect(new Misc.Point,n.size());o.moveCenter(e),t.drawLine(o.left()+.5*o.width(),o.top(),o.left()+.5*o.width(),o.bottom()),t.drawLine(o.left(),o.top()+.5*o.height(),o.right(),o.top()+.5*o.height())}function mDrawXCrossGraphicSymbol(t,e,i,n){t.setBrush(n.brush()),t.setPen(n.pen());var o=new Misc.Rect(new Misc.Point,n.size());o.moveCenter(e),t.drawLine(o.left(),o.top(),o.right(),o.bottom()),t.drawLine(o.right(),o.top(),o.left(),o.bottom())}function mDrawRectGraphicSymbol(t,e,i,n){t.setBrush(n.brush());var o=new Misc.Rect(new Misc.Point,n.size());o.moveCenter(e),t.drawRect(o.left(),o.top(),o.width(),o.height())}function mDrawDiamondGraphicSymbol(t,e,i,n){t.setBrush(n.brush());var o=new Misc.Rect(new Misc.Point,.707*n.size().width,.707*n.size().height);o.moveCenter(e),t.drawRect(o.left(),o.top(),o.width(),o.height()),t.transform({rotation:45,rotationX:e.x,rotationY:e.y})}function mDrawEllipseGraphicSymbol(t,e,i,n){t.setBrush(n.brush());var o=Math.min(n.size().width,n.size().height)/2;t.drawCircle(e.x,e.y,o)}function mDrawPathGraphicSymbol(t,e,i,n){var o=n.pen(),a=0;o.style!==Static.NoPen&&(a=Math.max(o.width,1));var s=n.path().boundingRect();s=s.adjusted(-a,-a,a,a);var r=n.path().data;r.xOffset=-1*s.left(),r.yOffset=-1*s.top(),r.xCenter=(s.right()-s.left())/2,r.yCenter=(s.bottom()-s.top())/2,t.setBrush(n.brush()),t.setPen(n.pen()),r.scale=Math.min(i.width/s.width(),i.height/s.height()),t.drawPath(n.path())}define("jQwtPlot",["static","widget","scaleWidget"],function(){}),SyntheticPointData.inheritsFrom(SeriesData),define("jQwtPointData",["static","seriesData"],function(){}),GraphicUtil(),define("jGraphic",function(){});class Symbol{constructor(t,e,i,n){var o=NoSymbol,a=new Misc.Size(-1,-1),s=new Misc.Brush("gray"),r=new Misc.Pen;this.m_path=0;var l=new Misc.Point(0,0);void 0!==n?(o=t,s=e,r=i,a=n):void 0!==i?(o=t,s=e,r=i):void 0!==e?(o=t,s=e):void 0!==t&&(o=t),this.setPinPoint=function(t){l=t},this.pinPoint=function(t){return l},this.setSize=function(t){t.isValid()&&!t.isEqual(a)&&(a=t)},this.size=function(){return a},this.setStyle=function(t){o!=t&&(o=t)},this.style=function(){return o},this.setPath=function(t){o=Path,this.m_path=t},this.path=function(){return this.m_path},this.setPen=function(t){r=t},this.pen=function(){return r},this.setBrush=function(t){s=t},this.brush=function(){return s},this.brush1=function(){return"noBrush"!==s.color},this.drawSymbols=function(t,e){if(!(e.length<=0)){this.renderSymbols(t,e)}},this.drawGraphicSymbol=function(t,e,i){this.renderGraphicSymbol(t,e,i)},this.drawSymbol=function(t,e){this.drawSymbols(t,[e])},this.renderSymbols=function(t,e){e.length;switch(o){case Ellipse:mDrawEllipseSymbols(t,e,this);break;case MRect:mDrawRectSymbols(t,e,this);break;case Diamond:mDrawDiamondSymbols(t,e,this);break;case Cross:mDrawLineSymbols(t,Horizontal|Vertical,e,this);break;case XCross:mDrawXCrossSymbols(t,e,this);break;case HLine:mDrawLineSymbols(t,Horizontal,e,this);break;case VLine:mDrawLineSymbols(t,Vertical,e,this);break;case Path:mDrawPathSymbols(t,e,this)}},this.renderGraphicSymbol=function(t,e,i){if(o!==Cross||o!==XCross){var n=new Misc.Pen(this.pen());this.brush1()&&(n.width/=2),t.setPen(n)}switch(o){case Ellipse:mDrawEllipseGraphicSymbol(t,e,0,this);break;case MRect:mDrawRectGraphicSymbol(t,e,0,this);break;case Diamond:mDrawDiamondGraphicSymbol(t,e,0,this);break;case Cross:mDrawCrossGraphicSymbol(t,e,0,this);break;case XCross:mDrawXCrossGraphicSymbol(t,e,0,this);break;case HLine:case VLine:break;case Path:mDrawPathGraphicSymbol(t,e,i,this)}},this.boundingRect=function(){var t=new Misc.Rect;switch(o){case Ellipse:case MRect:case Hexagon:var e=0;r.style!=Static.NoPen&&(e=Math.max(r.width,1)),(t=new Misc.Rect(new Misc.Point,a.width+e,a.height+e)).moveCenter(new Misc.Point);break;case XCross:case Diamond:case Triangle:case UTriangle:case DTriangle:case RTriangle:case LTriangle:case Star1:case Star2:e=0;r.style!==Static.NoPen&&(e=Math.max(r.width,1)),(t=new Misc.Rect(new Misc.Point,a.width+e,a.height+e)).moveCenter(new Misc.Point);break;case Path:t=m_path.boundingRect(),console.log(t.width()),t.moveCenter(new Misc.Point);break;default:(t=new Misc.Rect(new Misc.Point,a.width,a.height)).moveCenter(new Misc.Point)}var i=new Misc.Rect;return i.setLeft(Math.floor(t.left())),i.setTop(Math.floor(t.top())),i.setRight(Math.ceil(t.right())),i.setBottom(Math.ceil(t.bottom())),i}}toString(){return"[Symbol]"}}define("jQwtSymbol",["static","jGraphic"],function(){});var LegendData=function(){var t={},e=!0;function i(e){return void 0!==t[e]}this.title=function(){return this.value(Static.TitleRole)},this.icon=function(){return this.value(Static.IconRole)},this.mode=function(){return this.hasRole(Static.ModeRole)?this.value(Static.ModeRole):Static.ReadOnly},this.setValue=function(i,n){t[i]=n,e=!1},this.isValid=function(){return!e},this.hasRole=function(t){return i(t)},this.value=function(e){return i(e)?t[e]:null},this.toString=function(){return"[LegendData]"}},AbstractLegend=function(){var t=null,e=!1,i=null,n="",o=0,a=100,s=function(e,i){e.setVisible(!i),t.autoReplot()||t.replot()};"undefined"!=typeof checkChangeFn&&(s=checkChangeFn);var r=[],l=$("<table/>").attr({});this.setLegendDiv=function(t){(i=t).append(l),i.css("overflow","auto")},this.setPlot=function(e){t=e},this.isEmpty=function(){return!(l[0].rows.length>=1)},this.setMaxWidth=function(t){a=t},this.maxWidth=function(){return a},this.legendDivWidth=function(){var e=t.legendFont().textSize(n).width+o+8;return e<this.maxWidth()?e:this.maxWidth()},this.addItem=function(t,i){var a=t.plot().legendFont(),c=t.legendData()[0];if(c.isValid()){var u=c.title(),h=c.icon();h&&h.width()>o&&(o=h.width());var d=$("<tr />"),f=$('<td class="unchecked"></td>'),v=$("<label />");v.css("color",a.fontColor),v.css("font-size",a.th),v.text(" "+u);var p=$("<span/>");h&&h.setParent(p),v.appendTo(p),p.appendTo(f),d.append(f),l.append(d),void 0!==i&&i>-1?(r.splice(i,0,t),Static.setElementIndex(d,i)):r.push(t),f.click(t,function(t){"unchecked"===$(this).attr("class")?($(this).removeClass("unchecked"),$(this).addClass("checked"),e=!0):($(this).removeClass("checked"),$(this).addClass("unchecked"),e=!1),s&&s(t.data,e)}),t.title().length>n.length&&(n=t.title())}},this.removeItem=function(t){var e,n=r.indexOf(t);if(!(n<0))return(e=n)>-1&&r.splice(e,1),l[0].deleteRow(n),parseInt(l.css("height"))<parseInt(i.css("height"))&&i.css("overflow-y","auto"),parseInt(l.css("width"))<parseInt(i.css("width"))&&i.css("overflow-x","auto"),n},this.clearLegend=function(){for(var t=l[0].rows.length,e=0;e<t;++e)l[0].deleteRow(0)},this.rowNumberFromName=function(t){for(var e=l[0].rows,i=0;i<e.length;++i)if(e[i].cells[0].innerHTML===t)return i;return-1},this.toString=function(){return"[AbstractLegend]"}};function MLegend(t){AbstractLegend.call(this,t),this.toString=function(){return"[MLegend]"}}AbstractLegend.prototype.isEmpty=function(){return!0},AbstractLegend.prototype.renderLegend=function(t,e,i){return!0},AbstractLegend.prototype.updateLegend=function(t,e){},MLegend.inheritsFrom(AbstractLegend),define("jQwtLegend",["static"],function(){});class Magnifier extends HObject{constructor(t){super(t);for(var e=null,i=!0,n=1.9,o=Static.NoModifier,a=.95,s=Static.RightButton,r=Static.NoModifier,l=.9,c=107,u=Static.Key_Shift,h=109,d=Static.Key_Shift,f=!1,v=!1,p=!1,m=0,g=[],b=0;b<axisCnt;b++)g[b]=!0;g[1]=!1,g[3]=!1,this.setAxisEnabled=function(t,e){t>=0&&t<axisCnt&&(g[t]=e)},this.isAxisEnabled=function(t){return!(t>=0&&t<axisCnt)||g[t]},void 0!==t&&(t.magnifier=this,e=t,this.setElement(e.getLayout().getCentralDiv())),this.plot=function(){return e},this.setWheelFactor=function(t){n=t},this.wheelFactor=function(){return n},this.setWheelModifiers=function(t){o=t},this.wheelModifiers=function(){return o},this.setMouseFactor=function(t){a=t},this.mouseFactor=function(){return a},this.setMouseButton=function(t,e){s=t,r=e},this.getMouseButton=function(){return{button:s,modifiers:r}},this.setKeyFactor=function(t){l=t},this.keyFactor=function(){return l},this.setZoomInKey=function(t,e){c=t,u=e},this.getZoomInKey=function(){return{key:c,modifiers:u}},this.setZoomOutKey=function(t,e){h=t,d=e},this.getZoomOutKey=function(){return{key:h,modifiers:d}},this.setEnabled=function(t){i=t},this.isEnabled=function(t){return i},this.event=function(t){if(i)switch(t.type){case"mousedown":return null==this.plot()||(t.button!==s||(t.clientX,m=t.clientY,f=!0,!0));case"mouseup":t.button===s&&f&&this.plot()&&(f=!1);break;case"mousemove":if(!f)return;var e=t.clientY-m;if(0!=e){var o=a;e<0&&(o=1/o),this.rescale(o)}t.clientX,m=t.clientY;break;case"keydown":t.keyCode==u&&(v=!0),t.keyCode==d&&(p=!0),t.keyCode==c&&v?this.rescale(l):t.keyCode==h&&p&&this.rescale(1/l);break;case"keyup":t.keyCode==u&&(v=!1),t.keyCode==d&&(p=!1);break;case"mousewheel":if(0!=n){o=Math.pow(n,Math.abs(t.deltaY/15));t.deltaY>0&&(o=1/o),this.rescale(o)}}},this.rescale=function(t){var e=this.plot();if(null!=e&&1!=(t=Math.abs(t))&&0!=t){var i=!1,n=e.autoReplot();e.setAutoReplot(!1);for(var o=0;o<axisCnt;o++){var a=this.plot().axisScaleDiv(o);if(this.isAxisEnabled(o)){var s,r,l,c,u=this.plot().axisScaleEngine(o);u instanceof LogScaleEngine?(s=(Static.mLog(u.base(),a.lowerBound())+Static.mLog(u.base(),a.upperBound()))/2,r=(Static.mLog(u.base(),a.upperBound())-Static.mLog(u.base(),a.lowerBound()))/2*t,l=Math.pow(u.base(),s-r),c=Math.pow(u.base(),s+r)):(l=(s=a.lowerBound()+a.range()/2)-(r=a.range()/2*t),c=s+r),e.setAxisScale(o,l,c),i=!0}}return e.setAutoReplot(n),i&&e.replot(),!1}},this.setEnabled_1(!0),this.toString=function(){return"[Magnifier]"}}}function PlotGrid(t){PlotItem.call(this,t),this.setItemAttribute(AutoScale,!0);var e=!0,i=!0,n=!1,o=!1,a=null,s=null,r="grey",l="lightGrey";this.rtti=Static.Rtti_PlotGrid,this.setMajorPen=function(t){r!==t&&(r=t,this.itemChanged())},this.majorPen=function(){return r},this.setMinorPen=function(t){l!==t&&(l=t,this.itemChanged())},this.minorPen=function(){return l},this.enableX=function(t){e!=t&&(e=t,this.itemChanged(),Static.trigger("itemChanged",[this,t]))},this.enableY=function(t){i!=t&&(i=t,this.itemChanged(),Static.trigger("itemChanged",[this,t]))},this.enableXMin=function(t){n!=t&&(n=t,this.itemChanged())},this.enableYMin=function(t){o!=t&&(o=t,this.itemChanged())},this.setXDiv=function(t){a!==t&&(a=t)},this.xDiv=function(){return a},this.setYDiv=function(t){s!==t&&(s=t)},this.yDiv=function(){return s},this.draw=function(t,a){var s=this.plot(),c=s.axisScaleDiv(this.xAxis()),u=s.axisScaleDiv(this.yAxis()),h=this.getContext();h.strokeStyle=l,e&&n&&(this.drawLines(h,"vertical",t,c.ticks(MinorTick)),this.drawLines(h,"vertical",t,c.ticks(MediumTick))),i&&o&&(this.drawLines(h,"horizontal",a,u.ticks(MinorTick)),this.drawLines(h,"horizontal",a,u.ticks(MediumTick))),h.strokeStyle=r,e&&this.drawLines(h,"vertical",t,c.ticks(MajorTick)),i&&this.drawLines(h,"horizontal",a,u.ticks(MajorTick))},this.drawLines=function(t,e,i,n){for(var o=t.canvas.width-1,a=t.canvas.height-1,s=new PaintUtil.Painter(t),r=s.pen().width,l=0;l<n.length;l++){var c=i.transform(n[l]);"horizontal"===e?s.drawLine(0,c-r,o,c-r):s.drawLine(c-r,0,c-r,a)}s=null},this.updateScaleDiv=function(t,e){this.setXDiv(t),this.setYDiv(e)}}define("jQwtMagnifier",["static"],function(){}),PlotGrid.inheritsFrom(PlotItem),PlotGrid.prototype.toString=function(){return"[PlotGrid]"},define("jQwtPlotGrid",["static","plotItem"],function(){});class PrivateData_2{constructor(){this.zoomRectIndex,this.zoomStack=[],this.maxStackDepth}}class PlotZoomer extends PlotPicker{constructor(t,e,i,n=!0){"number"!=typeof t?super(i=t):super(t,e,i);var o;this.getZoomerData=function(){return o},this.init=function(t){(o=new PrivateData_2).maxStackDepth=-1,this.setTrackerMode(Static.ActiveOnly),this.setRubberBand(Static.RectRubberBand),this.setStateMachine(new PickerDragRectMachine),this.plot().zoomer=this,Static.trigger("zoomerAdded",this),t&&this.plot()&&this.plot().replot(),this.setZoomBase(this.scaleRect())},this.setZoomBase=function(t=!0){if("object"==typeof t){var e=t;if(!(a=this.plot()))return;var i=this.scaleRect(),n=e|i;n=null;n=e||i,o.zoomStack=[],o.zoomStack.push(n),o.zoomRectIndex=0,e.isEqual(i)||(o.zoomStack.push(i),o.zoomRectIndex++),this.rescale()}else{var a;if(null==(a=this.plot()))return;t&&a.replot(),o.zoomStack=[],o.zoomStack.push(this.scaleRect()),o.zoomRectIndex=0,this.rescale()}},this.zoomBase=function(){return o.zoomStack[0]},this.zoomRect=function(){return o.zoomStack[o.zoomRectIndex]},this.setMaxStackDepth=function(t){if(o.maxStackDepth=t,t>=0){var e=o.zoomStack.length-1-t;if(e>0){this.zoom(-e);for(var i=o.zoomStack.length-1;i>o.zoomRectIndex;i--)o.zoomStack.pop()}}},this.maxStackDepth=function(){return o.maxStackDepth},this.zoomStack=function(){return o.zoomStack},this.setZoomStack=function(t,e=-1){if(0!=this.zoomStack.length&&!(o.maxStackDepth>=0&&this.zoomStack.length>o.maxStackDepth)){(e<0||e>this.zoomStack.length)&&(e=t.length-1);var i=this.zoomStack[e]!=this.zoomRect();o.zoomStack=t,o.zoomRectIndex=e,i&&(this.rescale(),Static.trigger("zoomed",this.zoomRect()))}},this.zoomRectIndex=function(){return o.zoomRectIndex},this.moveBy=function(t,e){var i=o.zoomStack[o.zoomRectIndex];moveTo(new Misc.Point(i.left()+t,i.top()+e))},this.moveTo=function(t){var e=t.x,i=t.y;e<this.zoomBase().left()&&(e=this.zoomBase().left()),e>this.zoomBase().right()-this.zoomRect().width()&&(e=this.zoomBase().right()-this.zoomRect().width()),i<this.zoomBase().top()&&(i=this.zoomBase().top()),i>this.zoomBase().bottom()-this.zoomRect().height()&&(i=this.zoomBase().bottom()-this.zoomRect().height()),e==this.zoomRect().left()&&i==this.zoomRect().top()||(o.zoomStack[o.zoomRectIndex].moveTo(e,i),this.rescale())},this.zoom=function(t){if("number"==typeof t){var e=t;if(0==e)o.zoomRectIndex=0;else{var i=o.zoomRectIndex+e;i=Math.max(0,i),i=Math.min(o.zoomStack.length-1,i),o.zoomRectIndex=i}this.rescale(),Static.trigger("zoomed",this.zoomRect())}else{if(o.maxStackDepth>=0&&o.zoomRectIndex>=o.maxStackDepth)return;var n=t.normalized();if(!n.isEqual(o.zoomStack[o.zoomRectIndex])){for(var a=o.zoomStack.length-1;a>o.zoomRectIndex;a--)o.zoomStack.pop();o.zoomStack.push(n),o.zoomRectIndex++,this.rescale(),Static.trigger("zoomed",n)}}},this.rescale=function(){var t=this.plot();if(t){var e=o.zoomStack[o.zoomRectIndex];if(!e.isEqual(this.scaleRect())){var i=t.autoReplot();t.setAutoReplot(!1);var n=e.left(),a=e.right();if(!t.axisScaleDiv(this.xAxis()).isIncreasing()){a=n=a}t.setAxisScale(this.xAxis(),n,a);var s=e.top(),r=e.bottom();if(!t.axisScaleDiv(this.yAxis()).isIncreasing()){r=s=r}t.setAxisScale(this.yAxis(),s,r),t.setAutoReplot(i),t.replot()}}},this.minZoomSize=function(){return new Misc.Size(o.zoomStack[0].width()/1e5,o.zoomStack[0].height()/1e5)},this.accept=function(t){if(t.length<2)return!1;var e=new Misc.Rect(t[0],t[t.length-1]);if((e=e.normalized()).width()<2&&e.height()<2)return!1;var i=e.center();return e.setSize(e.size().expandedTo(new Misc.Size(11,11))),e.moveCenter(i),t.resize(2),t[0]=e.topLeft(),t[1]=e.bottomRight(),!0},i&&this.init(n)}widgetKeyPressEvent(t){this.isActive()||(this.keyMatch(KeyUndo,t)?this.zoom(-1):this.keyMatch(KeyRedo,t)?this.zoom(1):this.keyMatch(KeyHome,t)&&this.zoom(0)),super.widgetKeyPressEvent(t)}widgetMouseReleaseEvent(t){this.mouseMatch(MouseSelect2,t)||(this.mouseMatch(MouseSelect3,t)?this.zoom(-1):this.mouseMatch(MouseSelect6,t)?this.zoom(1):super.widgetMouseReleaseEvent(t))}end(t=!0){if(!(t=super.end(t)))return!1;if(!this.plot())return!1;var e=this.selection();if(e.length<2)return!1;var i=new Misc.Rect(e[0],e[e.length-1]);i=i.normalized();var n=this.invTransform(i).normalized();if(this.minZoomSize().isValid()){var o=n.center();n.setSize(n.size().expandedTo(this.minZoomSize())),n.moveCenter(o)}return this.zoom(n),!0}begin(){var t=this.getZoomerData();if(!(t.maxStackDepth>=0&&t.zoomRectIndex>=t.maxStackDepth)){var e=this.minZoomSize();if(e.isValid()){var i=new Misc.Size(.9999*t.zoomStack[t.zoomRectIndex].width(),.9999*t.zoomStack[t.zoomRectIndex].height());if(e.width>=i.width&&e.height>=i.height)return}super.begin()}}setAxis(t,e){t==super.xAxis()&&e==super.yAxis()||(super.setAxis(t,e),void 0!==this.setZoomBase&&this.setZoomBase(this.scaleRect()))}}define("qwtplotzoomer",["qwtplotpicker"],function(){}),Static.mVerifyRange=function(t,e,i){if(t<1)return 0;if((e=Math.max(0,Math.min(e,t-1)))>(i=Math.max(0,Math.min(i,t-1)))){var n=e;e=i,i=n}return i-e+1};var LegendNoAttribute=0,LegendShowLine=1,LegendShowSymbol=2,LegendShowBrush=4;function updateLegendIconSize(t){var e=t.getLegendIconSize();if(t.symbol()&&(e=t.symbol().boundingRect().size()),t.symbol()&&t.testLegendAttribute(LegendShowSymbol)){if(t.testLegendAttribute(LegendShowLine)){var i=Math.ceil(1.5*e.width);i%2&&i++,e.width=Math.max(40,i)}t.setLegendIconSize(e)}else t.testLegendAttribute(LegendShowLine)&&(e.width=40,t.setLegendIconSize(e))}function Curve(t){PlotSeriesItem.call(this,t);var e=Lines,i=0,n=0,o=FilterPoints,a=LegendNoAttribute,s=new Misc.Brush,r=new Misc.Pen,l=null,c=null;function u(t){return t*t}this.rtti=Static.Rtti_PlotCurve,this.setItemInterest(ScaleInterest,!0),this.minXValue=function(){return this.boundingRect().left()},this.maxXValue=function(){return this.boundingRect().right()},this.minYValue=function(){return this.boundingRect().top()},this.maxYValue=function(){return this.boundingRect().bottom()},this.setLegendAttribute=function(t,e){e!=this.testLegendAttribute(t)&&(e?a|=t:a&=~t,updateLegendIconSize(this),this.plot()&&this.plot().updateLegend(this))},this.testLegendAttribute=function(t){return a&t},this.legendAttributes=function(){return a},this.setSymbol=function(t){t!==c&&(c=t,updateLegendIconSize(this),this.legendChanged(),this.itemChanged())},this.symbol=function(){return c},this.setBrush=function(t){"string"==typeof t&&(t=new Misc.Brush(t)),s=t,this.legendChanged(),this.itemChanged()},this.brush=function(){return s},this.setPen=function(t){"object"==typeof t&&(r=t,this.legendChanged(),this.itemChanged())},this.pen=function(){return r},this.setPaintAttribute=function(t,e){e?o|=t:o&=~t},this.testPaintAttribute=function(t){return o&t},this.setSamples=function(t){this.setData(new PointSeriesData(t))},this.setCurveAttribute=function(t,e){void 0===e&&(e=!0),(i&t)!=e&&(e?i|=t:i&=~t,this.itemChanged())},this.testCurveAttribute=function(t){return i&t},this.init=function(){this.setItemAttribute(Legend,!0),this.setItemAttribute(AutoScale,!0),this.setData(new PointSeriesData),this.setCurveAttribute(Fitted,!0),this.setZ(20)},this.setStyle=function(t){t!=e&&(e=t,this.legendChanged(),this.itemChanged())},this.style=function(){return e},this.drawSeries=function(t,i,n,o){var a=this.getContext(),l=new PaintUtil.Painter(a),u=this.dataSize();u<=0||(o<0&&(o=u-1),Static.mVerifyRange(u,n,o)>0&&(l.save(),l.setPen(r),l.setBrush(s),this.drawCurve(l,e,t,i,n,o),l.restore(),c&&c.style()!==NoSymbol&&(l.save(),l.setPen(c.pen()),l.setBrush(c.brush()),this.drawSymbols(a,c,t,i,n,o),l.restore())),l=null)},this.drawSymbols=function(t,e,i,n,o,a){var s=new PointMapper;s.setFlag(WeedOutPoints,this.testPaintAttribute(FilterPoints));for(var r=o;r<=a;r+=500){var l=Math.min(500,a-r+1),c=s.toPointsF(i,n,this.data(),r,r+l-1);c.length>0&&e.drawSymbols(t,c)}},this.setBaseline=function(t){n!=t&&(n=t,this.itemChanged())},this.baseline=function(){return n},this.drawCurve=function(t,e,i,n,o,a){switch(e){case Lines:this.testCurveAttribute(Fitted)&&(o=0,a=this.dataSize()-1),this.drawLines(t,i,n,o,a);break;case Sticks:this.drawSticks(t,i,n,o,a);break;case Steps:this.drawSteps(t,i,n,o,a);break;case Dots:this.drawDots(t,i,n,o,a)}},this.drawLines=function(t,e,n,o,a){if(!(o>a)){var r=i&Fitted&&l,c=s.color!==Static.NoBrush,u=(new PointMapper).toPolygonF(e,n,this.data(),o,a);r&&(u=l.fitCurve(u)),t.drawPolyline(u),c&&this.fillCurve(t,e,n,u)}},this.setCurveFitter=function(t){l=t,this.itemChanged()},this.curveFitter=function(){return l},this.closestPoint=function(t,e){let i=this.dataSize();if(null==this.plot()||i<=0)return-1;let n=this.data(),o=this.plot().canvasMap(this.xAxis()),a=this.plot().canvasMap(this.yAxis()),s=-1,r=1e10;for(var l=0;l<i;l++){let e=n.sample(l),i=o.transform(e.x)-t.x,c=a.transform(e.y)-t.y,h=u(i)+u(c);h<r&&(s=l,r=h)}return e&&(e.distance=Math.sqrt(r)),s},this.fillCurve=function(t,e,i,n){s.color!=Static.NoBrush&&(this.closePolyline(e,i,n),n.length<=2||(t.setPen(new Misc.Pen(s.color)),t.drawPolygon(n)))},this.closePolyline=function(t,e,i){if(!(i.length<2)){var o=n;if(this.orientation()==Vertical){e.transformation()&&(o=e.transformation().bounded(o));var a=e.transform(o);i.push(new Misc.Point(i[i.length-1].x,a)),i.push(new Misc.Point(i[0].x,a))}else{t.transformation()&&(o=t.transformation().bounded(o));var s=t.transform(o);i.push(new Misc.Point(s,i[i.length-1].y)),i.push(new Misc.Point(s,i[0].y))}}},this.drawSteps=function(t,e,n,o,a){for(var s=[],r=2*(a-o)+1,l=0;l<r;++l)s.push(new Misc.Point);var c=this.orientation()==Vertical;i&Inverted&&(c=!c);var u,h=this.data();for(l=o,u=0;l<=a;l++,u+=2){var d=h.sample(l),f=e.transform(d.x),v=n.transform(d.y);if(u>0){var p=s[u-2],m=s[u-1];c?(m.x=p.x,m.y=v):(m.x=f,m.y=p.y)}s[u].x=f,s[u].y=v}t.drawPolyline(s)},this.drawSticks=function(t,e,i,o,a){for(var s=e.transform(n),r=i.transform(n),l=this.orientation(),c=this.data(),u=o;u<=a;u++){var h=c.sample(u),d=e.transform(h.x),f=i.transform(h.y);l==Horizontal?t.drawLine(s,f,d,f):t.drawLine(d,r,d,f)}},this.drawDots=function(t,e,i,n,a){var s=new PointMapper;if(o&FilterPoints&&s.setFlag(WeedOutPoints,!0),o&MinimizeMemory)for(var r=this.data(),l=n;l<=a;l++){var c=r.sample(l),u=e.transform(c.x),h=i.transform(c.y);t.drawPoint(new Misc.Point(u,h))}else{var d=s.toPointsF(e,i,this.data(),n,a);t.drawPoints(d)}},this.init()}Curve.inheritsFrom(PlotSeriesItem),Curve.prototype.legendIcon=function(t,e){if(0===e.width&&0===e.height)return null;var i=new GraphicUtil.Graphic(null,e.width,e.height),n=new PaintUtil.Painter(i);if(0==this.legendAttributes()||this.legendAttributes()&LegendShowBrush){var o=this.brush();if(o.color==Static.NoBrush&&0==this.legendAttributes()&&(this.style()!=NoCurve?o=new Misc.Brush(this.pen().color):this.symbol()&&this.symbol().style()!=NoSymbol&&(o=new Misc.Brush(this.symbol().pen().color))),o.color!=Static.NoBrush){var a=new Misc.Rect(0,0,e.width,e.height);n.fillRect(a,o)}}if(this.legendAttributes()&LegendShowLine&&this.pen().color!=Static.NoPen){var s=this.pen();n.setPen(s);var r=.5*e.height;n.drawLine(0,r,e.width,r)}if(this.legendAttributes()&LegendShowSymbol&&this.symbol()){var l=e.height/2+1;this.symbol().style()==Ellipse&&(l-=1),n.setPen(this.symbol().pen()),this.symbol().drawGraphicSymbol(n,new Misc.Point(e.width/2,l),e)}return n=null,i},Curve.prototype.removePoint=function(t,e){void 0==e&&(e=!1);var i=this.data().samples();if(1!=i.length||e){for(var n=[],o=0;o<i.length;++o)i[o].isEqual(t)||n.push(i[o]);n.length!=i.length||e?(this.setSamples(n),this.itemChanged(),Static.trigger("pointRemoved",this)):Static.alert("The point selected for removal does not exist.")}else Static.alert("You cannot remove the only point in the curve. Remove the entire curve.")},Curve.prototype.toString=function(){return"[Curve]"},define("qwtplotcurve",["static","seriesData"],function(){});class CurveFitter{constructor(){this.fitCurve=function(t){throw'"fitCurve()" not reimplemented in subclass'}}}Static.FitMode={},Static.FitMode.Auto=0,Static.FitMode.Spline=1,Static.FitMode.ParametricSpline=2;class SplineCurveFitter extends CurveFitter{constructor(){super();var t=Static.FitMode.Auto,e=new Spline,i=250;this.setFitMode=function(t){},this.fitMode=function(){},this.setSpline=function(t){(e=t).reset()},this.spline=function(){return e},this.setSplineSize=function(t){i=Math.max(t,10)},this.splineSize=function(){return i},this.fitCurve=function(n){var o=n.length;if(o<=2)return n;var a=t;if(a==Static.FitMode.Auto){a=Static.FitMode.Spline;for(var s=n,r=1;r<o;r++)if(s[r].x<=s[r-1].x){a=Static.FitMode.ParametricSpline;break}}return a==Static.FitMode.ParametricSpline?function(t){var n,o=t.length,a=[],s=[],r=[],l=t,c=s,u=r,h=0;for(n=0;n<o;n++){var d=l[n].x,f=l[n].y;if(n>0){console.log(Math);var v=Math.sqrt(Static.sqr(d-c[n-1].y())+Static.sqr(f-u[n-1].y()));h+=Math.max(v,1)}c[n].x=h,c[n].y=d,u[n].x=h,u[n].y=f}if(e.setPoints(s),!e.isValid())return t;var p=s[o-1].x/(i-1);for(n=0;n<i;n++){var m=n*p;a[n].x=e.value(m)}if(e.setPoints(r),e.isValid())return t;var g=r[o-1].x/(i-1);for(n=0;n<i;n++)m=n*g,a[n].y=e.value(m);return a}(n):function(t){if(e.setPoints(t),!e.isValid())return t;for(var n=new Array(i),o=t[0].x,a=(t[t.length-1].x-o)/(i-1),s=0;s<i;s++){var r=o+s*a,l=e.value(r);n[s]=new Misc.Point(r,l)}return e.reset(),n}(n)}}}class WC_PrivateData{constructor(){this.tolerance=1,this.chunkSize=0}}class WC_Line{constructor(t=0,e=0){this.from=t,this.to=e}}class WeedingCurveFitter extends CurveFitter{constructor(t){var e;super(),this.simplify=function(t){var i=e.tolerance*e.tolerance,n=[],o=t,a=t.length,s=[];for(s.resize(a,!1),n.push(new WC_Line(0,a-1));n.length;){for(var r=n.pop(),l=o[r.to].x-o[r.from].x,c=o[r.to].y-o[r.from].y,u=Math.sqrt(l*l+c*c),h=0!=u?l/u:0,d=0!=u?c/u:0,f=0,v=r.from+1,p=r.from+1;p<r.to;p++){var m,g=o[p].x-o[r.from].x,b=o[p].y-o[r.from].y;if(g*h+b*d<0)m=g*g+b*b;else{var S=o[p].x-o[r.to].x,y=o[p].y-o[r.to].y,x=S*S+y*y,w=S*-h+y*-d;m=w<0?x:Math.abs(x-w*w)}f<m&&(f=m,v=p)}f<=i?(s[r.from]=!0,s[r.to]=!0):(n.push(new WC_Line(r.from,v)),n.push(new WC_Line(v,r.to)))}var M=[];for(p=0;p<a;p++)s[p]&&M.push(o[p]);return M},this.setTolerance=function(t){e.tolerance=Math.max(t,0)},this.tolerance=function(){return e.tolerance},this.setChunkSize=function(t){t>0&&(t=Math.max(t,3)),e.chunkSize=t},this.chunkSize=function(){return e.chunkSize},this.fitCurve=function(t){var i=[];if(0==e.chunkSize)i=this.simplify(t);else for(var n=0;n<t.length;n+=e.chunkSize){var o=t.mid(n,e.chunkSize);i=i.concat(this.simplify(o))}return i},e=new WC_PrivateData,this.setTolerance(t)}}function Spline(){var t=null,e=[],i=[],n=[],o=Static.SplineType.Natural;this.setSplineType=function(t){o=t},this.splineType=function(){return o},this.setPoints=function(a){var s,r=a.length;return r<=2?(this.reset(),!1):(t=a,e.resize(r-1),i.resize(r-1),n.resize(r-1),(s=o==Static.SplineType.Periodic?this.buildPeriodicSpline(a):this.buildNaturalSpline(a))||this.reset(),s)},this.points=function(){return t},this.reset=function(){e.resize(0),i.resize(0),n.resize(0),t.resize(0)},this.isValid=function(){return e.length>0},this.value=function(o){if(0==e.length)return 0;var a=Static.lookup(o,t),s=o-t[a].x;return((e[a]*s+i[a])*s+n[a])*s+t[a].y},this.coefficientsA=function(){return e},this.coefficientsB=function(){return i},this.coefficientsC=function(){return n},this.buildNaturalSpline=function(t){var o,a=t,s=t.length,r=e,l=i,c=n,u=new Array(s-1);for(o=0;o<s-1;o++)if(u[o]=a[o+1].x-a[o].x,u[o]<=0)return!1;var h=new Array(s-1),d=(a[1].y-a[0].y)/u[0];for(o=1;o<s-1;o++){l[o]=c[o]=u[o],r[o]=2*(u[o-1]+u[o]);var f=(a[o+1].y-a[o].y)/u[o];h[o]=6*(d-f),d=f}for(o=1;o<s-2;o++)c[o]/=r[o],r[o+1]-=l[o]*c[o];var v=new Array(s);for(v[1]=h[1],o=2;o<s-1;o++)v[o]=h[o]-c[o-1]*v[o-1];for(v[s-2]=-v[s-2]/r[s-2],o=s-3;o>0;o--)v[o]=-(v[o]+l[o]*v[o+1])/r[o];for(v[s-1]=v[0]=0,o=0;o<s-1;o++)r[o]=(v[o+1]-v[o])/(6*u[o]),l[o]=.5*v[o],c[o]=(a[o+1].y-a[o].y)/u[o]-(v[o+1]+2*v[o])*u[o]/6;return!0},this.buildPeriodicSpline=function(t){var o,a=t,s=t.length,r=e,l=i,c=n,u=new Array(s-1),h=new Array(s-1),d=new Array(s);for(o=0;o<s-1;o++)if(h[o]=a[o+1].x-a[o].x,h[o]<=0)return!1;var f=s-2,v=h[f],p=(a[0].y-a[f].y)/v;for(o=0;o<=f;o++){l[o]=c[o]=h[o],r[o]=2*(v+h[o]);var m=(a[o+1].y-a[o].y)/h[o];u[o]=6*(p-m),p=m,v=h[o]}r[0]=Math.sqrt(r[0]),c[0]=h[f]/r[0];var g=0;for(o=0;o<f-1;o++)l[o]/=r[o],o>0&&(c[o]=-c[o-1]*l[o-1]/r[o]),r[o+1]=Math.sqrt(r[o+1]-Static.sqr(l[o])),g+=Static.sqr(c[o]);for(l[f-1]=(l[f-1]-c[f-2]*l[f-2])/r[f-1],r[f]=Math.sqrt(r[f]-Static.sqr(l[f-1])-g),d[0]=u[0]/r[0],g=0,o=1;o<f;o++)d[o]=(u[o]-l[o-1]*d[o-1])/r[o],g+=c[o-1]*d[o-1];for(d[f]=(u[f]-l[f-1]*d[f-1]-g)/r[f],d[f]=-d[f]/r[f],d[f-1]=-(d[f-1]+l[f-1]*d[f])/r[f-1],o=f-2;o>=0;o--)d[o]=-(d[o]+l[o]*d[o+1]+c[o]*d[f])/r[o];for(d[s-1]=d[0],o=0;o<s-1;o++)r[o]=(d[o+1]-d[o])/(6*h[o]),l[o]=.5*d[o],c[o]=(a[o+1].y-a[o].y)/h[o]-(d[o+1]+2*d[o])*h[o]/6;return!0}}define("jQwtCurveFitter",["static"],function(){}),Static.SplineType={},Static.SplineType.Natural=0,Static.SplineType.Periodic=1,Static.lookup=function(t,e){var i,n=e.length;if(t<=e[0].x)i=0;else if(t>=e[n-2].x)i=n-2;else{i=0;for(var o=n-2,a=0;o-i>1;)e[a=i+(o-i>>1)].x>t?o=a:i=a}return i},define("jQwtSpline",["static"],function(){});class Panner extends HObject{constructor(t){super();var e=this,i=null,n=Static.LeftButton,o=Static.NoModifier,a=(Static.Key_Escape,Static.NoModifier,0),s=0,r=!1,l=!1,c="",u="",h=!1,d=Vertical|Horizontal,f=0,v=0;void 0!==t&&(t.panner=this,i=t),this.plot=function(){return i},this.setMouseButton=function(t,e){n=t,o=e},this.getMouseButton=function(){return{button:n,modifiers:o}},this.setOrientation=function(t){d=t},this.rescaleAndRedraw=function(t,n){for(var o=e.plot().plotItemStore(),a=0;a<o.length;++a){var s=o[a].getCanvas();s.css("left",0),s.css("top",0)}var r=!1,l=i.autoReplot();i.setAutoReplot(!1);for(var c=0;c<axisCnt;c++){var u,h,d=e.plot().canvasMap(c),f=d.transform(e.plot().axisScaleDiv(c).lowerBound()),v=d.transform(e.plot().axisScaleDiv(c).upperBound());c==xBottom||c==xTop?(u=d.invTransform(f-t),h=d.invTransform(v-t)):(u=d.invTransform(f-n),h=d.invTransform(v-n)),i.setAxisScale(c,u,h),r=!0}i.setAutoReplot(l),r&&i.replot()},this.showCursor=function(t){t!=h&&null!=this.plot()&&""!=c&&(h=t,t?(this.plot().isCursorSet()&&(u=this.plot().cursor()),this.plot().setCursor(c)):""!==u?(this.plot().setCursor(u),u=""):this.plot().unsetCursor())},this.setCursor=function(t){c=t},this.cursor=function(){return""!=c?c:null!=this.plot()?this.plot().cursor():""},this.plot()&&this.setEnabled_1(!0),this.setEnabled=function(e){if(r!=e){r=e;var i=t.getCentralWidget();i&&(e?i.installEventFilter(this):i.removeEventFilter(this))}},this.isEnabled=function(t){return r},this.widgetMousePressEvent=function(t){return!Static.isMobile()&&t.button!=n||(Static.isMobile()?(a=t.originalEvent.touches[0].clientX,s=t.originalEvent.touches[0].clientY,l=!0):(a=t.clientX,s=t.clientY,l=!0),this.showCursor(!0),!0)},this.widgetMouseUpEvent=function(t){l&&(l=!1,e.showCursor(!1),0==f&&0==v||(e.rescaleAndRedraw(f,v),f=0,v=0))},this.widgetMouseMoveEvent=function(t){if(l){if(Static.isMobile()){var i=t.originalEvent.changedTouches[0];f=parseInt(i.clientX)-a,v=parseInt(i.clientY)-s}else f=t.clientX-a,v=t.clientY-s;d==Vertical&&(f=0),d==Horizontal&&(v=0),function(){for(var t=e.plot().plotItemStore(),i=0;i<t.length;++i){var n=t[i].getCanvas();n.css("left",f),n.css("top",v)}}()}},Static.trigger("pannerAdded",this),this.setEnabled(!0)}eventFilter(t,e){if(this.isEnabled()){switch(e.type){case"mousedown":case"touchstart":this.widgetMousePressEvent(e);break;case"mousemove":case"touchmove":this.widgetMouseMoveEvent(e);break;case"mouseleave":this.widgetMouseUpEvent(e);break;case"mouseup":case"touchend":this.widgetMouseUpEvent(e)}}}}Panner.prototype.toString=function(){return"[Panner]"},define("jQwtPanner",["static"],function(){});class MyOverlay extends WidgetOverlay{constructor(t,e){super(t);this.eventObject=e,this.curve=null,this.toString=function(){return"[MyOverlay]"}}drawOverlay(t){let e=this.curve.plot().canvasMap(this.curve.xAxis()),i=this.curve.plot().canvasMap(this.curve.yAxis()),n=e.transform(this.eventObject.p.x),o=i.transform(this.eventObject.p.y);t.setBrush(new Misc.Brush("lightGrey")),t.drawCircle(n,o,8)}}class MyObject extends HObject{constructor(t,e){super();var i=this;this._plot=t,this._dmin=10,this._cb,this.selected=!1,void 0!==e&&(this._cb=e),this.selectorWidgetOverlay=new MyOverlay(t.getCentralWidget(),this),Static.bind("visibilityChange",function(t,e,n){i.selectorWidgetOverlay.curve===e&&(n||(i.selectorWidgetOverlay.clearCanvas(),this.selected=!1))}),this.toString=function(){return"[MyObject]"}}eventFilter(t,e){if(!Static.isMobile()){if("mousedown"==e.type&&this.selected&&(null==this._cb?alert("Curve: "+this.selectorWidgetOverlay.curve.title()+"; point: ("+this.p.x+", "+this.p.y+")"):this._cb(this.selectorWidgetOverlay.curve,this.p)),"mousemove"==e.type){let o=this._plot.itemList(Static.Rtti_PlotCurve);if(!o.length)return;i=t.mapToElement({x:e.clientX,y:e.clientY});let a={distance:-1},s=-1,r=-1,l=1e10,c=-1;for(n=0;n<o.length;++n)o[n].isVisible()&&(s=o[n].closestPoint(i,a),a.distance<l&&(l=a.distance,c=n,r=s));if(-1==r)return;this.p=o[c].data().samples()[r],this.selected||this.selectorWidgetOverlay.clearCanvas(),l<this._dmin?(this.selectorWidgetOverlay.curve=o[c],this.selected||(this.selectorWidgetOverlay.draw(),this.selected=!0)):this.selected=!1}return!0}if("touchstart"==e.type){let o=this._plot.itemList(Static.Rtti_PlotCurve);if(!o.length)return;var i=t.mapToElement({x:e.originalEvent.touches[0].clientX,y:e.originalEvent.touches[0].clientY});let a={distance:-1},s=-1,r=-1,l=1e10,c=-1;for(var n=0;n<o.length;++n)o[n].isVisible()&&(s=o[n].closestPoint(i,a),a.distance<l&&(l=a.distance,c=n,r=s));if(-1==r)return;this.p=o[c].data().samples()[r],l<this._dmin&&(null==this._cb?alert("Curve: "+o[c].title()+"; point: ("+this.p.x+", "+this.p.y+")"):this._cb(o[c],this.p))}}}class CurveClosestPoint{constructor(t,e){this.eventHandlingObject=new MyObject(t),this.cw=t.getCentralWidget(),this.cw.setEnabled_1(!0)}setDistance(t){this.eventHandlingObject._dmin=t}setEnabled(t){t?this.cw.installEventFilter(this.eventHandlingObject):(this.cw.removeEventFilter(this.eventHandlingObject),this.eventHandlingObject.selectorWidgetOverlay.clearCanvas())}setCb(t){this.eventHandlingObject._cb=t}}function PlotShapeItem(){PlotItem.call(this,"Shape");var t=PlotItem.prototype.boundingRect.call(this),e=new Misc.Pen("black",1,Static.NoPen),i=new Misc.Brush("darkGray"),n=new Misc.MPath;this.setItemAttribute(AutoScale,!0),this.setItemAttribute(Legend,!1),this.setZ(8),this.rtti=Static.Rtti_PlotShape,this.getBoundingRect=function(){return t},this.setRect=function(t){var e=new Misc.MPath;e.addRect(t),this.setShape(e)},this.setPolygon=function(t){var e=new Misc.MPath;e.addPolygon(t),this.setShape(e)},this.setShape=function(e){n=e,t=e.isEmpty()?PlotItem.prototype.boundingRect.call(this):n.boundingRect()},this.setBrush=function(t){i=t,this.itemChanged()},this.brush=function(){return i},this.setPen=function(t){e=t,this.itemChanged()},this.pen=function(){return e},this.draw=function(o,a){if(this.clearCanvas(),!n.isEmpty()&&(e.style!=Static.NoPen||i!=Static.NoBrush)){var s=this.getCanvasRect(),r=Static.mInvTransform(o,a,s);if(t.intersects(r)){var l=this.getContext(),c=Static.mTransformPath(o,a,n,!1),u=new PaintUtil.Painter(l);u.setBrush(i),u.setPen(e),u.drawPath(c),u=null}}}}define("curveClosestPoint",["static","widgetOverlay"],function(){}),PlotShapeItem.inheritsFrom(PlotItem),PlotShapeItem.prototype.boundingRect=function(){return this.getBoundingRect()},PlotShapeItem.prototype.toString=function(){return"[PlotShapeItem]"},define("jQwtPlotShapeItem",["static","plotItem"],function(){});class CurveShapeItem extends PlotShapeItem{constructor(){super();var t=null,e=null,i=void 0,n=void 0,o=!0,a=this;this.setEnabled=function(e){(o=e)&&t&&t.isVisible()?(this.setVisible(!0),this.refresh()):this.setVisible(!1)},this.enabled=function(t){return o},this.setCurve=function(e){e&&t==e||(t=e,this.setLimits(),o&&t&&t.isVisible()&&(this.setVisible(!0),this.refresh()))},this.curve=function(){return t},this.refresh=function(){e=this.isVisible()&&t?function(){var e=t.data().samples();if(i<e[0].x||n>e[e.length-1].x||i>=n)return null;void 0==i&&(i=e[0].x),void 0==n&&(n=e[e.length-1].x);for(var o,a,s=-1,r=-1,l=[],c=1;c<e.length;c++)e[c].x>i&&-1==s&&(s=c-1,l.push(e[s])),e[c-1].x<n&&(r=c,-1!=s&&l.push(e[r]));return o=e[s].interpolatedPoint(e[s+1],i),a=e[r-1].interpolatedPoint(e[r],n),l.length&&l[0].x!==o.x&&l.splice(0,1,o),l.length&&l[l.length-1].x!==a.x&&(l.pop(),l.push(a)),l.splice(0,0,new Misc.Point(l[0].x,Number.MIN_VALUE)),l.push(new Misc.Point(l[l.length-1].x,Number.MIN_VALUE)),l}():null,this.setPolygon(e),t&&e&&t.plot().autoRefresh()},this.setLimits=function(t,e){i=t,n=e,this.refresh()},this.setLowerLimit=function(t){i=t,this.refresh()},this.setUpperLimit=function(t){n=t,this.refresh()},Static.bind("visibilityChange",function(t,e,i){e.rtti==Static.Rtti_PlotCurve&&(a._curve&&e==a._curve&&o&&i?a.setVisible(!0):e==a._curve&&a.setVisible(!1),a.setLimits())})}}define("curveShapeItem",["jQwtPlotShapeItem"],function(){}),define("app/examples/qwtTest",["curveLegendAttributeDlg","settings","curveSettings","functionDlg","curveFitDlg","curveStyleDlg","axisDlg","pointEntryDlg","toolBar","upload","jqwtfile","watch","basicWatch","legendMenu","rulers","sideBar","jQwtPlot","jQwtPointData","jQwtSymbol","jQwtLegend","jQwtMagnifier","jQwtPlotGrid","widgetOverlay","qwtplotzoomer","qwtplotcurve","jQwtCurveFitter","jQwtSpline","jQwtPanner","contextMenu","jQwtPlotMarker","curveClosestPoint","curveShapeItem","underscore","widgetOverlay"],function(){!!window.chrome&&!!window.chrome.webstore||Static.alert('This application is design to run in "chrome browser". While it may run in other browsers, some features may not behave as expected.',"small");var t=new Plot($("#plotDiv"),"Plot");t.setFooter("Footer");var e=new PlotGrid,i=!1,n=new CurveShapeItem;function o(t,e){t&&("v_ruler1"!=t.title()&&"v_ruler2"!=t.title()||("v_ruler1"==t.title()?n.setLowerLimit(e):n.setUpperLimit(e)))}n.attach(t),e.attach(t),Static.bind("currentCurveChanged",function(t,e){e&&n.setCurve(e)}),Static.bind("curveShapeColorChanged",function(t,e){var i=n.brush();i.color=e,n.setBrush(i);var o=n.pen();o.color=e,n.setPen(o)}),Static.bind("positionChanging",function(t,e,i){o(e,i)});var a=null;function s(t){Utility.minorGridLines(e,t)}Static.bind("positionChanged",function(t,e,i){o(e,i)}),Static.bind("watchEnabled",function(t,e,i){g.shadeWatchArea&&"Area below curve"==e.name()&&n.setEnabled(i)}),Static.bind("shadeWatchArea",function(t,e){!e&&a.isEnable()?n.setEnabled(!1):e&&a.isEnable()&&n.setEnabled(!0)}),s(!0),Static.bind("itemChanged",function(t,e,i){e.rtti==Static.Rtti_PlotGrid&&(i?d.showDropdownItem("View",5):d.hideDropdownItem("View",5))});var r=new MLegend;t.insertLegend(r),t.enableLegend(!0);var l=new Magnifier(t),c=new Panner(t);c.setCursor("move"),c.setEnabled(!1);var u=new PlotZoomer(t);function h(){var e=$("input[name=optradio]").filter(":checked").val();"Zoom"==e&&(c.setEnabled(!1),u.setEnabled(!0),u.setZoomBase(u.scaleRect())),"Pan"==e&&(c.setEnabled(!0),u.setEnabled(!1)),"Auto"==e&&(c.setEnabled(!1),u.setEnabled(!1),Utility.setAutoScale(t,!0))}u.setEnabled(!1),t.setAxisTitle(xBottom,"Bottom scale"),t.setAxisTitle(xTop,"Top scale"),t.setAxisTitle(yLeft,"Left scale"),t.setAxisTitle(yRight,"Right scale"),t.replot(),t.setAutoReplot(!0),Static.bind("rescaled",function(){d.setButtonCheck("Auto",!1)});var d=new MToolBar({zIndex:1003});function f(t){t.coeffs=L.coeffs,t.variable=L.variable,t.coeffsVal=function(){for(var t=[],e=L.coeffs||[],i=0;i<e.length;++i)t.push(1);return t}(),t.fn=L.fn,t.unboundedRange=L.unboundedRange,t.lowerX=parseFloat(L.lowerLimit),t.upperX=parseFloat(L.upperLimit),t.numOfSamples=L.numOfPoints}var v=t.getLayout().getCentralDiv();function p(e,i,n){if(!i||0==i.length)return!1;if(t.findPlotCurve(e))return Static.alert(e+" already exist"),!1;var o=new Curve(e);n||f(o),o.setSamples(i),o.setPen(new Misc.Pen(Utility.randomColor())),k.defaultIconSize=new Misc.Size(o.getLegendIconSize());var a="";return Static.showline&&Static.showsymbol?a="lineAndSymbol":Static.showline?a="line":Static.showsymbol&&(a="symbol"),Utility.setLegendAttribute(o,a,o.getLegendIconSize()),o.attach(t),R.setCurrentCurve(o),T.initSidebar(),!0}Static.bind("addCurve",function(t,e,i,n){p(e,i,n)});var m=new MFile,g=new MSettings,b=new MCurveSettings,S=[m.save,b.curveSettingsDlg,g.settingsDlg,function(){L.functionDlg()},function(){C.pointEntryCb(t)},function(){x&&!x.closed||(x=window.open("https://www.tcsion.com/OnlineAssessment/ScientificCalculator/Calculator.html#nogo","_blank","width=480,height=345, top=200, left=200"));x.focus()},Static.printFn];d.addToolButton("dropdown",{text:"File",cb:function(t,e){S[e]()},listElements:[{text:"Save",icon:"images/save.png",tooltip:"Save the current graph."},{text:"Curve settings",icon:"images/curveSettings.png",tooltip:"Launches the curve settings dialog."},{text:"Plot settings",icon:"images/settings.png",tooltip:"Launches the plot settings dialog."},{text:"Function",icon:"images/function.png",tooltip:"Launches the function dialog."},{text:"Point entry",icon:"images/pointEntry.png",tooltip:"Launches the point entry dialog."},{text:"Calculator",icon:"images/calculator.png",tooltip:"Launches the calculator."},{text:"Print",icon:"images/print.png",tooltip:"Print the current graph."}]}),d.addToolButton("upload",{innerHtmlId:"fileInput",class:"btn btn-primary",tooltip:"Upload data files"}),m.setInputElement($("#fileInput")),d.addToolButton("radio",{label:"Zoom",tooltip:"Enable zooming. Press the mouse left button and drag.",cb:h}),d.addToolButton("radio",{label:"Pan",tooltip:"Allow dragging of all plot items to new positions. Press the mouse left button and drag.",cb:h}),d.addToolButton("radio",{label:"Auto",tooltip:"Determine and and apply the scale that\nallows the extent of all curves to be shown.",cb:h});var y=[function(e){t.curveClosestPoint.setEnabled(e)},function(e){t.enableAxis(yLeft,e)},function(e){t.enableAxis(xBottom,e)},function(e){t.enableAxis(yRight,e)},function(e){t.enableAxis(xTop,e)},function(t){Utility.majorGridLines(e,t)},s,function(e){e?t.showTitle():t.hideTitle()},function(e){e?t.showFooter():t.hideFooter()},function(e){t.enableLegend(e)},function(e){t.itemList(Static.Rtti_PlotCurve).length&&(T.showSidebar(e),R.updateWatchesAndTable())}];d.addToolButton("dropdown",{text:"View",hasCheckbox:!0,cb:function(t,e,i){y[e](i)},listElements:[{text:"Point selection",icon:"images/pointSelection.png",tooltip:"Turn on point selection. This may affect response."},{text:"Left axis",icon:"images/axis.png",tooltip:"Enable left axis",checkboxState:"checked"},{text:"Bottom axis",icon:"images/axis.png",tooltip:"Enable bottom axis",checkboxState:"checked"},{text:"Right axis",icon:"images/axis.png",tooltip:"Enable right axis"},{text:"Top axis",icon:"images/axis.png",tooltip:"Enable top axis"},{text:"Major gridlines",icon:"images/major_grid.png",tooltip:"Enable major gridlines",checkboxState:"checked"},{text:"Minor gridlines",icon:"images/minor_grid.png",tooltip:"Enable minor gridlines",checkboxState:"checked"},{text:"Title",icon:"images/title.png",tooltip:"Enable title",checkboxState:"checked"},{text:"Footer",icon:"images/footer.png",tooltip:"Enable footor",checkboxState:"checked"},{text:"Legend",icon:"images/legend.png",tooltip:"Enable the legend (at least one curve should be present)",checkboxState:"checked"},{text:"Sidebar",icon:"images/side_bar.png",tooltip:"Display the sidebar"}]}),d.addToolButton("pushbutton",{text:"+",icon:"images/zoom_in.png",repeat:!0,tooltip:"Zoom in.",cb:function(e){for(var i=0;i<axisCnt;i++){t.axisScaleDiv(i).range()>1e-9&&l.rescale(.995)}}}),d.addToolButton("pushbutton",{text:"-",icon:"images/zoom_out.png",repeat:!0,tooltip:"Zoom out",cb:function(t){l.rescale(1/.98)}}),""==t.title()&&d.hideDropdownItem("View",6),Static.bind("titleAdded",function(t,e){e?d.showDropdownItem("View",6):d.hideDropdownItem("View",6)}),""==t.footer()&&d.hideDropdownItem("View",7),Static.bind("footerAdded",function(t,e){e?d.showDropdownItem("View",7):d.hideDropdownItem("View",7)}),d.hideDropdownItem("View",10),Static.bind("itemAttached",function(e,i,o){i.rtti==Static.Rtti_PlotCurve&&(o?(d.showDropdownItem("View",10),n.curve()):t.itemList(Static.Rtti_PlotCurve).length||(d.setDropdownItemCheck("View",10,!1),d.hideDropdownItem("View",10),T.showSidebar(!1),n.setCurve(null)),T.initSidebar())}),Static.bind("visibilityChange",function(e,n,o){n.rtti==Static.Rtti_PlotCurve&&(T.initSidebar(),t.hasVisiblePlotCurve()?(d.showDropdownItem("View",10),i&&(d.setDropdownItemCheck("View",10,!0),T.showSidebar(!0),Static.trigger("positionChanged"),i=!1),a.setEnable(d.isDropdownItemChecked("Watch",6))):(t.isSidebarVisible()&&(Static.alert("Ooops!! No visible curves to watch."),T.showSidebar(!1),i=!0),d.setDropdownItemCheck("View",10,!1),d.hideDropdownItem("View",10),a.setEnable(!1)))}),d.setButtonCheck("Auto",!0),Static.bind("axisChanged",function(t,e,i){R.adjustToCurve(i)}),Static.bind("pointAdded pointRemoved",function(t,e){R.doSetCurrentCurve(e)});var x,w=new MCurveFitDlg,M=new MCurveStyleDlg,_=new MAxisDlg,k=new MCurveLegendAttributeDlg;function P(t,e){SyntheticPointData.call(this,e);var i=t,n=new EvaluateExp(i);this.setFn=function(t){i=t,n.setExpString(i)},this.y=function(t){return n.error?0:n.eval({x:t})}}LegendMenu.plot=t,LegendMenu.curveFitCb=w.curveFitCb,LegendMenu.curveFitInfoCb=w.curveFitInfoCb,LegendMenu.curveStyleCb=M.curveStyleCb,LegendMenu.axisCb=_.axisCb,LegendMenu.curveAttributeCb=k.curveAttributeCb,LegendMenu.initialize(),b.init(t,w.curveFitCb,w.curveFitInfoCb,k.curveAttributeCb,M.curveStyleCb,_.axisCb),m.init(t),g.setPlot(t),P.inheritsFrom(SyntheticPointData);var L=new MFunctionDlg;L.init(function(){var e=L.title,i=L.fn,n=(L.lowerLimit,L.upperLimit,L.numOfPoints),o=L.coeffs;if(L.coeffs.length)for(var a=0;a<o.length;++a)for(;-1!=i.indexOf(o[a]);)i=i.replace(o[a],1);L.unboundedRange?function(e,i,n){if(t.findPlotCurve(e))return Static.alert(e+" already exist"),!1;t.setAxisScale(xBottom,1,10),t.setAxisScale(yLeft,1,10);var o=new Curve(e);return f(o),o.setData(new P(i,n)),o.setPen(new Misc.Pen(Utility.randomColor())),k.defaultIconSize=new Misc.Size(o.getLegendIconSize()),Static.showline&&o.setLegendAttribute(LegendShowLine,!0),Static.showsymbol&&o.setLegendAttribute(LegendShowSymbol,!0),o.attach(t),Utility.setAutoScale(t,!0),!0}(e,i,n)&&L.close():p(e,makeSamples({fx:i,lowerX:parseFloat(L.lowerLimit),upperX:parseFloat(L.upperLimit),numOfSamples:L.numOfPoints,ok_fn:L.ok}))&&L.close()});var C=new MPointEntryDlg;var T=new SideBar(t,d,makeSamples),A=[{name:"Hide rulers",img:"images/hide.png",title:"Hide all rulers",fun:function(){R.setVisible(!1)}},{name:"Show rulers",img:"images/show.png",title:"Show any hidden rulers",fun:function(){R.setVisible(!0)}},{name:"Unlock rulers",img:"images/unlock.png",title:"Unlock any locked rulers",fun:function(){R.unlockAllRulers()}},{name:"Remove all curves",title:"Permanently remove all curves",img:"images/scissors.png",fun:function(){t.itemList(Static.Rtti_PlotCurve).forEach(function(t){t.detach()})}}];Static.bind("rulerSelected",function(){v.contextMenu(A,{triggerOn:"contextmenu",zIndex:1})});var R=new Rulers(t);T.setRulers(R);var D=[{name:"hide...",img:"images/hide.png",title:"hide the ruler.",fun:function(){R.currentRuler.setVisible(!1),R.currentRuler._picker.clearDragCursor(),R.hasVisibleRuler()}},{name:"lock...",img:"images/lock.png",title:"lock the ruler in its current position.",fun:function(){R.currentRuler.setLock(!0),R.hasLockedRuler()}},{name:"lock at...",img:"images/lockAt.png",title:"lock the ruler at a specific position.",fun:function(){var t=0;t=R.currentRuler instanceof RulerH?R.currentRuler.yValue():R.currentRuler.xValue(),Static.prompt("Enter a position",t,function(t){return R.currentRuler.setLockAt(parseFloat(t)),!0},"small")}}];Static.bind("rulerDeselected",function(){v.contextMenu(A,{triggerOn:"contextmenu",zIndex:1})}),Static.trigger("rulerDeselected"),R.setMenu(D);var E=[];function B(t,e,i){R.addToWatchList(t),E.push(e),i&&t.setEnable(!1)}a=new WatchAreaBelowCurve,B(new WatchCurveName,{text:"Curve name",tooltip:"Name of the curve that is the subject of watches.",checkboxState:"checked"}),B(new WatchLeftRulerPosition(R),{text:"Left ruler position",tooltip:"Current position of the left ruler.",checkboxState:"checked"}),B(new WatchRightRulerPosition(R),{text:"Right ruler position",tooltip:"Current position of the right ruler.",checkboxState:"checked"}),B(new WatchBottomRulerPosition(R),{text:"Bottom ruler position",tooltip:"Current position of the bottom ruler."},!0),B(new WatchTopRulerPosition(R),{text:"Top ruler position",tooltip:"Current position of the top ruler."},!0),B(new WatchSlope,{text:"Slope at left ruler",tooltip:"Slope (gradient) in the curve at the point where the left ruler intersects the curve."},!0),B(a,{text:"Area below curve",tooltip:"Area bounded by the curve, right ruler, x-axis and left ruler."},!0),B(new WatchVolumeOfRevolution,{text:"Volume of revolution(X)",tooltip:"Volume generated by a 360 degrees rotation about the x-axis of the area bounded by the curve, right ruler, x-axis and left ruler."},!0),Static.bind("curveAdjusted",function(){R.updateWatchesAndTable()}),d.addToolButton("dropdown",{text:"Watch",tooltip:"Enable/disable watches.",hasCheckbox:!0,cb:function(t,e,i){R.watch(e).setEnable(i),R.updateWatchesAndTable()},listElements:E}),d.addToolButton("link",{text:"Help",cb:function(){},href:"help.html",target:"_blank",class:"noSelect",tooltip:"Launches online help."}),t.curveClosestPoint=new CurveClosestPoint(t)}),define("app/main",["require","static","utility","miscObjects","jPainter","scaleDiv","interval","scaleMap","hObject","widget","scaleWidget","plotItem","transform","layout","abstractScaleDraw","scaleDraw","scaleEngine","pointMapper","seriesData","./examples/qwtTest"],function(t){t("static"),t("utility"),t("miscObjects"),t("jPainter"),t("scaleDiv"),t("interval"),t("scaleMap"),t("hObject"),t("widget"),t("scaleWidget"),t("plotItem"),t("transform"),t("layout"),t("abstractScaleDraw"),t("scaleDraw"),t("scaleEngine"),t("pointMapper"),t("seriesData"),t("./examples/qwtTest")}),requirejs.config({baseUrl:"lib",paths:{app:"../app",underscore:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min"},shim:{static:{deps:["miscObjects"]},plotItem:{deps:["static"]},ruler:{deps:["static","jQwtPlotMarker"]},rulerVandH:{deps:["static","jQwtPlotMarker"]},mpicker:{deps:["static","qwtplotpicker"]},rulers:{deps:["static","mpicker","ruler"]},scaleMap:{deps:["static","transform"]},jQwtCanvas:{deps:["static"]},jQwtCurveFitter:{deps:["static"]},jQwtSpline:{deps:["static"]},jQwtSymbol:{deps:["static","jGraphic"]},seriesData:{deps:["static","plotItem"]},pointMapper:{deps:["static"]},jQwtPointData:{deps:["static","seriesData"]},scaleEngine:{deps:["static"]},scaleDraw:{deps:["static"]},widget:{deps:["static","hObject"]},widgetOverlay:{deps:["static","widget"]},scaleWidget:{deps:["static","widget"]},qwtpicker:{deps:["static","widgetOverlay","qwtpickermachine"]},qwtplotpicker:{deps:["static","qwtpicker"]},qwtplotzoomer:{deps:["qwtplotpicker"]},jQwtPlotGrid:{deps:["static","plotItem"]},jQwtPlotZoneItem:{deps:["static"]},jQwtPlotSpectroCurve:{deps:["static","jQwtColorMap","plotItem"]},jQwtColorMap:{deps:["static"]},qwtplotcurve:{deps:["static","seriesData"]},jQwtPlot:{deps:["static","widget","scaleWidget"]},jQwtPanner:{deps:["static"]},jQwtMagnifier:{deps:["static"]},jQwtPlotShapeItem:{deps:["static","plotItem"]},curveShapeItem:{deps:["jQwtPlotShapeItem"]},jQwtPlotMarker:{deps:["static","plotItem"]},jQwtLegend:{deps:["static"]},legendMenu:{deps:["static","contextMenu"]},qwtpickermachine:{deps:["static","qwteventpattern"]},jWidget:{deps:["static","jObject"]},basicWatch:{deps:["static","watch"]},curveClosestPoint:{deps:["static","widgetOverlay"]}}}),requirejs(["app/main"]),define("app",function(){});